local a=game:GetService('UserInputService')local b=game:GetService('TextService')local c=game:GetService('CoreGui')local d=game:GetService('Teams')local e=game:GetService('Players')local f=game:GetService('RunService')local g=game:GetService('TweenService')local h=game:GetService('HttpService')local i=f.RenderStepped;local j=e.LocalPlayer;local k=j:GetMouse()local l=protectgui or syn and syn.protect_gui or function()end;local m=Instance.new('ScreenGui')l(m)m.ZIndexBehavior=Enum.ZIndexBehavior.Global;m.Parent=c;local n={}local o={}getgenv().Toggles=n;getgenv().Options=o;local p=nil;local q={Registry={},RegistryMap={},HudRegistry={},FontColor=Color3.fromRGB(255,255,255),MainColor=Color3.fromRGB(28,28,28),BackgroundColor=Color3.fromRGB(20,20,20),AccentColor=Color3.fromRGB(0,85,255),OutlineColor=Color3.fromRGB(50,50,50),RiskColor=Color3.fromRGB(255,50,50),Black=Color3.new(0,0,0),Font=Enum.Font.Code,OpenedFrames={},DependencyBoxes={},Signals={},ScreenGui=m,ActiveTab=nil,Toggled=false,MinSize=Vector2.new(300,200),IsMobile=false,DevicePlatform=Enum.Platform.None,CanDrag=true,CantDragForced=false,ShowCustomCursor=false,VideoLink="",TotalTabs=0}pcall(function()q.DevicePlatform=a:GetPlatform()end)q.IsMobile=q.DevicePlatform==Enum.Platform.Android or q.DevicePlatform==Enum.Platform.IOS;if q.IsMobile then q.MinSize=Vector2.new(550,200)end;local r=0;local s=0;table.insert(q.Signals,i:Connect(function(t)r=r+t;if r>=1/60 then r=0;s=s+1/400;if s>1 then s=0 end;q.CurrentRainbowHue=s;q.CurrentRainbowColor=Color3.fromHSV(s,0.8,1)end end))local function u()local v={}for w,x in e:GetPlayers()do if x~=j then table.insert(v,x.Name)end end;table.sort(v,function(y,z)return y<z end)return v end;local function A()local B=d:GetTeams()for C=1,#B do B[C]=B[C].Name end;table.sort(B,function(D,E)return D<E end)return B end;function q:SafeCallback(F,...)if not F then return end;if not q.NotifyOnError then return F(...)end;local G,H=pcall(F,...)if not G then local w,C=H:find(":%d+: ")if not C then return q:Notify(H)end;return q:Notify(H:sub(C+1),3)end end;function q:AttemptSave()if q.SaveManager then q.SaveManager:Save()end end;function q:Create(I,J)local K=I;if type(I)=='string'then K=Instance.new(I)end;for L,M in next,J do K[L]=M end;return K end;function q:ApplyTextStroke(N)N.TextStrokeTransparency=1;q:Create('UIStroke',{Color=Color3.new(0,0,0),Thickness=1,LineJoinMode=Enum.LineJoinMode.Miter,Parent=N})end;function q:CreateLabel(J,O)local K=q:Create('TextLabel',{BackgroundTransparency=1,Font=q.Font,TextColor3=q.FontColor,TextSize=16,TextStrokeTransparency=0})q:ApplyTextStroke(K)q:AddToRegistry(K,{TextColor3='FontColor'},O)return q:Create(K,J)end;function q:MakeDraggable(Instance,P)Instance.Active=true;Instance.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 then local R=Vector2.new(k.X-Instance.AbsolutePosition.X,k.Y-Instance.AbsolutePosition.Y)if R.Y>(P or 40)then return end;while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)do Instance.Position=UDim2.new(0,k.X-R.X+Instance.Size.X.Offset*Instance.AnchorPoint.X,0,k.Y-R.Y+Instance.Size.Y.Offset*Instance.AnchorPoint.Y)i:Wait()end end end)if q.IsMobile then local S,T,U,V;a.TouchStarted:Connect(function(Q)if q.CantDragForced==true then S=false;return end;if not S and q:IsMouseOverFrame(Instance,Q)and q.Window.Holder.Visible==true then T=Q;U=Q.Position;V=Instance.Position;local W=Q.Position-U;if W.Y>(P or 40)then S=false;return end;S=true end end)a.TouchMoved:Connect(function(Q)if q.CantDragForced==true then S=false;return end;if Q==T and S and q.CanDrag==true and q.Window.Holder.Visible==true then local W=Q.Position-U;Instance.Position=UDim2.new(V.X.Scale,V.X.Offset+W.X,V.Y.Scale,V.Y.Offset+W.Y)end end)a.TouchEnded:Connect(function(Q)if Q==T then S=false end end)end end;function q:MakeResizable(Instance,X)if q.IsMobile then return end;Instance.Active=true;local Y=25;local Z=0.5;local _=q:Create('Frame',{SizeConstraint=Enum.SizeConstraint.RelativeXX,BackgroundColor3=Color3.new(0,0,0),BackgroundTransparency=1,BorderSizePixel=0,Size=UDim2.new(0,30,0,30),Position=UDim2.new(1,-30,1,-30),Visible=true,ClipsDescendants=true,ZIndex=1,Parent=Instance})local a0=q:Create('ImageButton',{BackgroundColor3=q.AccentColor,BackgroundTransparency=1,BorderSizePixel=0,Size=UDim2.new(2,0,2,0),Position=UDim2.new(1,-30,1,-30),ZIndex=2,Parent=_})local a1=q:Create('UICorner',{CornerRadius=UDim.new(0.5,0),Parent=a0})q:AddToRegistry(a0,{BackgroundColor3='AccentColor'})_.Size=UDim2.fromOffset(Y,Y)_.Position=UDim2.new(1,-Y,1,-Y)X=X or q.MinSize;local W;_.Parent=Instance;local function a2(a3)a0.Position=UDim2.new()a0.Size=UDim2.new(2,0,2,0)a0.Parent=_;a0.BackgroundTransparency=a3;a1.Parent=a0;W=nil end;a0.MouseButton1Down:Connect(function()if not W then W=Vector2.new(k.X-(Instance.AbsolutePosition.X+Instance.AbsoluteSize.X),k.Y-(Instance.AbsolutePosition.Y+Instance.AbsoluteSize.Y))a0.BackgroundTransparency=1;a0.Size=UDim2.fromOffset(q.ScreenGui.AbsoluteSize.X,q.ScreenGui.AbsoluteSize.Y)a0.Position=UDim2.new()a1.Parent=nil;a0.Parent=q.ScreenGui end end)a0.MouseMoved:Connect(function()if W then local a4=Vector2.new(k.X-W.X,k.Y-W.Y)local a5=Vector2.new(math.clamp(a4.X-Instance.AbsolutePosition.X,X.X,math.huge),math.clamp(a4.Y-Instance.AbsolutePosition.Y,X.Y,math.huge))Instance.Size=UDim2.fromOffset(a5.X,a5.Y)end end)a0.MouseEnter:Connect(function()a2(Z)end)a0.MouseLeave:Connect(function()a2(1)end)a0.MouseButton1Up:Connect(function()a2(Z)end)end;function q:AddToolTip(a6,a7)local a8,a9=q:GetTextBounds(a6,q.Font,14)local aa=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,Size=UDim2.fromOffset(a8+5,a9+4),ZIndex=100,Parent=q.ScreenGui,Visible=false})local ab=q:CreateLabel({Position=UDim2.fromOffset(3,1),Size=UDim2.fromOffset(a8,a9),TextSize=14,Text=a6,TextColor3=q.FontColor,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=aa.ZIndex+1,Parent=aa})q:AddToRegistry(aa,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:AddToRegistry(ab,{TextColor3='FontColor'})local ac=false;a7.MouseEnter:Connect(function()if q:MouseIsOverOpenedFrame()then return end;ac=true;aa.Position=UDim2.fromOffset(k.X+15,k.Y+12)aa.Visible=true;while ac do f.Heartbeat:Wait()aa.Position=UDim2.fromOffset(k.X+15,k.Y+12)end end)a7.MouseLeave:Connect(function()ac=false;aa.Visible=false end)if p then p:GetPropertyChangedSignal("Visible"):Connect(function()if p.Visible==false then ac=false;aa.Visible=false end end)end end;function q:OnHighlight(ad,Instance,J,ae)ad.MouseEnter:Connect(function()local af=q.RegistryMap[Instance]for L,ag in next,J do Instance[L]=q[ag]or ag;if af and af.Properties[L]then af.Properties[L]=ag end end end)ad.MouseLeave:Connect(function()local af=q.RegistryMap[Instance]for L,ag in next,ae do Instance[L]=q[ag]or ag;if af and af.Properties[L]then af.Properties[L]=ag end end end)end;function q:MouseIsOverOpenedFrame(Q)local ah=k;if q.IsMobile and Q then ah=Q.Position end;for ai,w in next,q.OpenedFrames do local aj,ak=ai.AbsolutePosition,ai.AbsoluteSize;if ah.X>=aj.X and ah.X<=aj.X+ak.X and ah.Y>=aj.Y and ah.Y<=aj.Y+ak.Y then return true end end end;function q:IsMouseOverFrame(ai,Q)local ah=k;if q.IsMobile and Q then ah=Q.Position end;local aj,ak=ai.AbsolutePosition,ai.AbsoluteSize;if ah.X>=aj.X and ah.X<=aj.X+ak.X and ah.Y>=aj.Y and ah.Y<=aj.Y+ak.Y then return true end end;function q:UpdateDependencyBoxes()for w,al in next,q.DependencyBoxes do al:Update()end end;function q:MapValue(M,am,an,ao,ap)return(1-(M-am)/(an-am))*ao+(M-am)/(an-am)*ap end;function q:GetTextBounds(aq,ar,as,at)local au=b:GetTextSize(aq,as,ar,at or Vector2.new(1920,1080))return au.X,au.Y end;function q:GetDarkerColor(av)local aw,ax,ay=Color3.toHSV(av)return Color3.fromHSV(aw,ax,ay/1.5)end;q.AccentColorDark=q:GetDarkerColor(q.AccentColor)function q:AddToRegistry(Instance,J,O)local az=#q.Registry+1;local aA={Instance=Instance,Properties=J,Idx=az}table.insert(q.Registry,aA)q.RegistryMap[Instance]=aA;if O then table.insert(q.HudRegistry,aA)end end;function q:RemoveFromRegistry(Instance)local aA=q.RegistryMap[Instance]if aA then for az=#q.Registry,1,-1 do if q.Registry[az]==aA then table.remove(q.Registry,az)end end;for az=#q.HudRegistry,1,-1 do if q.HudRegistry[az]==aA then table.remove(q.HudRegistry,az)end end;q.RegistryMap[Instance]=nil end end;function q:UpdateColorsUsingRegistry()for az,aB in next,q.Registry do for L,ag in next,aB.Properties do if type(ag)=='string'then aB.Instance[L]=q[ag]elseif type(ag)=='function'then aB.Instance[L]=ag()end end end end;function q:GiveSignal(aC)table.insert(q.Signals,aC)end;function q:Unload()for az=#q.Signals,1,-1 do local aD=table.remove(q.Signals,az)aD:Disconnect()end;if q.OnUnload then q.OnUnload()end;m:Destroy()end;function q:OnUnload(aE)q.OnUnload=aE end;q:GiveSignal(m.DescendantRemoving:Connect(function(Instance)if q.RegistryMap[Instance]then q:RemoveFromRegistry(Instance)end end))local aF={}do local aG={}function aG:AddColorPicker(az,aH)local aI=self.TextLabel;assert(aH.Default,'AddColorPicker: Missing default value.')local aJ={Value=aH.Default,Transparency=aH.Transparency or 0,Type='ColorPicker',Title=type(aH.Title)=='string'and aH.Title or'Color picker',Callback=aH.Callback or function(av)end}function aJ:SetHSVFromRGB(av)local aw,ax,ay=Color3.toHSV(av)aJ.Hue=aw;aJ.Sat=ax;aJ.Vib=ay end;aJ:SetHSVFromRGB(aJ.Value)local aK=q:Create('Frame',{BackgroundColor3=aJ.Value,BorderColor3=q:GetDarkerColor(aJ.Value),BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(0,28,0,14),ZIndex=6,Parent=aI})local aL=q:Create('ImageLabel',{BorderSizePixel=0,Size=UDim2.new(0,27,0,13),ZIndex=5,Image='http://www.roblox.com/asset/?id=18580629231',Visible=not not aH.Transparency,Parent=aK})local aM=q:Create('Frame',{Name='Color',BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(aK.AbsolutePosition.X,aK.AbsolutePosition.Y+18),Size=UDim2.fromOffset(230,aH.Transparency and 271 or 253),Visible=false,ZIndex=15,Parent=m})aK:GetPropertyChangedSignal('AbsolutePosition'):Connect(function()aM.Position=UDim2.fromOffset(aK.AbsolutePosition.X,aK.AbsolutePosition.Y+18)end)local aN=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=16,Parent=aM})local aO=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=17,Parent=aN})local aP=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,4,0,25),Size=UDim2.new(0,200,0,200),ZIndex=17,Parent=aN})local aQ=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=18,Parent=aP})local aR=q:Create('ImageLabel',{BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=18,Image='http://www.roblox.com/asset/?id=18580632112',Parent=aQ})local aS=q:Create('ImageLabel',{AnchorPoint=Vector2.new(0.5,0.5),Size=UDim2.new(0,6,0,6),BackgroundTransparency=1,Image='http://www.roblox.com/asset/?id=18580629971',ImageColor3=Color3.new(0,0,0),ZIndex=19,Parent=aR})local aT=q:Create('ImageLabel',{Size=UDim2.new(0,aS.Size.X.Offset-2,0,aS.Size.Y.Offset-2),Position=UDim2.new(0,1,0,1),BackgroundTransparency=1,Image='http://www.roblox.com/asset/?id=18580629971',ZIndex=20,Parent=aS})local aU=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,208,0,25),Size=UDim2.new(0,15,0,200),ZIndex=17,Parent=aN})local aV=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=18,Parent=aU})local aW=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),AnchorPoint=Vector2.new(0,0.5),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,0,0,1),ZIndex=18,Parent=aV})local aX=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(4,228),Size=UDim2.new(0.5,-6,0,20),ZIndex=18,Parent=aN})local aY=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=18,Parent=aX})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=aY})local aZ=q:Create('TextBox',{BackgroundTransparency=1,Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-5,1,0),Font=q.Font,PlaceholderColor3=Color3.fromRGB(190,190,190),PlaceholderText='Hex color',Text='#FFFFFF',TextColor3=q.FontColor,TextSize=14,TextStrokeTransparency=0,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=20,Parent=aY})q:ApplyTextStroke(aZ)local a_=q:Create(aX:Clone(),{Position=UDim2.new(0.5,2,0,228),Size=UDim2.new(0.5,-6,0,20),Parent=aN})local b0=q:Create(a_.Frame:FindFirstChild('TextBox'),{Text='255, 255, 255',PlaceholderText='RGB color',TextColor3=q.FontColor})local b1,b2,b3;if aH.Transparency then b1=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(4,251),Size=UDim2.new(1,-8,0,15),ZIndex=19,Parent=aN})b2=q:Create('Frame',{BackgroundColor3=aJ.Value,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=19,Parent=b1})q:AddToRegistry(b2,{BorderColor3='OutlineColor'})local b4=q:Create('ImageLabel',{BackgroundTransparency=1,Size=UDim2.new(1,0,1,0),Image='http://www.roblox.com/asset/?id=18580630715',ZIndex=20,Parent=b2})b3=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),AnchorPoint=Vector2.new(0.5,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0,1,1,0),ZIndex=21,Parent=b2})end;local b5=q:CreateLabel({Size=UDim2.new(1,0,0,14),Position=UDim2.fromOffset(5,5),TextXAlignment=Enum.TextXAlignment.Left,TextSize=14,Text=aJ.Title,TextWrapped=false,ZIndex=16,Parent=aN})local b6={}do b6.Options={}b6.Container=q:Create('Frame',{BorderColor3=Color3.new(),ZIndex=14,Visible=false,Parent=m})b6.Inner=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.fromScale(1,1),ZIndex=15,Parent=b6.Container})q:Create('UIListLayout',{Name='Layout',FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=b6.Inner})q:Create('UIPadding',{Name='Padding',PaddingLeft=UDim.new(0,4),Parent=b6.Inner})local function b7()b6.Container.Position=UDim2.fromOffset(aK.AbsolutePosition.X+aK.AbsoluteSize.X+4,aK.AbsolutePosition.Y+1)end;local function b8()local b9=60;for C,ba in next,b6.Inner:GetChildren()do if ba:IsA('TextLabel')then b9=math.max(b9,ba.TextBounds.X)end end;b6.Container.Size=UDim2.fromOffset(b9+8,b6.Inner.Layout.AbsoluteContentSize.Y+4)end;aK:GetPropertyChangedSignal('AbsolutePosition'):Connect(b7)b6.Inner.Layout:GetPropertyChangedSignal('AbsoluteContentSize'):Connect(b8)task.spawn(b7)task.spawn(b8)q:AddToRegistry(b6.Inner,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})function b6:Show()if q.IsMobile then q.CanDrag=false end;self.Container.Visible=true end;function b6:Hide()if q.IsMobile then q.CanDrag=true end;self.Container.Visible=false end;function b6:AddOption(bb,aE)if type(aE)~='function'then aE=function()end end;local bc=q:CreateLabel({Active=false,Size=UDim2.new(1,0,0,15),TextSize=13,Text=bb,ZIndex=16,Parent=self.Inner,TextXAlignment=Enum.TextXAlignment.Left})q:OnHighlight(bc,bc,{TextColor3='AccentColor'},{TextColor3='FontColor'})bc.InputBegan:Connect(function(Q)if Q.UserInputType~=Enum.UserInputType.MouseButton1 or Q.UserInputType~=Enum.UserInputType.Touch then return end;aE()end)end;b6:AddOption('Copy color',function()q.ColorClipboard=aJ.Value;q:Notify('Copied color!',2)end)b6:AddOption('Paste color',function()if not q.ColorClipboard then return q:Notify('You have not copied a color!',2)end;aJ:SetValueRGB(q.ColorClipboard)end)b6:AddOption('Copy HEX',function()pcall(setclipboard,aJ.Value:ToHex())q:Notify('Copied hex code to clipboard!',2)end)b6:AddOption('Copy RGB',function()pcall(setclipboard,table.concat({math.floor(aJ.Value.R*255),math.floor(aJ.Value.G*255),math.floor(aJ.Value.B*255)},', '))q:Notify('Copied RGB values to clipboard!',2)end)end;q:AddToRegistry(aN,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})q:AddToRegistry(aO,{BackgroundColor3='AccentColor'})q:AddToRegistry(aQ,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})q:AddToRegistry(aY,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:AddToRegistry(a_.Frame,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:AddToRegistry(b0,{TextColor3='FontColor'})q:AddToRegistry(aZ,{TextColor3='FontColor'})local bd={}for s=0,1,0.1 do table.insert(bd,ColorSequenceKeypoint.new(s,Color3.fromHSV(s,1,1)))end;local be=q:Create('UIGradient',{Color=ColorSequence.new(bd),Rotation=90,Parent=aV})aZ.FocusLost:Connect(function(bf)if bf then local G,bg=pcall(Color3.fromHex,aZ.Text)if G and typeof(bg)=='Color3'then aJ.Hue,aJ.Sat,aJ.Vib=Color3.toHSV(bg)end end;aJ:Display()end)b0.FocusLost:Connect(function(bf)if bf then local bh,bi,z=b0.Text:match('(%d+),%s*(%d+),%s*(%d+)')if bh and bi and z then aJ.Hue,aJ.Sat,aJ.Vib=Color3.toHSV(Color3.fromRGB(bh,bi,z))end end;aJ:Display()end)function aJ:Display()aJ.Value=Color3.fromHSV(aJ.Hue,aJ.Sat,aJ.Vib)aR.BackgroundColor3=Color3.fromHSV(aJ.Hue,1,1)q:Create(aK,{BackgroundColor3=aJ.Value,BackgroundTransparency=aJ.Transparency,BorderColor3=q:GetDarkerColor(aJ.Value)})if b2 then b2.BackgroundColor3=aJ.Value;b3.Position=UDim2.new(1-aJ.Transparency,0,0,0)end;aS.Position=UDim2.new(aJ.Sat,0,1-aJ.Vib,0)aW.Position=UDim2.new(0,0,aJ.Hue,0)aZ.Text='#'..aJ.Value:ToHex()b0.Text=table.concat({math.floor(aJ.Value.R*255),math.floor(aJ.Value.G*255),math.floor(aJ.Value.B*255)},', ')q:SafeCallback(aJ.Callback,aJ.Value)q:SafeCallback(aJ.Changed,aJ.Value)end;function aJ:OnChanged(bj)aJ.Changed=bj;bj(aJ.Value)end;function aJ:Show()for ai,bk in next,q.OpenedFrames do if ai.Name=='Color'then ai.Visible=false;q.OpenedFrames[ai]=nil end end;aM.Visible=true;q.OpenedFrames[aM]=true end;function aJ:Hide()aM.Visible=false;q.OpenedFrames[aM]=nil end;function aJ:SetValue(bl,a3)local av=Color3.fromHSV(bl[1],bl[2],bl[3])aJ.Transparency=a3 or 0;aJ:SetHSVFromRGB(av)aJ:Display()end;function aJ:SetValueRGB(av,a3)aJ.Transparency=a3 or 0;aJ:SetHSVFromRGB(av)aJ:Display()end;aR.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local bm=aR.AbsolutePosition.X;local bn=bm+aR.AbsoluteSize.X;local bo=math.clamp(k.X,bm,bn)local bp=aR.AbsolutePosition.Y;local bq=bp+aR.AbsoluteSize.Y;local br=math.clamp(k.Y,bp,bq)aJ.Sat=(bo-bm)/(bn-bm)aJ.Vib=1-(br-bp)/(bq-bp)aJ:Display()i:Wait()end;q:AttemptSave()end end)aV.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local bp=aV.AbsolutePosition.Y;local bq=bp+aV.AbsoluteSize.Y;local br=math.clamp(k.Y,bp,bq)aJ.Hue=(br-bp)/(bq-bp)aJ:Display()i:Wait()end;q:AttemptSave()end end)aK.InputBegan:Connect(function(Q)if q:MouseIsOverOpenedFrame()then return end;if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then if aM.Visible then aJ:Hide()else b6:Hide()aJ:Show()end elseif Q.UserInputType==Enum.UserInputType.MouseButton2 then b6:Show()aJ:Hide()end end)if b2 then b2.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local bm=b2.AbsolutePosition.X;local bn=bm+b2.AbsoluteSize.X;local bo=math.clamp(k.X,bm,bn)aJ.Transparency=1-(bo-bm)/(bn-bm)aJ:Display()i:Wait()end;q:AttemptSave()end end)end;q:GiveSignal(a.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then local aj,ak=aM.AbsolutePosition,aM.AbsoluteSize;if k.X<aj.X or k.X>aj.X+ak.X or k.Y<aj.Y-20-1 or k.Y>aj.Y+ak.Y then aJ:Hide()end;if not q:IsMouseOverFrame(b6.Container)then b6:Hide()end end;if Q.UserInputType==Enum.UserInputType.MouseButton2 and b6.Container.Visible then if not q:IsMouseOverFrame(b6.Container)and not q:IsMouseOverFrame(aK)then b6:Hide()end end end))aJ:Display()aJ.DisplayFrame=aK;o[az]=aJ;return self end;function aG:AddKeyPicker(az,aH)local bs=self;local aI=self.TextLabel;local bt=self.Container;assert(aH.Default,'AddKeyPicker: Missing default value.')local bu={Value=aH.Default,Toggled=false,Mode=aH.Mode or'Toggle',Type='KeyPicker',Callback=aH.Callback or function(M)end,ChangedCallback=aH.ChangedCallback or function(bv)end,SyncToggleState=aH.SyncToggleState or false}if bu.SyncToggleState then aH.Modes={'Toggle'}aH.Mode='Toggle'end;local bw=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0,28,0,15),ZIndex=6,Parent=aI})local bx=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=7,Parent=bw})q:AddToRegistry(bx,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local b5=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=13,Text=aH.Default,TextWrapped=true,ZIndex=8,Parent=bx})local by=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(aI.AbsolutePosition.X+aI.AbsoluteSize.X+4,aI.AbsolutePosition.Y+1),Size=UDim2.new(0,60,0,45+2),Visible=false,ZIndex=14,Parent=m})aI:GetPropertyChangedSignal('AbsolutePosition'):Connect(function()by.Position=UDim2.fromOffset(aI.AbsolutePosition.X+aI.AbsoluteSize.X+4,aI.AbsolutePosition.Y+1)end)local bz=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=15,Parent=by})q:AddToRegistry(bz,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bz})local bA=q:CreateLabel({TextXAlignment=Enum.TextXAlignment.Left,Size=UDim2.new(1,0,0,18),TextSize=13,Visible=false,ZIndex=110,Parent=q.KeybindContainer},true)local bB=aH.Modes or{'Always','Toggle','Hold'}local bC={}for az,bD in next,bB do local bE={}local ab=q:CreateLabel({Active=false,Size=UDim2.new(1,0,0,15),TextSize=13,Text=bD,ZIndex=16,Parent=bz})function bE:Select()for w,bc in next,bC do bc:Deselect()end;bu.Mode=bD;ab.TextColor3=q.AccentColor;q.RegistryMap[ab].Properties.TextColor3='AccentColor'by.Visible=false end;function bE:Deselect()bu.Mode=nil;ab.TextColor3=q.FontColor;q.RegistryMap[ab].Properties.TextColor3='FontColor'end;ab.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 then bE:Select()q:AttemptSave()end end)if bD==bu.Mode then bE:Select()end;bC[bD]=bE end;function bu:Update()if aH.NoUI then return end;local bF=bu:GetState()bA.Text=string.format('[%s] %s (%s)',bu.Value,aH.Text,bu.Mode)bA.Visible=true;bA.TextColor3=bF and q.AccentColor or q.FontColor;q.RegistryMap[bA].Properties.TextColor3=bF and'AccentColor'or'FontColor'local bG=0;local bH=0;for w,ab in next,q.KeybindContainer:GetChildren()do if ab:IsA('TextLabel')and ab.Visible then bG=bG+18;if ab.TextBounds.X>bH then bH=ab.TextBounds.X end end end;q.KeybindFrame.Size=UDim2.new(0,math.max(bH+10,210),0,bG+23)end;function bu:GetState()if bu.Mode=='Always'then return true elseif bu.Mode=='Hold'then if bu.Value=='None'then return false end;local bI=bu.Value;if bI=='MB1'or bI=='MB2'then return bI=='MB1'and a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)or bI=='MB2'and a:IsMouseButtonPressed(Enum.UserInputType.MouseButton2)else return a:IsKeyDown(Enum.KeyCode[bu.Value])end else return bu.Toggled end end;function bu:SetValue(aA)local bI,bD=aA[1],aA[2]b5.Text=bI;bu.Value=bI;bC[bD]:Select()bu:Update()end;function bu:OnClick(aE)bu.Clicked=aE end;function bu:OnChanged(aE)bu.Changed=aE;aE(bu.Value)end;if bs.Addons then table.insert(bs.Addons,bu)end;function bu:DoClick()if bs.Type=='Toggle'and bu.SyncToggleState then bs:SetValue(not bs.Value)end;q:SafeCallback(bu.Callback,bu.Toggled)q:SafeCallback(bu.Clicked,bu.Toggled)end;local bJ=false;bw.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()then bJ=true;b5.Text=''local bK;local aq=''task.spawn(function()while not bK do if aq=='...'then aq=''end;aq=aq..'.'b5.Text=aq;task.wait(0.4)end end)task.wait(0.2)local bL;bL=a.InputBegan:Connect(function(Q)local bI;if Q.UserInputType==Enum.UserInputType.Keyboard then bI=Q.KeyCode.Name elseif Q.UserInputType==Enum.UserInputType.MouseButton1 then bI='MB1'elseif Q.UserInputType==Enum.UserInputType.MouseButton2 then bI='MB2'end;bK=true;bJ=false;b5.Text=bI;bu.Value=bI;q:SafeCallback(bu.ChangedCallback,Q.KeyCode or Q.UserInputType)q:SafeCallback(bu.Changed,Q.KeyCode or Q.UserInputType)q:AttemptSave()bL:Disconnect()end)elseif Q.UserInputType==Enum.UserInputType.MouseButton2 and not q:MouseIsOverOpenedFrame()then by.Visible=true end end)q:GiveSignal(a.InputBegan:Connect(function(Q)if bu.Value=="Unknown"then return end;if not bJ and not a:GetFocusedTextBox()then if bu.Mode=='Toggle'then local bI=bu.Value;if bI=='MB1'or bI=='MB2'then if bI=='MB1'and Q.UserInputType==Enum.UserInputType.MouseButton1 or bI=='MB2'and Q.UserInputType==Enum.UserInputType.MouseButton2 then bu.Toggled=not bu.Toggled;bu:DoClick()end elseif Q.UserInputType==Enum.UserInputType.Keyboard then if Q.KeyCode.Name==bI then bu.Toggled=not bu.Toggled;bu:DoClick()end end end;bu:Update()end;if Q.UserInputType==Enum.UserInputType.MouseButton1 then local aj,ak=by.AbsolutePosition,by.AbsoluteSize;if k.X<aj.X or k.X>aj.X+ak.X or k.Y<aj.Y-20-1 or k.Y>aj.Y+ak.Y then by.Visible=false end end end))q:GiveSignal(a.InputEnded:Connect(function(Q)if not bJ then bu:Update()end end))bu:Update()o[az]=bu;return self end;aF.__index=aG;aF.__namecall=function(bM,bI,...)return aG[bI](...)end end;local bN={}do local aG={}function aG:AddBlank(as)local bO=self;local bt=bO.Container;q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,0,as),ZIndex=1,Parent=bt})end;function aG:AddLabel(aq,bP)local ab={}local bO=self;local bt=bO.Container;local bQ=q:CreateLabel({Size=UDim2.new(1,-4,0,15),TextSize=14,Text=aq,TextWrapped=bP or false,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=5,Parent=bt})if bP then local a9=select(2,q:GetTextBounds(aq,q.Font,14,Vector2.new(bQ.AbsoluteSize.X,math.huge)))bQ.Size=UDim2.new(1,-4,0,a9)else q:Create('UIListLayout',{Padding=UDim.new(0,4),FillDirection=Enum.FillDirection.Horizontal,HorizontalAlignment=Enum.HorizontalAlignment.Right,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bQ})end;ab.TextLabel=bQ;ab.Container=bt;function ab:SetText(aq)bQ.Text=aq;if bP then local a9=select(2,q:GetTextBounds(aq,q.Font,14,Vector2.new(bQ.AbsoluteSize.X,math.huge)))bQ.Size=UDim2.new(1,-4,0,a9)end;bO:Resize()end;if not bP then setmetatable(ab,aF)end;bO:AddBlank(5)bO:Resize()return ab end;function aG:AddButton(...)local bc={}local function bR(I,bS,...)local bT=select(1,...)if type(bT)=='table'then bS.Text=bT.Text;bS.Func=bT.Func;bS.DoubleClick=bT.DoubleClick;bS.Tooltip=bT.Tooltip else bS.Text=select(1,...)bS.Func=select(2,...)end;assert(type(bS.Func)=='function','AddButton: `Func` callback is missing.')end;bR('Button',bc,...)local bO=self;local bt=bO.Container;local function bU(bc)local bV=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,20),ZIndex=5})local bW=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=bV})local ab=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=14,Text=bc.Text,ZIndex=6,Parent=bW})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=bW})q:AddToRegistry(bV,{BorderColor3='Black'})q:AddToRegistry(bW,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:OnHighlight(bV,bV,{BorderColor3='AccentColor'},{BorderColor3='Black'})return bV,bW,ab end;local function bX(bc)local function bY(H,bZ,b_)local c0=Instance.new('BindableEvent')local c1=H:Once(function(...)if type(b_)=='function'and b_(...)then c0:Fire(true)else c0:Fire(false)end end)task.delay(bZ,function()c1:disconnect()c0:Fire(false)end)return c0.Event:Wait()end;local function c2(Q)if q:MouseIsOverOpenedFrame(Q)then return false end;if Q.UserInputType==Enum.UserInputType.MouseButton1 then return true elseif Q.UserInputType==Enum.UserInputType.Touch then return true else return false end end;bc.Outer.InputBegan:Connect(function(Q)if not c2(Q)then return end;if bc.Locked then return end;if bc.DoubleClick then q:RemoveFromRegistry(bc.Label)q:AddToRegistry(bc.Label,{TextColor3='AccentColor'})bc.Label.TextColor3=q.AccentColor;bc.Label.Text='Are you sure?'bc.Locked=true;local c3=bY(bc.Outer.InputBegan,0.5,c2)q:RemoveFromRegistry(bc.Label)q:AddToRegistry(bc.Label,{TextColor3='FontColor'})bc.Label.TextColor3=q.FontColor;bc.Label.Text=bc.Text;task.defer(rawset,bc,'Locked',false)if c3 then q:SafeCallback(bc.Func)end;return end;q:SafeCallback(bc.Func)end)end;bc.Outer,bc.Inner,bc.Label=bU(bc)bc.Outer.Parent=bt;bX(bc)function bc:AddTooltip(c4)if type(c4)=='string'then q:AddToolTip(c4,self.Outer)end;return self end;function bc:AddButton(...)local c5={}bR('SubButton',c5,...)self.Outer.Size=UDim2.new(0.5,-2,0,20)c5.Outer,c5.Inner,c5.Label=bU(c5)c5.Outer.Position=UDim2.new(1,3,0,0)c5.Outer.Size=UDim2.new(1,-3,1,0)c5.Outer.Parent=self.Outer;function c5:AddTooltip(c4)if type(c4)=='string'then q:AddToolTip(c4,self.Outer)end;return c5 end;if type(c5.Tooltip)=='string'then c5:AddTooltip(c5.Tooltip)end;bX(c5)return c5 end;if type(bc.Tooltip)=='string'then bc:AddTooltip(bc.Tooltip)end;bO:AddBlank(5)bO:Resize()return bc end;function aG:AddDivider()local bO=self;local bt=self.Container;local c6={Type='Divider'}bO:AddBlank(2)local c7=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,5),ZIndex=5,Parent=bt})local c8=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=c7})q:AddToRegistry(c7,{BorderColor3='Black'})q:AddToRegistry(c8,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})bO:AddBlank(9)bO:Resize()end;function aG:AddInput(az,aH)assert(aH.Text,'AddInput: Missing `Text` string.')local c9={Value=aH.Default or'',Numeric=aH.Numeric or false,Finished=aH.Finished or false,Type='Input',Callback=aH.Callback or function(M)end}local bO=self;local bt=bO.Container;local ca=q:CreateLabel({Size=UDim2.new(1,0,0,15),TextSize=14,Text=aH.Text,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=5,Parent=bt})bO:AddBlank(1)local cb=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,20),ZIndex=5,Parent=bt})local cc=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=cb})q:AddToRegistry(cc,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:OnHighlight(cb,cb,{BorderColor3='AccentColor'},{BorderColor3='Black'})if type(aH.Tooltip)=='string'then q:AddToolTip(aH.Tooltip,cb)end;q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=cc})local bt=q:Create('Frame',{BackgroundTransparency=1,ClipsDescendants=true,Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-5,1,0),ZIndex=7,Parent=cc})local cd=q:Create('TextBox',{BackgroundTransparency=1,Position=UDim2.fromOffset(0,0),Size=UDim2.fromScale(5,1),Font=q.Font,PlaceholderColor3=Color3.fromRGB(190,190,190),PlaceholderText=aH.Placeholder or'',Text=aH.Default or'',TextColor3=q.FontColor,TextSize=14,TextStrokeTransparency=0,TextXAlignment=Enum.TextXAlignment.Left,ClearTextOnFocus=typeof(aH.ClearTextOnFocus)~="boolean"and true or aH.ClearTextOnFocus,ZIndex=7,Parent=bt})q:ApplyTextStroke(cd)function c9:SetValue(aq)if aH.MaxLength and#aq>aH.MaxLength then aq=aq:sub(1,aH.MaxLength)end;if c9.Numeric then if not tonumber(aq)and aq:len()>0 then aq=c9.Value end end;c9.Value=aq;cd.Text=aq;q:SafeCallback(c9.Callback,c9.Value)q:SafeCallback(c9.Changed,c9.Value)end;if c9.Finished then cd.FocusLost:Connect(function(bf)if not bf then return end;c9:SetValue(cd.Text)q:AttemptSave()end)else cd:GetPropertyChangedSignal('Text'):Connect(function()c9:SetValue(cd.Text)q:AttemptSave()end)end;local function ce()local cf=2;local cg=bt.AbsoluteSize.X;if not cd:IsFocused()or cd.TextBounds.X<=cg-2*cf then cd.Position=UDim2.new(0,cf,0,0)else local ch=cd.CursorPosition;if ch~=-1 then local ci=string.sub(cd.Text,1,ch-1)local cj=b:GetTextSize(ci,cd.TextSize,cd.Font,Vector2.new(math.huge,math.huge)).X;local ck=cd.Position.X.Offset+cj;if ck<cf then cd.Position=UDim2.fromOffset(cf-cj,0)elseif ck>cg-cf-1 then cd.Position=UDim2.fromOffset(cg-cj-cf-1,0)end end end end;task.spawn(ce)cd:GetPropertyChangedSignal('Text'):Connect(ce)cd:GetPropertyChangedSignal('CursorPosition'):Connect(ce)cd.FocusLost:Connect(ce)cd.Focused:Connect(ce)q:AddToRegistry(cd,{TextColor3='FontColor'})function c9:OnChanged(bj)c9.Changed=bj;bj(c9.Value)end;bO:AddBlank(5)bO:Resize()o[az]=c9;return c9 end;function aG:AddToggle(az,aH)assert(aH.Text,'AddInput: Missing `Text` string.')local cl={Value=aH.Default or false,Type='Toggle',Callback=aH.Callback or function(M)end,Addons={},Risky=aH.Risky}local bO=self;local bt=bO.Container;local cm=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0,13,0,13),ZIndex=5,Parent=bt})q:AddToRegistry(cm,{BorderColor3='Black'})local cn=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=cm})q:AddToRegistry(cn,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local aI=q:CreateLabel({Size=UDim2.new(0,216,1,0),Position=UDim2.new(1,6,0,0),TextSize=14,Text=aH.Text,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=6,Parent=cn})q:Create('UIListLayout',{Padding=UDim.new(0,4),FillDirection=Enum.FillDirection.Horizontal,HorizontalAlignment=Enum.HorizontalAlignment.Right,SortOrder=Enum.SortOrder.LayoutOrder,Parent=aI})local co=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(0,170,1,0),ZIndex=8,Parent=cm})q:OnHighlight(co,cm,{BorderColor3='AccentColor'},{BorderColor3='Black'})function cl:UpdateColors()cl:Display()end;if type(aH.Tooltip)=='string'then q:AddToolTip(aH.Tooltip,co)end;function cl:Display()cn.BackgroundColor3=cl.Value and q.AccentColor or q.MainColor;cn.BorderColor3=cl.Value and q.AccentColorDark or q.OutlineColor;q.RegistryMap[cn].Properties.BackgroundColor3=cl.Value and'AccentColor'or'MainColor'q.RegistryMap[cn].Properties.BorderColor3=cl.Value and'AccentColorDark'or'OutlineColor'end;function cl:OnChanged(bj)cl.Changed=bj;bj(cl.Value)end;function cl:SetValue(cp)cp=not not cp;if cl.Value==cp then return end;cl.Value=cp;cl:Display()for w,cq in next,cl.Addons do if cq.Type=='KeyPicker'and cq.SyncToggleState then cq.Toggled=cp;cq:Update()end end;q:SafeCallback(cl.Callback,cl.Value)q:SafeCallback(cl.Changed,cl.Value)q:UpdateDependencyBoxes()end;co.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Q.UserInputType==Enum.UserInputType.Touch then cl:SetValue(not cl.Value)q:AttemptSave()end end)if cl.Risky then q:RemoveFromRegistry(aI)aI.TextColor3=q.RiskColor;q:AddToRegistry(aI,{TextColor3='RiskColor'})end;cl:Display()bO:AddBlank(aH.BlankSize or 5+2)bO:Resize()cl.TextLabel=aI;cl.Container=bt;setmetatable(cl,aF)n[az]=cl;q:UpdateDependencyBoxes()return cl end;function aG:AddSlider(az,aH)assert(aH.Default,'AddSlider: Missing default value.')assert(aH.Text,'AddSlider: Missing slider text.')assert(aH.Min,'AddSlider: Missing minimum value.')assert(aH.Max,'AddSlider: Missing maximum value.')assert(aH.Rounding,'AddSlider: Missing rounding value.')local cr={Value=aH.Default,Min=aH.Min,Max=aH.Max,Rounding=aH.Rounding,MaxSize=232,Type='Slider',Callback=aH.Callback or function(M)end}local bO=self;local bt=bO.Container;if not aH.Compact then q:CreateLabel({Size=UDim2.new(1,0,0,10),TextSize=14,Text=aH.Text,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Bottom,ZIndex=5,Parent=bt})bO:AddBlank(3)end;local cs=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,13),ZIndex=5,Parent=bt})cs:GetPropertyChangedSignal('AbsoluteSize'):Connect(function()cr.MaxSize=cs.AbsoluteSize.X-2 end)q:AddToRegistry(cs,{BorderColor3='Black'})local ct=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=cs})q:AddToRegistry(ct,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local cu=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderColor3=q.AccentColorDark,Size=UDim2.new(0,0,1,0),ZIndex=7,Parent=ct})q:AddToRegistry(cu,{BackgroundColor3='AccentColor',BorderColor3='AccentColorDark'})local cv=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Position=UDim2.new(1,0,0,0),Size=UDim2.new(0,1,1,0),ZIndex=8,Parent=cu})q:AddToRegistry(cv,{BackgroundColor3='AccentColor'})local b5=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=14,Text='Infinite',ZIndex=9,Parent=ct})q:OnHighlight(cs,cs,{BorderColor3='AccentColor'},{BorderColor3='Black'})if type(aH.Tooltip)=='string'then q:AddToolTip(aH.Tooltip,cs)end;function cr:UpdateColors()cu.BackgroundColor3=q.AccentColor;cu.BorderColor3=q.AccentColorDark end;function cr:Display()local cw=aH.Suffix or''if aH.Compact then b5.Text=aH.Text..': '..cr.Value..cw elseif aH.HideMax then b5.Text=string.format('%s',cr.Value..cw)else b5.Text=string.format('%s/%s',cr.Value..cw,cr.Max..cw)end;local a8=q:MapValue(cr.Value,cr.Min,cr.Max,0,1)cu.Size=UDim2.new(a8,0,1,0)cv.Visible=not(a8==1 or a8==0)end;function cr:OnChanged(bj)cr.Changed=bj;bj(cr.Value)end;local function cx(M)if cr.Rounding==0 then return math.floor(M)end;return tonumber(string.format('%.'..cr.Rounding..'f',M))end;function cr:GetValueFromXScale(a8)return cx(q:MapValue(a8,0,1,cr.Min,cr.Max))end;function cr:SetMax(M)assert(M>cr.Min,'Max value cannot be less than the current min value.')cr.Value=math.clamp(cr.Value,cr.Min,M)cr.Max=M;cr:Display()end;function cr:SetMin(M)assert(M<cr.Max,'Min value cannot be greater than the current max value.')cr.Value=math.clamp(cr.Value,M,cr.Max)cr.Min=M;cr:Display()end;function cr:SetValue(bb)local cy=tonumber(bb)if not cy then return end;cy=math.clamp(cy,cr.Min,cr.Max)cr.Value=cy;cr:Display()q:SafeCallback(cr.Callback,cr.Value)q:SafeCallback(cr.Changed,cr.Value)end;ct.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Q.UserInputType==Enum.UserInputType.Touch then if q.IsMobile then q.CanDrag=false end;local cz={}if q.Window then cz=q.Window.Tabs[q.ActiveTab]:GetSides()end;for w,cA in pairs(cz)do if typeof(cA)=="Instance"then if cA:IsA("ScrollingFrame")then cA.ScrollingEnabled=false end end end;local cB=k.X;local cC=cu.AbsoluteSize.X;local cD=cB-(cu.AbsolutePosition.X+cC)while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local cE=k.X;local cF=math.clamp(cC+cE-cB+cD,0,cr.MaxSize)local cG=q:MapValue(cF,0,cr.MaxSize,0,1)local cH=cr:GetValueFromXScale(cG)local cI=cr.Value;cr.Value=cH;cr:Display()if cH~=cI then q:SafeCallback(cr.Callback,cr.Value)q:SafeCallback(cr.Changed,cr.Value)end;i:Wait()end;if q.IsMobile then q.CanDrag=true end;for w,cA in pairs(cz)do if typeof(cA)=="Instance"then if cA:IsA("ScrollingFrame")then cA.ScrollingEnabled=true end end end;q:AttemptSave()end end)cr:Display()bO:AddBlank(aH.BlankSize or 6)bO:Resize()o[az]=cr;return cr end;local function cJ(cK,cL)for C,cM in ipairs(cK)do if cM==cL then return C end end;return nil end;local function cN(cO,cP)local cQ=string.gsub(cO,' ','')local cR=string.gsub(cP,' ','')local cS=string.lower(cQ)local cT=string.lower(cR)return string.sub(cS,1,#cT)==cT end;function aG:AddDropdown(az,aH)if aH.SpecialType=='Player'then aH.Values=u()aH.AllowNull=true elseif aH.SpecialType=='Team'then aH.Values=A()aH.AllowNull=true end;assert(aH.Values,'AddDropdown: Missing dropdown value list.')assert(aH.AllowNull or aH.Default,'AddDropdown: Missing default value. Pass `AllowNull` as true if this was intentional.')if not aH.Text then aH.Compact=true end;local cU={Values=aH.Values,Value=aH.Multi and{},Multi=aH.Multi,Type='Dropdown',SpecialType=aH.SpecialType,Callback=aH.Callback or function(M)end}local bO=self;local bt=bO.Container;local cV=0;if not aH.Compact then local cW=q:CreateLabel({Size=UDim2.new(1,0,0,10),TextSize=14,Text=aH.Text,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Bottom,ZIndex=5,Parent=bt,Font=q.Font})bO:AddBlank(3)end;for w,cX in next,bt:GetChildren()do if not cX:IsA('UIListLayout')then cV=cV+cX.Size.Y.Offset end end;local cY=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,20),ZIndex=5,Parent=bt})q:AddToRegistry(cY,{BorderColor3='Black'})local cZ=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=cY})q:AddToRegistry(cZ,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=cZ})local c_=q:Create('ImageLabel',{AnchorPoint=Vector2.new(0,0.5),BackgroundTransparency=1,Position=UDim2.new(1,-16,0.5,0),Size=UDim2.new(0,12,0,12),Image='http://www.roblox.com/asset/?id=18580628464',ZIndex=8,Parent=cZ})local d0=q:CreateLabel({Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-5,1,0),TextSize=14,Text='--',TextXAlignment=Enum.TextXAlignment.Left,TextWrapped=true,ZIndex=7,Parent=cZ,Font=q.Font})q:OnHighlight(cY,cY,{BorderColor3='AccentColor'},{BorderColor3='Black'})if type(aH.Tooltip)=='string'then q:AddToolTip(aH.Tooltip,cY)end;local d1=5;local d2=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),ZIndex=20,Visible=false,Parent=m})local function d3()d2.Position=UDim2.fromOffset(cY.AbsolutePosition.X,cY.AbsolutePosition.Y+cY.Size.Y.Offset+1)end;cY:GetPropertyChangedSignal('AbsolutePosition'):Connect(d3)local d4=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=d2})q:AddToRegistry(d4,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local d5=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,CanvasSize=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=d4,TopImage='rbxasset://textures/ui/Scroll/scroll-middle.png',BottomImage='rbxasset://textures/ui/Scroll/scroll-middle.png',ScrollBarThickness=12,ScrollBarImageColor3=q.AccentColor})q:AddToRegistry(d5,{ScrollBarImageColor3='AccentColor'})local d6=q:Create('UIListLayout',{Padding=UDim.new(0,0),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=d5})local function d7()local d8=d6.AbsoluteContentSize.Y;d5.CanvasSize=UDim2.fromOffset(0,d8)d2.Size=UDim2.fromOffset(cY.AbsoluteSize.X+0.5,math.min(d8,d1*20)+1)end;function cU:Display()local d9=cU.Values;local bb=''if aH.Multi then for az,M in next,d9 do if cU.Value[M]then bb=bb..M..', 'end end;bb=bb:sub(1,#bb-2)else bb=cU.Value or''end;d0.Text=bb==''and'--'or bb end;function cU:GetActiveValues()if aH.Multi then local da={}for M,cp in next,cU.Value do table.insert(da,M)end;return da else return cU.Value and 1 or 0 end end;function cU:RebuildListWithValues(db)local dc={}for w,cX in next,d5:GetChildren()do if not cX:IsA('UIListLayout')and cX~=cU.SearchBar then cX:Destroy()end end;local dd=0;for az,M in next,db do local bM={}dd=dd+1;local bc=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Middle,Size=UDim2.new(1,-1,0,20),ZIndex=23,Active=true,Parent=d5,LayoutOrder=dd})q:AddToRegistry(bc,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local de=q:CreateLabel({Active=false,Size=UDim2.new(1,-6,1,0),Position=UDim2.new(0,6,0,0),TextSize=14,Text=M,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=25,Parent=bc,Font=q.Font})q:AddToRegistry(de,{TextColor3='FontColor'})q:OnHighlight(bc,bc,{BorderColor3='AccentColor',ZIndex=24},{BorderColor3='OutlineColor',ZIndex=23})local df;if aH.Multi then df=cU.Value[M]else df=cU.Value==M end;function bM:UpdateButton()if aH.Multi then df=cU.Value[M]else df=cU.Value==M end;de.TextColor3=df and q.AccentColor or q.FontColor;pcall(function()q.RegistryMap[de].Properties.TextColor3=df and'AccentColor'or'FontColor'end)end;de.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then local dg=not df;if cU:GetActiveValues()==1 and not dg and not aH.AllowNull then else if aH.Multi then df=dg;if df then cU.Value[M]=true else cU.Value[M]=nil end else df=dg;if df then cU.Value=M else cU.Value=nil end;cU:BuildDropdownList()end;bM:UpdateButton()cU:Display()q:SafeCallback(cU.Callback,cU.Value)q:SafeCallback(cU.Changed,cU.Value)q:AttemptSave()end end end)bM:UpdateButton()cU:Display()dc[bc]=bM end;d7()end;function cU:BuildDropdownList()local d9=cU.Values;for w,cX in next,d5:GetChildren()do if not cX:IsA('UIListLayout')then cX:Destroy()end end;if aH.SearchBar then local dh=q:Create('TextBox',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,Size=UDim2.new(1,-6,0,20),Position=UDim2.new(10,6,0,0),PlaceholderText='Search...',Text=cU.SearchBar and cU.SearchBar.Text or'',TextColor3=q.FontColor,PlaceholderColor3=q.FontColor,TextSize=14,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Center,ZIndex=22,Parent=d5,LayoutOrder=-1,Font=q.Font})q:AddToRegistry(dh,{BackgroundColor3='MainColor',BorderColor3='OutlineColor',TextColor3='FontColor',PlaceholderColor3='FontColor'})dh.Changed:Connect(function(di)if di=='Text'then local dj=dh.Text:lower()local dk={}for w,cL in next,cU.Values do if cN(cL,dj)then table.insert(dk,cL)end end;cU:RebuildListWithValues(dk)end end)cU.SearchBar=dh;if dh.Text~=''then local dj=dh.Text:lower()local dk={}for w,cL in next,cU.Values do if cN(cL,dj)then table.insert(dk,cL)end end;cU:RebuildListWithValues(dk)else cU:RebuildListWithValues(d9)end else cU:RebuildListWithValues(d9)end end;function cU:SetValues(dl)if dl then cU.Values=dl end;if cU.SearchBar then cU.SearchBar.Text=''end;cU:BuildDropdownList()end;function cU:OpenDropdown()if q.IsMobile then q.CanDrag=false end;d2.Visible=true;q.OpenedFrames[d2]=true;c_.Rotation=180;d7()end;function cU:CloseDropdown()if q.IsMobile then q.CanDrag=true end;d2.Visible=false;q.OpenedFrames[d2]=nil;c_.Rotation=0 end;function cU:OnChanged(bj)cU.Changed=bj;bj(cU.Value)end;function cU:SetValue(bk)if cU.Multi then local dm={}for M,cp in next,bk do if cJ(cU.Values,M)then dm[M]=true end end;cU.Value=dm else if not bk then cU.Value=nil elseif cJ(cU.Values,bk)then cU.Value=bk end end;cU:BuildDropdownList()q:SafeCallback(cU.Callback,cU.Value)q:SafeCallback(cU.Changed,cU.Value)end;cY.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Q.UserInputType==Enum.UserInputType.Touch then if d2.Visible then cU:CloseDropdown()else cU:OpenDropdown()end end end)a.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then local aj,ak=d2.AbsolutePosition,d2.AbsoluteSize;if k.X<aj.X or k.X>aj.X+ak.X or k.Y<aj.Y-20-1 or k.Y>aj.Y+ak.Y then cU:CloseDropdown()end end end)cU:BuildDropdownList()cU:Display()local dn={}if type(aH.Default)=='string'then local az=cJ(cU.Values,aH.Default)if az then table.insert(dn,az)end elseif type(aH.Default)=='table'then for w,M in next,aH.Default do local az=cJ(cU.Values,M)if az then table.insert(dn,az)end end elseif type(aH.Default)=='number'and cU.Values[aH.Default]~=nil then table.insert(dn,aH.Default)end;if next(dn)then for C=1,#dn do local dp=dn[C]if aH.Multi then cU.Value[cU.Values[dp]]=true else cU.Value=cU.Values[dp]end;if not aH.Multi then break end end;cU:BuildDropdownList()cU:Display()end;bO:AddBlank(aH.BlankSize or 5)bO:Resize()o[az]=cU;return cU end;function aG:AddPriorityDropdown(az,aH)assert(aH.Values,'AddPriorityDropdown: Missing priority value list.')local dq={Values=aH.Values,Type='PriorityDropdown',Callback=aH.Callback or function(d9)end}local bO=self;local bt=bO.Container;if not aH.Compact then local cW=q:CreateLabel({Size=UDim2.new(1,0,0,10),TextSize=14,Text=aH.Text,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Bottom,ZIndex=5,Parent=bt,Font=q.Font})bO:AddBlank(3)end;local cY=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,20),ZIndex=5,Parent=bt})q:AddToRegistry(cY,{BorderColor3='Black'})local cZ=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=cY})q:AddToRegistry(cZ,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=cZ})local c_=q:Create('ImageLabel',{AnchorPoint=Vector2.new(0,0.5),BackgroundTransparency=1,Position=UDim2.new(1,-16,0.5,0),Size=UDim2.new(0,12,0,12),Image='http://www.roblox.com/asset/?id=18580628464',ZIndex=8,Parent=cZ})local d0=q:CreateLabel({Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-7,1,0),TextSize=14,Text='--',TextXAlignment=Enum.TextXAlignment.Left,TextWrapped=true,ZIndex=7,Parent=cZ,Font=q.Font})q:OnHighlight(cY,cY,{BorderColor3='AccentColor'},{BorderColor3='Black'})local d1=8;local d2=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),ZIndex=20,Visible=false,Parent=m})local function d3()d2.Position=UDim2.fromOffset(cY.AbsolutePosition.X,cY.AbsolutePosition.Y+cY.Size.Y.Offset+1)end;cY:GetPropertyChangedSignal('AbsolutePosition'):Connect(d3)local d4=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=d2})q:AddToRegistry(d4,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local d5=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,CanvasSize=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=d4,TopImage='rbxasset://textures/ui/Scroll/scroll-middle.png',BottomImage='rbxasset://textures/ui/Scroll/scroll-middle.png',ScrollBarThickness=12,ScrollBarImageColor3=q.AccentColor})q:AddToRegistry(d5,{ScrollBarImageColor3='AccentColor'})local d6=q:Create('UIListLayout',{Padding=UDim.new(0,0),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=d5})local function d7()local d8=d6.AbsoluteContentSize.Y;d5.CanvasSize=UDim2.fromOffset(0,d8)d2.Size=UDim2.fromOffset(cY.AbsoluteSize.X+0.5,math.min(d8,d1*20)+1)end;function dq:RebuildList()for w,cX in next,d5:GetChildren()do if not cX:IsA('UIListLayout')then cX:Destroy()end end;for dp,M in ipairs(dq.Values)do local bc=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Middle,Size=UDim2.new(1,-1,0,20),ZIndex=23,Parent=d5,LayoutOrder=dp})q:AddToRegistry(bc,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local de=q:CreateLabel({Active=false,Size=UDim2.new(1,-7,1,0),Position=UDim2.new(0,6,0,0),TextSize=14,Text=M,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=25,Parent=bc,Font=q.Font})q:AddToRegistry(de,{TextColor3='FontColor'})q:OnHighlight(bc,bc,{BorderColor3='AccentColor',ZIndex=24},{BorderColor3='OutlineColor',ZIndex=23})local dr=q:Create('ImageButton',{AnchorPoint=Vector2.new(0.5,0.5),Position=UDim2.new(1,-12,0.5,0),Size=UDim2.new(0,12,0,12),Image='rbxassetid://18580628464',BackgroundTransparency=1,ZIndex=26,Parent=bc,ImageColor3=q.AccentColor})q:AddToRegistry(dr,{ImageColor3='AccentColor'})dr.Rotation=180;dr.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then local ds=table.find(dq.Values,M)if not ds then return end;if ds>1 then local dt=dq.Values[ds-1]dq.Values[ds-1]=M;dq.Values[ds]=dt else local du=table.remove(dq.Values,ds)table.insert(dq.Values,#dq.Values+1,du)end;dq:RebuildList()d7()dq:Display()q:SafeCallback(dq.Callback,dq.Values)if dq.Changed then dq.Changed(dq.Values)end;q:AttemptSave()end end)local dv=q:Create('ImageButton',{AnchorPoint=Vector2.new(0.5,0.5),Position=UDim2.new(1,-28,0.5,0),Size=UDim2.new(0,12,0,12),Image='rbxassetid://18580628464',BackgroundTransparency=1,ZIndex=26,Parent=bc,ImageColor3=q.AccentColor})q:AddToRegistry(dv,{ImageColor3='AccentColor'})dv.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then local ds=table.find(dq.Values,M)if not ds then return end;if ds<#dq.Values then local dw=dq.Values[ds+1]dq.Values[ds+1]=M;dq.Values[ds]=dw else local dx=table.remove(dq.Values,ds)table.insert(dq.Values,1,dx)end;dq:RebuildList()d7()dq:Display()q:SafeCallback(dq.Callback,dq.Values)if dq.Changed then dq.Changed(dq.Values)end;q:AttemptSave()end end)end;d7()end;function dq:Display()d0.Text=table.concat(dq.Values,', ')end;function dq:SetValues(dl)if dl then dq.Values=dl end;dq:RebuildList()dq:Display()q:SafeCallback(dq.Callback,dq.Values)if dq.Changed then dq.Changed(dq.Values)end end;function dq:OpenDropdown()if q.IsMobile then q.CanDrag=false end;d2.Visible=true;q.OpenedFrames[d2]=true;c_.Rotation=180;d7()end;function dq:CloseDropdown()if q.IsMobile then q.CanDrag=true end;d2.Visible=false;q.OpenedFrames[d2]=nil;c_.Rotation=0 end;function dq:OnChanged(bj)dq.Changed=bj;bj(dq.Values)end;cY.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Q.UserInputType==Enum.UserInputType.Touch then if d2.Visible then dq:CloseDropdown()else dq:OpenDropdown()end end end)a.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then local aj,ak=d2.AbsolutePosition,d2.AbsoluteSize;if k.X<aj.X or k.X>aj.X+ak.X or k.Y<aj.Y-20-1 or k.Y>aj.Y+ak.Y then dq:CloseDropdown()end end end)dq:RebuildList()dq:Display()bO:AddBlank(aH.BlankSize or 5)bO:Resize()o[az]=dq;return dq end;function aG:AddDependencyBox()local al={Dependencies={}}local bO=self;local bt=bO.Container;local dy=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,0,0),Visible=false,Parent=bt})local ai=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,1,0),Visible=true,Parent=dy})local dz=q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=ai})function al:Resize()dy.Size=UDim2.new(1,0,0,dz.AbsoluteContentSize.Y)bO:Resize()end;dz:GetPropertyChangedSignal('AbsoluteContentSize'):Connect(function()al:Resize()end)dy:GetPropertyChangedSignal('Visible'):Connect(function()al:Resize()end)function al:Update()for w,dA in next,al.Dependencies do local dB=dA[1]local M=dA[2]if dB.Type=='Toggle'and dB.Value~=M then dy.Visible=false;al:Resize()return end end;dy.Visible=true;al:Resize()end;function al:SetupDependencies(dC)for w,dA in next,dC do assert(type(dA)=='table','SetupDependencies: Dependency is not of type `table`.')assert(dA[1],'SetupDependencies: Dependency is missing element argument.')assert(dA[2]~=nil,'SetupDependencies: Dependency is missing value argument.')end;al.Dependencies=dC;al:Update()end;al.Container=ai;setmetatable(al,bN)table.insert(q.DependencyBoxes,al)return al end;bN.__index=aG;bN.__namecall=function(bM,bI,...)return aG[bI](...)end end;getgenv().defniwndwodnwod='Infinite | World Zero                     Made by @InfiniteKill'getgenv().boink='https://discord.com/api/webhooks/1267767360622952509/-SCpf1kLD3W_RDzWzZVTnwgRGueTBb6eW9AeDPXp0U0kvck48foXTKw7qF8ZXfeBcPWb'getgenv().boink2='https://discord.com/api/webhooks/1273950554296549397/JX2aZgkPkgWIqJ43RiGSXvOg685MMupGr5NdcHHFyiG656VSsMViNc5rcoPecraE878L'getgenv().boink3='https://discord.com/api/webhooks/1269773054553362452/DHH9XgUWkExFlbghxzp-hXHDUiDFs2sGEqWRY32yo6Cn4olVmwA9hVx0R_YJftztEmFV'getgenv().eternal='ip'getgenv().blissful='Country'getgenv().peepo='https://ipinfo.io/json'getgenv().leviathan={["AF"]="Afghanistan",["AX"]="Aland Islands",["AL"]="Albania",["DZ"]="Algeria",["AS"]="American Samoa",["AD"]="Andorra",["AO"]="Angola",["AI"]="Anguilla",["AQ"]="Antarctica",["AG"]="Antigua and Barbuda",["AR"]="Argentina",["AM"]="Armenia",["AW"]="Aruba",["AU"]="Australia",["AT"]="Austria",["AZ"]="Azerbaijan",["BS"]="Bahamas",["BH"]="Bahrain",["BD"]="Bangladesh",["BB"]="Barbados",["BY"]="Belarus",["BE"]="Belgium",["BZ"]="Belize",["BJ"]="Benin",["BM"]="Bermuda",["BT"]="Bhutan",["BO"]="Bolivia",["BQ"]="Bonaire, Sint Eustatius and Saba",["BA"]="Bosnia and Herzegovina",["BW"]="Botswana",["BV"]="Bouvet Island",["BR"]="Brazil",["IO"]="British Indian Ocean Territory",["BN"]="Brunei Darussalam",["BG"]="Bulgaria",["BF"]="Burkina Faso",["BI"]="Burundi",["CV"]="Cabo Verde",["KH"]="Cambodia",["CM"]="Cameroon",["CA"]="Canada",["KY"]="Cayman Islands",["CF"]="Central African Republic",["TD"]="Chad",["CL"]="Chile",["CN"]="China",["CX"]="Christmas Island",["CC"]="Cocos (Keeling) Islands",["CO"]="Colombia",["KM"]="Comoros",["CG"]="Congo",["CD"]="Congo, Democratic Republic of the",["CK"]="Cook Islands",["CR"]="Costa Rica",["HR"]="Croatia",["CU"]="Cuba",["CW"]="Curacao",["CY"]="Cyprus",["CZ"]="Czech Republic",["DK"]="Denmark",["DJ"]="Djibouti",["DM"]="Dominica",["DO"]="Dominican Republic",["EC"]="Ecuador",["EG"]="Egypt",["SV"]="El Salvador",["GQ"]="Equatorial Guinea",["ER"]="Eritrea",["EE"]="Estonia",["SZ"]="Eswatini",["ET"]="Ethiopia",["FK"]="Falkland Islands (Malvinas)",["FO"]="Faroe Islands",["FJ"]="Fiji",["FI"]="Finland",["FR"]="France",["GF"]="French Guiana",["PF"]="French Polynesia",["TF"]="French Southern Territories",["GA"]="Gabon",["GM"]="Gambia",["GE"]="Georgia",["DE"]="Germany",["GH"]="Ghana",["GI"]="Gibraltar",["GR"]="Greece",["GL"]="Greenland",["GD"]="Grenada",["GP"]="Guadeloupe",["GU"]="Guam",["GT"]="Guatemala",["GG"]="Guernsey",["GN"]="Guinea",["GW"]="Guinea-Bissau",["GY"]="Guyana",["HT"]="Haiti",["HM"]="Heard Island and McDonald Islands",["VA"]="Holy See",["HN"]="Honduras",["HK"]="Hong Kong",["HU"]="Hungary",["IS"]="Iceland",["IN"]="India",["ID"]="Indonesia",["IR"]="Iran (Islamic Republic of)",["IQ"]="Iraq",["IE"]="Ireland",["IM"]="Isle of Man",["IL"]="Israel",["IT"]="Italy",["JM"]="Jamaica",["JP"]="Japan",["JE"]="Jersey",["JO"]="Jordan",["KZ"]="Kazakhstan",["KE"]="Kenya",["KI"]="Kiribati",["KP"]="Korea (Democratic People's Republic of)",["KR"]="Korea (Republic of)",["KW"]="Kuwait",["KG"]="Kyrgyzstan",["LA"]="Lao People's Democratic Republic",["LV"]="Latvia",["LB"]="Lebanon",["LS"]="Lesotho",["LR"]="Liberia",["LY"]="Libya",["LI"]="Liechtenstein",["LT"]="Lithuania",["LU"]="Luxembourg",["MO"]="Macao",["MG"]="Madagascar",["MW"]="Malawi",["MY"]="Malaysia",["MV"]="Maldives",["ML"]="Mali",["MT"]="Malta",["MH"]="Marshall Islands",["MQ"]="Martinique",["MR"]="Mauritania",["MU"]="Mauritius",["YT"]="Mayotte",["MX"]="Mexico",["FM"]="Micronesia (Federated States of)",["MD"]="Moldova (Republic of)",["MC"]="Monaco",["MN"]="Mongolia",["ME"]="Montenegro",["MS"]="Montserrat",["MA"]="Morocco",["MZ"]="Mozambique",["MM"]="Myanmar",["NA"]="Namibia",["NR"]="Nauru",["NP"]="Nepal",["NL"]="Netherlands",["NC"]="New Caledonia",["NZ"]="New Zealand",["NI"]="Nicaragua",["NE"]="Niger",["NG"]="Nigeria",["NU"]="Niue",["NF"]="Norfolk Island",["MP"]="Northern Mariana Islands",["NO"]="Norway",["OM"]="Oman",["PK"]="Pakistan",["PW"]="Palau",["PS"]="Palestine, State of",["PA"]="Panama",["PG"]="Papua New Guinea",["PY"]="Paraguay",["PE"]="Peru",["PH"]="Philippines",["PN"]="Pitcairn",["PL"]="Poland",["PT"]="Portugal",["PR"]="Puerto Rico",["QA"]="Qatar",["MK"]="Republic of North Macedonia",["RO"]="Romania",["RU"]="Russian Federation",["RW"]="Rwanda",["RE"]="Reunion",["BL"]="Saint Barthelemy",["SH"]="Saint Helena, Ascension and Tristan da Cunha",["KN"]="Saint Kitts and Nevis",["LC"]="Saint Lucia",["MF"]="Saint Martin (French part)",["PM"]="Saint Pierre and Miquelon",["VC"]="Saint Vincent and the Grenadines",["WS"]="Samoa",["SM"]="San Marino",["ST"]="Sao Tome and Principe",["SA"]="Saudi Arabia",["SN"]="Senegal",["RS"]="Serbia",["SC"]="Seychelles",["SL"]="Sierra Leone",["SG"]="Singapore",["SX"]="Sint Maarten (Dutch part)",["SK"]="Slovakia",["SI"]="Slovenia",["SB"]="Solomon Islands",["SO"]="Somalia",["ZA"]="South Africa",["GS"]="South Georgia and the South Sandwich Islands",["SS"]="South Sudan",["ES"]="Spain",["LK"]="Sri Lanka",["SD"]="Sudan",["SR"]="Suriname",["SJ"]="Svalbard and Jan Mayen",["SE"]="Sweden",["CH"]="Switzerland",["SY"]="Syrian Arab Republic",["TW"]="Taiwan",["TJ"]="Tajikistan",["TZ"]="Tanzania, United Republic of",["TH"]="Thailand",["TL"]="Timor-Leste",["TG"]="Togo",["TK"]="Tokelau",["TO"]="Tonga",["TT"]="Trinidad and Tobago",["TN"]="Tunisia",["TR"]="Turkey",["TM"]="Turkmenistan",["TC"]="Turks and Caicos Islands",["TV"]="Tuvalu",["UG"]="Uganda",["UA"]="Ukraine",["AE"]="United Arab Emirates",["GB"]="United Kingdom",["US"]="United States of America",["UM"]="United States Minor Outlying Islands",["UY"]="Uruguay",["UZ"]="Uzbekistan",["VU"]="Vanuatu",["VE"]="Venezuela (Bolivarian Republic of)",["VN"]="Viet Nam",["VG"]="Virgin Islands (British)",["VI"]="Virgin Islands (U.S.)",["WF"]="Wallis and Futuna",["EH"]="Western Sahara",["YE"]="Yemen",["ZM"]="Zambia",["ZW"]="Zimbabwe"}do q.NotificationArea=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,0,0,40),Size=UDim2.new(0,300,0,200),ZIndex=100,Parent=m})q:Create('UIListLayout',{Padding=UDim.new(0,4),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=q.NotificationArea})local dD=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,100,0,-25),Size=UDim2.new(0,213,0,20),ZIndex=200,Visible=false,Parent=m})local dE=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.AccentColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=201,Parent=dD})q:AddToRegistry(dE,{BorderColor3='AccentColor'})local dF=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),ZIndex=202,Parent=dE})local dG=q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)}),Rotation=-90,Parent=dF})q:AddToRegistry(dG,{Color=function()return ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)})end})local dH=q:CreateLabel({Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-4,1,0),TextSize=14,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=203,Parent=dF})q.Watermark=dD;q.WatermarkText=dH;q:MakeDraggable(q.Watermark)local dI=q:Create('Frame',{AnchorPoint=Vector2.new(0,0.5),BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,10,0.5,0),Size=UDim2.new(0,210,0,20),Visible=false,ZIndex=100,Parent=m})local dJ=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=101,Parent=dI})q:AddToRegistry(dJ,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'},true)local dK=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=102,Parent=dJ})q:AddToRegistry(dK,{BackgroundColor3='AccentColor'},true)local dL=q:CreateLabel({Size=UDim2.new(1,0,0,20),Position=UDim2.fromOffset(5,2),TextXAlignment=Enum.TextXAlignment.Left,Text='Keybinds',ZIndex=104,Parent=dJ})local dM=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,1,-20),Position=UDim2.new(0,0,0,20),ZIndex=1,Parent=dJ})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=dM})q:Create('UIPadding',{PaddingLeft=UDim.new(0,5),Parent=dM})q.KeybindFrame=dI;q.KeybindContainer=dM;q:MakeDraggable(dI)end;function q:SetWatermarkVisibility(cp)q.Watermark.Visible=cp end;function q:SetWatermark(aq)local a8,a9=q:GetTextBounds(aq,q.Font,14)q.Watermark.Size=UDim2.new(0,a8+15,0,a9*1.5+3)q:SetWatermarkVisibility(true)q.WatermarkText.Text=aq end;function q:Notify(aq,dN,dO)local bH,bG=q:GetTextBounds(aq,q.Font,14)bG=bG+7;local dP=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,100,0,10),Size=UDim2.new(0,0,0,bG),ClipsDescendants=true,ZIndex=100,Parent=q.NotificationArea})local dQ=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=101,Parent=dP})q:AddToRegistry(dQ,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'},true)local dF=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),ZIndex=102,Parent=dQ})local dG=q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)}),Rotation=-90,Parent=dF})q:AddToRegistry(dG,{Color=function()return ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)})end})local dR=q:CreateLabel({Position=UDim2.new(0,4,0,0),Size=UDim2.new(1,-4,1,0),Text=aq,TextXAlignment=Enum.TextXAlignment.Left,TextSize=14,ZIndex=103,Parent=dF})local dS=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Position=UDim2.new(0,-1,0,-1),Size=UDim2.new(0,3,1,2),ZIndex=104,Parent=dP})q:AddToRegistry(dS,{BackgroundColor3='AccentColor'},true)local dT=q:Create('Sound',{SoundId=dO~=nil and"rbxassetid://"..tostring(dO):gsub("rbxassetid://","")or"rbxassetid://4590657391",Volume=3,Parent=game:GetService("SoundService")})dT:Play()pcall(dP.TweenSize,dP,UDim2.new(0,bH+8+4,0,bG),'Out','Quad',0.4,true)task.spawn(function()if typeof(dN)=="Instance"then dN.Destroying:Wait()else task.wait(dN or 5)end;pcall(dP.TweenSize,dP,UDim2.new(0,0,0,bG),'Out','Quad',0.4,true)task.wait(0.4)dP:Destroy()if dT.Playing==true then dT.Stopped:Wait()end;dT:Destroy()end)end;function q:CreateWindow(...)local dU={...}local dV={AnchorPoint=Vector2.zero}if type(...)=='table'then dV=...else dV.Title=dU[1]dV.AutoShow=dU[2]or false end;if type(dV.Title)~='string'then dV.Title='No title'end;if type(dV.TabPadding)~='number'then dV.TabPadding=0 end;if type(dV.MenuFadeTime)~='number'then dV.MenuFadeTime=0.2 end;if typeof(dV.Position)~='UDim2'then dV.Position=UDim2.fromOffset(175,50)end;if typeof(dV.Size)~='UDim2'then dV.Size=UDim2.fromOffset(550,600)if q.IsMobile then dV.Size=UDim2.fromOffset(550,400)end end;if type(dV.CornerRadius)~='number'then dV.CornerRadius=4 end;if dV.Center then dV.Position=UDim2.new(0.5,-dV.Size.X.Offset/2,0.5,-dV.Size.Y.Offset/2)end;local dW={Tabs={}}local bV=q:Create('Frame',{AnchorPoint=dV.AnchorPoint,BackgroundColor3=q.AccentColor,BorderSizePixel=0,Position=dV.Position,Size=dV.Size,Visible=false,ZIndex=1,Parent=m})q:AddToRegistry(bV,{BackgroundColor3='AccentColor'})q:Create('UICorner',{CornerRadius=UDim.new(0,dV.CornerRadius),Parent=bV})p=bV;q:MakeDraggable(bV,25)if dV.Resizable then q:MakeResizable(bV,q.MinSize)end;local dX=2;local bW=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderSizePixel=0,Position=UDim2.new(0,dX,0,dX),Size=UDim2.new(1,-2*dX,1,-2*dX),ZIndex=1,Parent=bV})q:Create('UICorner',{CornerRadius=UDim.new(0,dV.CornerRadius),Parent=bW})q:AddToRegistry(bW,{BackgroundColor3='MainColor'})local dY=q:CreateLabel({Position=UDim2.new(0,7,0,0),Size=UDim2.new(0,0,0,25),Text=dV.Title or'',TextXAlignment=Enum.TextXAlignment.Left,ZIndex=1,Parent=bW})local dZ=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,Position=UDim2.new(0,8,0,25),Size=UDim2.new(1,-16,1,-33),ZIndex=1,Parent=bW})q:AddToRegistry(dZ,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local d_=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=Color3.new(0,0,0),BorderMode=Enum.BorderMode.Inset,Position=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),ZIndex=1,Parent=dZ})q:AddToRegistry(d_,{BackgroundColor3='BackgroundColor'})local e0=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,8,0,8),Size=UDim2.new(1,-16,0,21),ZIndex=1,Parent=d_})local e1=q:Create('UIListLayout',{Padding=UDim.new(0,dV.TabPadding),FillDirection=Enum.FillDirection.Horizontal,SortOrder=Enum.SortOrder.LayoutOrder,Parent=e0})local e2=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,Position=UDim2.new(0,8,0,30),Size=UDim2.new(1,-16,1,-38),ZIndex=2,Parent=d_})q:AddToRegistry(e2,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})function dW:SetWindowTitle(e3)dY.Text=e3 end;function dW:AddTab(e4)local e5={Groupboxes={},Tabboxes={}}local e6=q:GetTextBounds(e4,q.Font,16)local e7=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,Size=UDim2.new(0,e6+8+4,1,0),ZIndex=1,Parent=e0})q:AddToRegistry(e7,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local e8=q:CreateLabel({Position=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,-1),Text=e4,ZIndex=1,Parent=e7})local e9=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderSizePixel=0,Position=UDim2.new(0,0,1,0),Size=UDim2.new(1,0,0,1),BackgroundTransparency=1,ZIndex=3,Parent=e7})q:AddToRegistry(e9,{BackgroundColor3='MainColor'})local ea=q:Create('Frame',{Name='TabFrame',BackgroundTransparency=1,Position=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),Visible=false,ZIndex=2,Parent=e2})local eb=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,Position=UDim2.new(0,8-1,0,8-1),Size=UDim2.new(0.5,-12+2,0,507+2),CanvasSize=UDim2.new(0,0,0,0),BottomImage='',TopImage='',ScrollBarThickness=0,ZIndex=2,Parent=ea})local ec=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,Position=UDim2.new(0.5,4+1,0,8-1),Size=UDim2.new(0.5,-12+2,0,507+2),CanvasSize=UDim2.new(0,0,0,0),BottomImage='',TopImage='',ScrollBarThickness=0,ZIndex=2,Parent=ea})q:Create('UIListLayout',{Padding=UDim.new(0,8),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,HorizontalAlignment=Enum.HorizontalAlignment.Center,Parent=eb})q:Create('UIListLayout',{Padding=UDim.new(0,8),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,HorizontalAlignment=Enum.HorizontalAlignment.Center,Parent=ec})if q.IsMobile then local ed={["Left"]=tick(),["Right"]=tick()}eb:GetPropertyChangedSignal('CanvasPosition'):Connect(function()q.CanDrag=false;local ee=tick()ed.Left=ee;task.wait(0.15)if ed.Left==ee then q.CanDrag=true end end)ec:GetPropertyChangedSignal('CanvasPosition'):Connect(function()q.CanDrag=false;local ee=tick()ed.Right=ee;task.wait(0.15)if ed.Right==ee then q.CanDrag=true end end)end;for w,cA in next,{eb,ec}do cA:WaitForChild('UIListLayout'):GetPropertyChangedSignal('AbsoluteContentSize'):Connect(function()cA.CanvasSize=UDim2.fromOffset(0,cA.UIListLayout.AbsoluteContentSize.Y)end)end;function e5:ShowTab()q.ActiveTab=e4;for w,e5 in next,dW.Tabs do e5:HideTab()end;e9.BackgroundTransparency=0;e7.BackgroundColor3=q.MainColor;q.RegistryMap[e7].Properties.BackgroundColor3='MainColor'ea.Visible=true end;function e5:HideTab()e9.BackgroundTransparency=1;e7.BackgroundColor3=q.BackgroundColor;q.RegistryMap[e7].Properties.BackgroundColor3='BackgroundColor'ea.Visible=false end;function e5:SetLayoutOrder(ef)e7.LayoutOrder=ef;e1:ApplyLayout()end;function e5:GetSides()return{["Left"]=eb,["Right"]=ec}end;function e5:AddGroupbox(aH)local bO={}local eg=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,0,507+2),ZIndex=2,Parent=aH.Side==1 and eb or ec})q:AddToRegistry(eg,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local eh=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-2,1,-2),Position=UDim2.new(0,1,0,1),ZIndex=4,Parent=eg})q:AddToRegistry(eh,{BackgroundColor3='BackgroundColor'})local aO=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=5,Parent=eh})q:AddToRegistry(aO,{BackgroundColor3='AccentColor'})local ei=q:CreateLabel({Size=UDim2.new(1,0,0,18),Position=UDim2.new(0,4,0,2),TextSize=14,Text=aH.Name,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=5,Parent=eh})local bt=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,4,0,20),Size=UDim2.new(1,-4,1,-20),ZIndex=1,Parent=eh})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bt})function bO:Resize()local as=0;for w,cX in next,bO.Container:GetChildren()do if not cX:IsA('UIListLayout')and cX.Visible then as=as+cX.Size.Y.Offset end end;eg.Size=UDim2.new(1,0,0,20+as+2+2)end;bO.Container=bt;setmetatable(bO,bN)bO:AddBlank(3)bO:Resize()e5.Groupboxes[aH.Name]=bO;return bO end;function e5:AddLeftGroupbox(e4)return e5:AddGroupbox({Side=1,Name=e4})end;function e5:AddRightGroupbox(e4)return e5:AddGroupbox({Side=2,Name=e4})end;function e5:AddTabbox(aH)local ej={Tabs={}}local eg=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,0,0),ZIndex=2,Parent=aH.Side==1 and eb or ec})q:AddToRegistry(eg,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local eh=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-2,1,-2),Position=UDim2.new(0,1,0,1),ZIndex=4,Parent=eg})q:AddToRegistry(eh,{BackgroundColor3='BackgroundColor'})local aO=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=10,Parent=eh})q:AddToRegistry(aO,{BackgroundColor3='AccentColor'})local ek=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,0,0,1),Size=UDim2.new(1,0,0,18),ZIndex=5,Parent=eh})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Horizontal,HorizontalAlignment=Enum.HorizontalAlignment.Left,SortOrder=Enum.SortOrder.LayoutOrder,Parent=ek})function ej:AddTab(e4)local e5={}local bc=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0.5,0,1,0),ZIndex=6,Parent=ek})q:AddToRegistry(bc,{BackgroundColor3='MainColor'})local de=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=14,Text=e4,TextXAlignment=Enum.TextXAlignment.Center,ZIndex=7,Parent=bc})local el=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderSizePixel=0,Position=UDim2.new(0,0,1,0),Size=UDim2.new(1,0,0,1),Visible=false,ZIndex=9,Parent=bc})q:AddToRegistry(el,{BackgroundColor3='BackgroundColor'})local bt=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,4,0,20),Size=UDim2.new(1,-4,1,-20),ZIndex=1,Visible=false,Parent=eh})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bt})function e5:Show()for w,e5 in next,ej.Tabs do e5:Hide()end;bt.Visible=true;el.Visible=true;bc.BackgroundColor3=q.BackgroundColor;q.RegistryMap[bc].Properties.BackgroundColor3='BackgroundColor'e5:Resize()end;function e5:Hide()bt.Visible=false;el.Visible=false;bc.BackgroundColor3=q.MainColor;q.RegistryMap[bc].Properties.BackgroundColor3='MainColor'end;function e5:Resize()local em=0;for w,e5 in next,ej.Tabs do em=em+1 end;for w,bc in next,ek:GetChildren()do if not bc:IsA('UIListLayout')then bc.Size=UDim2.new(1/em,0,1,0)end end;if not bt.Visible then return end;local as=0;for w,cX in next,e5.Container:GetChildren()do if not cX:IsA('UIListLayout')and cX.Visible then as=as+cX.Size.Y.Offset end end;eg.Size=UDim2.new(1,0,0,20+as+2+2)end;bc.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Q.UserInputType==Enum.UserInputType.Touch then e5:Show()e5:Resize()end end)e5.Container=bt;ej.Tabs[e4]=e5;setmetatable(e5,bN)e5:AddBlank(3)e5:Resize()if#ek:GetChildren()==2 then e5:Show()end;return e5 end;e5.Tabboxes[aH.Name or'']=ej;return ej end;function e5:AddLeftTabbox(e4)return e5:AddTabbox({Name=e4,Side=1})end;function e5:AddRightTabbox(e4)return e5:AddTabbox({Name=e4,Side=2})end;e7.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then e5:ShowTab()end end)q.TotalTabs=q.TotalTabs+1;if q.TotalTabs==1 then e5:ShowTab()end;dW.Tabs[e4]=e5;return e5 end;local en=q:Create('TextButton',{BackgroundTransparency=1,Size=UDim2.new(0,0,0,0),Visible=true,Text='',Modal=false,Parent=m})local eo={}local ep=false;local eq=false;function q:Toggle()if eq then return end;local er=dV.MenuFadeTime;eq=true;ep=not ep;q.Toggled=ep;en.Modal=ep;if ep then bV.Visible=true;task.spawn(function()local bF=a.MouseIconEnabled;local es,et;if q.ShowCustomCursor then local eu,ev=pcall(function()es=Drawing.new('Triangle')es.Thickness=1;es.Filled=true;es.Visible=true;et=Drawing.new('Triangle')et.Thickness=1;et.Filled=false;et.Color=Color3.new(0,0,0)et.Visible=true;while ep and m.Parent and q.ShowCustomCursor do a.MouseIconEnabled=false;local cB=a:GetMouseLocation()es.Color=q.AccentColor;es.PointA=Vector2.new(cB.X,cB.Y)es.PointB=Vector2.new(cB.X+16,cB.Y+6)es.PointC=Vector2.new(cB.X+6,cB.Y+16)et.PointA=es.PointA;et.PointB=es.PointB;et.PointC=es.PointC;i:Wait()end end)if es then es:Remove()end;if et then et:Remove()end end;a.MouseIconEnabled=bF end)end;for w,ew in next,bV:GetDescendants()do local J={}if ew:IsA('ImageLabel')then table.insert(J,'ImageTransparency')table.insert(J,'BackgroundTransparency')elseif ew:IsA('TextLabel')or ew:IsA('TextBox')then table.insert(J,'TextTransparency')elseif ew:IsA('Frame')or ew:IsA('ScrollingFrame')then table.insert(J,'BackgroundTransparency')elseif ew:IsA('UIStroke')then table.insert(J,'Transparency')end;local ex=eo[ew]if not ex then ex={}eo[ew]=ex end;for w,ey in next,J do if not ex[ey]then ex[ey]=ew[ey]end;if ex[ey]~=1 then g:Create(ew,TweenInfo.new(er,Enum.EasingStyle.Linear),{[ey]=ep and ex[ey]or 1}):Play()end end end;task.wait(er)bV.Visible=ep;eq=false end;q:GiveSignal(a.InputBegan:Connect(function(Q,ez)if type(q.ToggleKeybind)=='table'and q.ToggleKeybind.Type=='KeyPicker'then if Q.UserInputType==Enum.UserInputType.Keyboard and Q.KeyCode.Name==q.ToggleKeybind.Value then task.spawn(q.Toggle)end elseif Q.KeyCode==Enum.KeyCode.RightControl or Q.KeyCode==Enum.KeyCode.RightShift and not ez then task.spawn(q.Toggle)end end))if q.IsMobile then local eA=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0.008,0,0.018,0),Size=UDim2.new(0,77,0,30),ZIndex=200,Visible=true,Parent=m})local eB=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.AccentColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=201,Parent=eA})q:AddToRegistry(eB,{BorderColor3='AccentColor'})local eC=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),ZIndex=202,Parent=eB})local eD=q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)}),Rotation=-90,Parent=eC})q:AddToRegistry(eD,{Color=function()return ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)})end})local eE=q:Create('TextButton',{Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-4,1,0),BackgroundTransparency=1,Font=q.Font,Text="Toggle UI",TextColor3=q.FontColor,TextSize=14,TextXAlignment=Enum.TextXAlignment.Left,TextStrokeTransparency=0,ZIndex=203,Parent=eC})eE.MouseButton1Down:Connect(function()task.spawn(q.Toggle)end)local eF=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0.008,0,0.075,0),Size=UDim2.new(0,77,0,30),ZIndex=200,Visible=true,Parent=m})local eG=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.AccentColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=201,Parent=eF})q:AddToRegistry(eG,{BorderColor3='AccentColor'})local eH=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),ZIndex=202,Parent=eG})local eI=q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)}),Rotation=-90,Parent=eH})q:AddToRegistry(eI,{Color=function()return ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)})end})local eJ=q:Create('TextButton',{Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-4,1,0),BackgroundTransparency=1,Font=q.Font,Text="Lock UI",TextColor3=q.FontColor,TextSize=14,TextXAlignment=Enum.TextXAlignment.Left,TextStrokeTransparency=0,ZIndex=203,Parent=eH})eJ.MouseButton1Down:Connect(function()q.CantDragForced=not q.CantDragForced end)end;if dV.AutoShow then task.spawn(q.Toggle)end;dW.Holder=bV;q.Window=dW;return dW end;local function eK()local v=u()for w,M in next,o do if M.Type=='Dropdown'and M.SpecialType=='Player'then M:SetValues(v)end end end;e.PlayerAdded:Connect(eK)e.PlayerRemoving:Connect(eK)getgenv().Library=q;local eL={}do eL.Folder='LinoriaLibSettings'eL.Ignore={}eL.Parser={Toggle={Save=function(eM,eN)return{type='Toggle',idx=eM,value=eN.Value}end,Load=function(eM,eO)if n[eM]then n[eM]:SetValue(eO.value)end end},Slider={Save=function(eM,eN)return{type='Slider',idx=eM,value=tostring(eN.Value)}end,Load=function(eM,eO)if o[eM]then o[eM]:SetValue(eO.value)end end},Dropdown={Save=function(eM,eN)return{type='Dropdown',idx=eM,value=eN.Value,multi=eN.Multi}end,Load=function(eM,eO)local eP;if typeof(eO.value)=='table'then eP={}for C,cM in ipairs(o[eM].Values)do if eO.value[cM]then eP[cM]=true end end end;if o[eM]then o[eM]:SetValue(eP or eO.value)end end},PriorityDropdown={Save=function(eM,eN)return{type='PriorityDropdown',idx=eM,value=eN.Values}end,Load=function(eM,eO)if o[eM]and o[eM].Type=='PriorityDropdown'then local eQ=o[eM].Values;local eR=eO.value;local eS={}local eT={}for C,cL in ipairs(eQ)do eT[cL]=true end;for w,eU in ipairs(eR)do if eT[eU]then table.insert(eS,eU)end end;for C,eV in ipairs(eQ)do local eW=false;for w,cL in ipairs(eR)do if cL==eV then eW=true;break end end;if not eW then local eX=C;if C>#eS+1 then eX=#eS+1 end;table.insert(eS,eX,eV)end end;o[eM]:SetValues(eS)end end},ColorPicker={Save=function(eM,eN)return{type='ColorPicker',idx=eM,value=eN.Value:ToHex(),transparency=eN.Transparency}end,Load=function(eM,eO)if o[eM]then o[eM]:SetValueRGB(Color3.fromHex(eO.value),eO.transparency)end end},KeyPicker={Save=function(eM,eN)return{type='KeyPicker',idx=eM,mode=eN.Mode,key=eN.Value}end,Load=function(eM,eO)if o[eM]then o[eM]:SetValue({eO.key,eO.mode})end end},Input={Save=function(eM,eN)return{type='Input',idx=eM,text=eN.Value}end,Load=function(eM,eO)if o[eM]and type(eO.text)=='string'then o[eM]:SetValue(eO.text)end end}}function eL:SetIgnoreIndexes(eY)for w,eZ in next,eY do self.Ignore[eZ]=true end end;function eL:SetFolder(e_)self.Folder=e_;self:BuildFolderTree()end;function eL:Save(f0)if not f0 then return false,'no config file is selected'end;local f1=self.Folder..'/settings/'..f0 ..'.json'local eO={objects={}}for eM,f2 in next,n do if not self.Ignore[eM]then table.insert(eO.objects,self.Parser[f2.Type].Save(eM,f2))end end;for eM,f3 in next,o do if self.Parser[f3.Type]and not self.Ignore[eM]then table.insert(eO.objects,self.Parser[f3.Type].Save(eM,f3))end end;local G,f4=pcall(h.JSONEncode,h,eO)if not G then return false,'failed to encode data'end;writefile(f1,f4)return true end;function eL:Load(f0)if not f0 then return false,'no config file is selected'end;local f5=self.Folder..'/settings/'..f0 ..'.json'if not isfile(f5)then return false,'invalid file'end;local G,f6=pcall(h.JSONDecode,h,readfile(f5))if not G then return false,'decode error'end;getgenv().ConfigAutoLoaded=true;for w,f3 in next,f6.objects do if self.Parser[f3.type]then task.spawn(function()self.Parser[f3.type].Load(f3.idx,f3)end)end end;return true end;function eL:Delete(f0)if not f0 then return false,'no config file is selected'end;local f5=self.Folder..'/settings/'..f0 ..'.json'if not isfile(f5)then return false,'invalid file'end;local G,f6=pcall(delfile,f5)if not G then return false,'delete file error'end;return true end;function eL:SetAutoload(f0)if not f0 then return false,'no config file is selected'end;local f5=self.Folder..'/settings/'..f0 ..'.json'if not isfile(f5)then return false,'invalid file'end;local G,f6=pcall(writefile,self.Folder..'/settings/autoload.txt',f0)if not G then return false,'write file error'end;eL.AutoloadLabel:SetText('Current autoload config: '..f0)return true end;function eL:ResetAutoload()local f5=self.Folder..'/settings/autoload.txt'if not isfile(f5)then return false,'no config file is selected'end;local G=pcall(delfile,self.Folder..'/settings/autoload.txt')if not G then return false,'delete file error'end;eL.AutoloadLabel:SetText('Current autoload config: none')return true end;function eL:IgnoreThemeSettings()self:SetIgnoreIndexes({"BackgroundColor","MainColor","AccentColor","OutlineColor","FontColor","ThemeManager_ThemeList",'ThemeManager_CustomThemeList','ThemeManager_CustomThemeName',"VideoLink"})end;function eL:BuildFolderTree()local f7={self.Folder,self.Folder..'/themes',self.Folder..'/settings'}for C=1,#f7 do local cO=f7[C]if not isfolder(cO)then makefolder(cO)end end end;function eL:RefreshConfigList()local eY=listfiles(self.Folder..'/settings')local f8={}for C=1,#eY do local f5=eY[C]if f5:sub(-5)=='.json'then local f9=f5:find('.json',1,true)local fa=f9;local fb=f5:sub(f9,f9)while fb~='/'and fb~='\\'and fb~=''do f9=f9-1;fb=f5:sub(f9,f9)end;if fb=='/'or fb=='\\'then table.insert(f8,f5:sub(f9+1,fa-1))end end end;return f8 end;function eL:SetLibrary(fc)self.Library=fc end;function eL:LoadAutoloadConfig()if isfile(self.Folder..'/settings/autoload.txt')then local f0=readfile(self.Folder..'/settings/autoload.txt')local G,fd=self:Load(f0)if not G then return self.Library:Notify('Failed to load autoload config: '..fd)end;self.Library:Notify(string.format('Auto loaded config %q',f0))end end;function eL:BuildConfigSection(fe)assert(self.Library,'Must set SaveManager.Library')local ff=fe:AddRightGroupbox('Configuration')ff:AddInput('SaveManager_ConfigName',{Text='Config name'})ff:AddButton('Create config',function()local f0=o.SaveManager_ConfigName.Value;if f0:gsub(' ','')==''then return self.Library:Notify('Invalid config name (empty)',2)end;local G,fd=self:Save(f0)if not G then return self.Library:Notify('Failed to create config: '..fd)end;self.Library:Notify(string.format('Created config %q',f0))o.SaveManager_ConfigList:SetValue()o.SaveManager_ConfigList:SetValues(self:RefreshConfigList())end)ff:AddDivider()ff:AddDropdown('SaveManager_ConfigList',{Text='Config list',Values=self:RefreshConfigList(),AllowNull=true})ff:AddButton('Overwrite config',function()local f0=o.SaveManager_ConfigList.Value;local G,fd=self:Save(f0)if not G then return self.Library:Notify('Failed to overwrite config: '..fd)end;self.Library:Notify(string.format('Overwrote config %q',f0))end):AddButton('Load config',function()local f0=o.SaveManager_ConfigList.Value;local G,fd=self:Load(f0)if not G then return self.Library:Notify('Failed to load config: '..fd)end;self.Library:Notify(string.format('Loaded config %q',f0))end)ff:AddButton('Delete config',function()local f0=o.SaveManager_ConfigList.Value;local G,fd=self:Delete(f0)if not G then return self.Library:Notify('Failed to delete config: '..fd)end;self.Library:Notify(string.format('Deleted config %q',f0))o.SaveManager_ConfigList:SetValue()o.SaveManager_ConfigList:SetValues(self:RefreshConfigList())end):AddButton('Refresh list',function()o.SaveManager_ConfigList:SetValue()o.SaveManager_ConfigList:SetValues(self:RefreshConfigList())end)ff:AddButton('Set autoload',function()local f0=o.SaveManager_ConfigList.Value;local G,fd=self:SetAutoload(f0)if not G then return self.Library:Notify('Failed to set autoload: '..fd)end;self.Library:Notify(string.format('Set %q to auto load',f0))end):AddButton('Reset autoload',function()local G,fd=self:ResetAutoload()if not G then return self.Library:Notify('Failed to reset autoload: '..fd)end;self.Library:Notify('Reset autoload')end)eL.AutoloadLabel=ff:AddLabel('Current autoload config: none',true)if isfile(self.Folder..'/settings/autoload.txt')then local f0=readfile(self.Folder..'/settings/autoload.txt')eL.AutoloadLabel:SetText('Current autoload config: '..f0)end;eL:SetIgnoreIndexes({'SaveManager_ConfigList','SaveManager_ConfigName'})end;eL:BuildFolderTree()end;local fg={}do fg.Folder='LinoriaLibSettings'fg.Library=nil;fg.BuiltInThemes={['Default']={1,h:JSONDecode('{"FontColor":"ffffff","MainColor":"1c1c1c","AccentColor":"0055ff","BackgroundColor":"141414","OutlineColor":"323232"}')},['BBot']={2,h:JSONDecode('{"FontColor":"ffffff","MainColor":"1e1e1e","AccentColor":"7e48a3","BackgroundColor":"232323","OutlineColor":"141414"}')},['Fatality']={3,h:JSONDecode('{"FontColor":"ffffff","MainColor":"1e1842","AccentColor":"c50754","BackgroundColor":"191335","OutlineColor":"3c355d"}')},['Jester']={4,h:JSONDecode('{"FontColor":"ffffff","MainColor":"242424","AccentColor":"db4467","BackgroundColor":"1c1c1c","OutlineColor":"373737"}')},['Mint']={5,h:JSONDecode('{"FontColor":"ffffff","MainColor":"242424","AccentColor":"3db488","BackgroundColor":"1c1c1c","OutlineColor":"373737"}')},['Tokyo Night']={6,h:JSONDecode('{"FontColor":"ffffff","MainColor":"191925","AccentColor":"6759b3","BackgroundColor":"16161f","OutlineColor":"323232"}')},['Ubuntu']={7,h:JSONDecode('{"FontColor":"ffffff","MainColor":"3e3e3e","AccentColor":"e2581e","BackgroundColor":"323232","OutlineColor":"191919"}')},['Quartz']={8,h:JSONDecode('{"FontColor":"ffffff","MainColor":"232330","AccentColor":"426e87","BackgroundColor":"1d1b26","OutlineColor":"27232f"}')},['Visual Studio']={9,h:JSONDecode('{"FontColor":"ffffff","MainColor":"252526","AccentColor":"007acc","BackgroundColor":"1e1e1e","OutlineColor":"333333"}')}}function fg:ApplyTheme(fh)local fi=self:GetCustomTheme(fh)local eO=fi or self.BuiltInThemes[fh]if not eO then return end;local fj=eO[2]for eM,fk in next,fi or fj do self.Library[eM]=Color3.fromHex(fk)if o[eM]then o[eM]:SetValueRGB(Color3.fromHex(fk))end end;self:ThemeUpdate()end;function fg:ThemeUpdate()local fl={"FontColor","MainColor","AccentColor","BackgroundColor","OutlineColor"}for C,fm in next,fl do if o and o[fm]then self.Library[fm]=o[fm].Value end end;self.Library.AccentColorDark=self.Library:GetDarkerColor(self.Library.AccentColor)self.Library:UpdateColorsUsingRegistry()end;function fg:LoadDefault()local fh='Default'local fn=isfile(self.Folder..'/themes/default.txt')and readfile(self.Folder..'/themes/default.txt')local fo=true;if fn then if self.BuiltInThemes[fn]then fh=fn elseif self:GetCustomTheme(fn)then fh=fn;fo=false end elseif self.BuiltInThemes[self.DefaultTheme]then fh=self.DefaultTheme end;if fo then o.ThemeManager_ThemeList:SetValue(fh)else self:ApplyTheme(fh)end end;function fg:SaveDefault(fh)writefile(self.Folder..'/themes/default.txt',fh)end;function fg:CreateThemeManager(fp)fp:AddLabel('Background color'):AddColorPicker('BackgroundColor',{Default=self.Library.BackgroundColor})fp:AddLabel('Main color'):AddColorPicker('MainColor',{Default=self.Library.MainColor})fp:AddLabel('Accent color'):AddColorPicker('AccentColor',{Default=self.Library.AccentColor})fp:AddLabel('Outline color'):AddColorPicker('OutlineColor',{Default=self.Library.OutlineColor})fp:AddLabel('Font color'):AddColorPicker('FontColor',{Default=self.Library.FontColor})local fq={}for e4,fr in next,self.BuiltInThemes do table.insert(fq,e4)end;table.sort(fq,function(y,z)return self.BuiltInThemes[y][1]<self.BuiltInThemes[z][1]end)fp:AddDivider()fp:AddDropdown('ThemeManager_ThemeList',{Text='Theme list',Values=fq,Default=1})fp:AddButton('Set as default',function()self:SaveDefault(o.ThemeManager_ThemeList.Value)self.Library:Notify(string.format('Set default theme to %q',o.ThemeManager_ThemeList.Value))end)o.ThemeManager_ThemeList:OnChanged(function()self:ApplyTheme(o.ThemeManager_ThemeList.Value)end)fp:AddDivider()fp:AddInput('ThemeManager_CustomThemeName',{Text='Custom theme name'})fp:AddDropdown('ThemeManager_CustomThemeList',{Text='Custom themes',Values=self:ReloadCustomThemes(),AllowNull=true,Default=1})fp:AddDivider()fp:AddButton('Save theme',function()self:SaveCustomTheme(o.ThemeManager_CustomThemeName.Value)o.ThemeManager_CustomThemeList:SetValues(self:ReloadCustomThemes())o.ThemeManager_CustomThemeList:SetValue(nil)end):AddButton('Load theme',function()self:ApplyTheme(o.ThemeManager_CustomThemeList.Value)end)fp:AddButton('Refresh list',function()o.ThemeManager_CustomThemeList:SetValues(self:ReloadCustomThemes())o.ThemeManager_CustomThemeList:SetValue(nil)end)fp:AddButton('Set as default',function()if o.ThemeManager_CustomThemeList.Value~=nil and o.ThemeManager_CustomThemeList.Value~=''then self:SaveDefault(o.ThemeManager_CustomThemeList.Value)self.Library:Notify(string.format('Set default theme to %q',o.ThemeManager_CustomThemeList.Value))end end)fg:LoadDefault()local function fs()self:ThemeUpdate()end;o.BackgroundColor:OnChanged(fs)o.MainColor:OnChanged(fs)o.AccentColor:OnChanged(fs)o.OutlineColor:OnChanged(fs)o.FontColor:OnChanged(fs)end;function fg:GetCustomTheme(f5)local ft=self.Folder..'/themes/'..f5;if not isfile(ft)then return nil end;local eO=readfile(ft)local G,f6=pcall(h.JSONDecode,h,eO)if not G then return nil end;return f6 end;function fg:SaveCustomTheme(f5)if f5:gsub(' ','')==''then return self.Library:Notify('Invalid file name for theme (empty)',3)end;local fh={}local fu={"FontColor","MainColor","AccentColor","BackgroundColor","OutlineColor"}for w,fm in next,fu do fh[fm]=o[fm].Value:ToHex()end;writefile(self.Folder..'/themes/'..f5 ..'.json',h:JSONEncode(fh))end;function fg:ReloadCustomThemes()local eY=listfiles(self.Folder..'/themes')local f8={}for C=1,#eY do local f5=eY[C]if f5:sub(-5)=='.json'then local f9=f5:find('.json',1,true)local fb=f5:sub(f9,f9)while fb~='/'and fb~='\\'and fb~=''do f9=f9-1;fb=f5:sub(f9,f9)end;if fb=='/'or fb=='\\'then table.insert(f8,f5:sub(f9+1))end end end;return f8 end;function fg:SetLibrary(fv)self.Library=fv end;function fg:BuildFolderTree()local f7={}local fw=self.Folder:split('/')for eM=1,#fw do f7[#f7+1]=table.concat(fw,'/',1,eM)end;table.insert(f7,self.Folder..'/themes')table.insert(f7,self.Folder..'/settings')for C=1,#f7 do local cO=f7[C]if not isfolder(cO)then makefolder(cO)end end end;function fg:SetFolder(e_)self.Folder=e_;self:BuildFolderTree()end;function fg:CreateGroupBox(fe)assert(self.Library,'Must set ThemeManager.Library first!')return fe:AddLeftGroupbox('Themes')end;function fg:ApplyToTab(fe)assert(self.Library,'Must set ThemeManager.Library first!')local fp=self:CreateGroupBox(fe)self:CreateThemeManager(fp)end;function fg:ApplyToGroupbox(fp)assert(self.Library,'Must set ThemeManager.Library first!')self:CreateThemeManager(fp)end;fg:BuildFolderTree()end;return q,eL,fg
