local a=game:GetService('UserInputService')local b=game:GetService('TextService')local c=game:GetService('CoreGui')local d=game:GetService('Teams')local e=game:GetService('Players')local f=game:GetService('RunService')local g=game:GetService('TweenService')local h=game:GetService('HttpService')local i=f.RenderStepped;local j=e.LocalPlayer;local k=j:GetMouse()local l=protectgui or syn and syn.protect_gui or function()end;local m=Instance.new('ScreenGui')l(m)m.ZIndexBehavior=Enum.ZIndexBehavior.Global;m.Parent=c;local n={}local o={}getgenv().Toggles=n;getgenv().Options=o;local p=nil;local q={Registry={},RegistryMap={},HudRegistry={},FontColor=Color3.fromRGB(255,255,255),MainColor=Color3.fromRGB(28,28,28),BackgroundColor=Color3.fromRGB(20,20,20),AccentColor=Color3.fromRGB(0,85,255),OutlineColor=Color3.fromRGB(50,50,50),RiskColor=Color3.fromRGB(255,50,50),Black=Color3.new(0,0,0),Font=Enum.Font.Code,OpenedFrames={},DependencyBoxes={},Signals={},ScreenGui=m,ActiveTab=nil,Toggled=false,MinSize=Vector2.new(300,200),IsMobile=false,DevicePlatform=Enum.Platform.None,CanDrag=true,CantDragForced=false,ShowCustomCursor=false,VideoLink="",TotalTabs=0}pcall(function()q.DevicePlatform=a:GetPlatform()end)q.IsMobile=q.DevicePlatform==Enum.Platform.Android or q.DevicePlatform==Enum.Platform.IOS;if q.IsMobile then q.MinSize=Vector2.new(550,200)end;local r=0;local s=0;table.insert(q.Signals,i:Connect(function(t)r=r+t;if r>=1/60 then r=0;s=s+1/400;if s>1 then s=0 end;q.CurrentRainbowHue=s;q.CurrentRainbowColor=Color3.fromHSV(s,0.8,1)end end))local function u()local v={}for w,x in e:GetPlayers()do if x~=j then table.insert(v,x.Name)end end;table.sort(v,function(y,z)return y<z end)return v end;local function A()local B=d:GetTeams()for C=1,#B do B[C]=B[C].Name end;table.sort(B,function(D,E)return D<E end)return B end;function q:SafeCallback(F,...)if not F then return end;if not q.NotifyOnError then return F(...)end;local G,H=pcall(F,...)if not G then local w,C=H:find(":%d+: ")if not C then return q:Notify(H)end;return q:Notify(H:sub(C+1),3)end end;function q:AttemptSave()if q.SaveManager then q.SaveManager:Save()end end;function q:Create(I,J)local K=I;if type(I)=='string'then K=Instance.new(I)end;for L,M in next,J do K[L]=M end;return K end;function q:ApplyTextStroke(N)N.TextStrokeTransparency=1;q:Create('UIStroke',{Color=Color3.new(0,0,0),Thickness=1,LineJoinMode=Enum.LineJoinMode.Miter,Parent=N})end;function q:CreateLabel(J,O)local K=q:Create('TextLabel',{BackgroundTransparency=1,Font=q.Font,TextColor3=q.FontColor,TextSize=16,TextStrokeTransparency=0})q:ApplyTextStroke(K)q:AddToRegistry(K,{TextColor3='FontColor'},O)return q:Create(K,J)end;function q:MakeDraggable(P,Q,R,S)Q=Q or P;S=tonumber(S)or 0;R=R or 40;P.Active=true;local function T(U,V)local W=U.AbsolutePosition;local X=U.AbsoluteSize;return V.X>=W.X and V.X<=W.X+X.X and V.Y>=W.Y and V.Y<=W.Y+X.Y end;P.InputBegan:Connect(function(Y)if Y.UserInputType~=Enum.UserInputType.MouseButton1 then return end;local Z=k.Y-P.AbsolutePosition.Y;if Z>R then return end;if S>0 then local _=tick()while tick()-_<S do if not a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)then return end;if not T(P,Vector2.new(k.X,k.Y))then return end;i:Wait()end end;local a0=Vector2.new(k.X-Q.AbsolutePosition.X,k.Y-Q.AbsolutePosition.Y)while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)do Q.Position=UDim2.new(0,k.X-a0.X+Q.Size.X.Offset*Q.AnchorPoint.X,0,k.Y-a0.Y+Q.Size.Y.Offset*Q.AnchorPoint.Y)i:Wait()end end)if q.IsMobile then local a1=false;local a2=nil;local a3=nil;local a4=nil;a.TouchStarted:Connect(function(a5)if q.CantDragForced==true then a1=false;return end;if a1 or not q:IsMouseOverFrame(P,a5)or q.Window.Holder.Visible~=true then return end;local Z=a5.Position.Y-P.AbsolutePosition.Y;if Z>R then return end;a2=a5;a3=a5.Position;a4=Q.Position;if S>0 then local _=tick()while tick()-_<S do if not a2 then return end;if not q:IsMouseOverFrame(P,a2)then return end;i:Wait()end end;a1=true end)a.TouchMoved:Connect(function(a5)if q.CantDragForced==true then a1=false;return end;if a5~=a2 or not a1 or q.CanDrag~=true or q.Window.Holder.Visible~=true then return end;local a6=a5.Position-a3;Q.Position=UDim2.new(a4.X.Scale,a4.X.Offset+a6.X,a4.Y.Scale,a4.Y.Offset+a6.Y)end)a.TouchEnded:Connect(function(a5)if a5==a2 then a1=false;a2=nil end end)end end;function q:MakeResizable(Instance,a7)Instance.Active=true;local a8=25;local a9=0.5;local aa=q:Create('Frame',{SizeConstraint=Enum.SizeConstraint.RelativeXX,BackgroundColor3=Color3.new(0,0,0),BackgroundTransparency=1,BorderSizePixel=0,Size=UDim2.new(0,30,0,30),Position=UDim2.new(1,-30,1,-30),Visible=true,ClipsDescendants=true,ZIndex=1,Parent=Instance})local ab=q:Create('ImageButton',{BackgroundColor3=q.AccentColor,BackgroundTransparency=1,BorderSizePixel=0,Size=UDim2.new(2,0,2,0),Position=UDim2.new(1,-30,1,-30),ZIndex=2,Parent=aa})local ac=q:Create('UICorner',{CornerRadius=UDim.new(0.5,0),Parent=ab})q:AddToRegistry(ab,{BackgroundColor3='AccentColor'})aa.Size=UDim2.fromOffset(a8,a8)aa.Position=UDim2.new(1,-a8,1,-a8)a7=a7 or q.MinSize;local ad;aa.Parent=Instance;local function ae(af)ab.Position=UDim2.new()ab.Size=UDim2.new(2,0,2,0)ab.Parent=aa;ab.BackgroundTransparency=af;ac.Parent=ab;ad=nil end;ab.MouseButton1Down:Connect(function()if not ad then ad=Vector2.new(k.X-(Instance.AbsolutePosition.X+Instance.AbsoluteSize.X),k.Y-(Instance.AbsolutePosition.Y+Instance.AbsoluteSize.Y))ab.BackgroundTransparency=1;ab.Size=UDim2.fromOffset(q.ScreenGui.AbsoluteSize.X,q.ScreenGui.AbsoluteSize.Y)ab.Position=UDim2.new()ac.Parent=nil;ab.Parent=q.ScreenGui end end)ab.InputBegan:Connect(function(a5)if a5.UserInputType==Enum.UserInputType.Touch and not ad then local ag=a5.Position;ad=Vector2.new(ag.X-(Instance.AbsolutePosition.X+Instance.AbsoluteSize.X),ag.Y-(Instance.AbsolutePosition.Y+Instance.AbsoluteSize.Y))ab.BackgroundTransparency=1;ab.Size=UDim2.fromOffset(q.ScreenGui.AbsoluteSize.X,q.ScreenGui.AbsoluteSize.Y)ab.Position=UDim2.new()ac.Parent=nil;ab.Parent=q.ScreenGui end end)ab.MouseMoved:Connect(function()if ad then local ah=Vector2.new(k.X-ad.X,k.Y-ad.Y)local ai=Vector2.new(math.clamp(ah.X-Instance.AbsolutePosition.X,a7.X,math.huge),math.clamp(ah.Y-Instance.AbsolutePosition.Y,a7.Y,math.huge))Instance.Size=UDim2.fromOffset(ai.X,ai.Y)end end)ab.InputChanged:Connect(function(a5)if ad and a5.UserInputType==Enum.UserInputType.Touch then local ag=a5.Position;local ah=Vector2.new(ag.X-ad.X,ag.Y-ad.Y)local ai=Vector2.new(math.clamp(ah.X-Instance.AbsolutePosition.X,a7.X,math.huge),math.clamp(ah.Y-Instance.AbsolutePosition.Y,a7.Y,math.huge))Instance.Size=UDim2.fromOffset(ai.X,ai.Y)end end)ab.MouseEnter:Connect(function()ae(a9)end)ab.MouseLeave:Connect(function()ae(1)end)ab.MouseButton1Up:Connect(function()ae(a9)end)ab.InputEnded:Connect(function(a5)if a5.UserInputType==Enum.UserInputType.Touch then ae(a9)end end)end;function q:AddToolTip(aj,ak)local al,am=q:GetTextBounds(aj,q.Font,14)local an=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,Size=UDim2.fromOffset(al+5,am+4),ZIndex=100,Parent=q.ScreenGui,Visible=false})local ao=q:CreateLabel({Position=UDim2.fromOffset(3,1),Size=UDim2.fromOffset(al,am),TextSize=14,Text=aj,TextColor3=q.FontColor,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=an.ZIndex+1,Parent=an})q:AddToRegistry(an,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:AddToRegistry(ao,{TextColor3='FontColor'})local ap=false;ak.MouseEnter:Connect(function()if q:MouseIsOverOpenedFrame()then return end;ap=true;an.Position=UDim2.fromOffset(k.X+15,k.Y+12)an.Visible=true;while ap do f.Heartbeat:Wait()an.Position=UDim2.fromOffset(k.X+15,k.Y+12)end end)ak.MouseLeave:Connect(function()ap=false;an.Visible=false end)if p then p:GetPropertyChangedSignal("Visible"):Connect(function()if p.Visible==false then ap=false;an.Visible=false end end)end end;function q:OnHighlight(aq,Instance,J,ar)aq.MouseEnter:Connect(function()local as=q.RegistryMap[Instance]for L,at in next,J do Instance[L]=q[at]or at;if as and as.Properties[L]then as.Properties[L]=at end end end)aq.MouseLeave:Connect(function()local as=q.RegistryMap[Instance]for L,at in next,ar do Instance[L]=q[at]or at;if as and as.Properties[L]then as.Properties[L]=at end end end)end;function q:MouseIsOverOpenedFrame(Y)local au=k;if q.IsMobile and Y then au=Y.Position end;for av,w in next,q.OpenedFrames do local aw,ax=av.AbsolutePosition,av.AbsoluteSize;if au.X>=aw.X and au.X<=aw.X+ax.X and au.Y>=aw.Y and au.Y<=aw.Y+ax.Y then return true end end end;function q:IsMouseOverFrame(av,Y)local au=k;if q.IsMobile and Y then au=Y.Position end;local aw,ax=av.AbsolutePosition,av.AbsoluteSize;if au.X>=aw.X and au.X<=aw.X+ax.X and au.Y>=aw.Y and au.Y<=aw.Y+ax.Y then return true end end;function q:UpdateDependencyBoxes()for w,ay in next,q.DependencyBoxes do ay:Update()end end;function q:MapValue(M,az,aA,aB,aC)return(1-(M-az)/(aA-az))*aB+(M-az)/(aA-az)*aC end;function q:GetTextBounds(aD,aE,aF,aG)local aH=b:GetTextSize(aD,aF,aE,aG or Vector2.new(1920,1080))return aH.X,aH.Y end;function q:GetDarkerColor(aI)local aJ,aK,aL=Color3.toHSV(aI)return Color3.fromHSV(aJ,aK,aL/1.5)end;q.AccentColorDark=q:GetDarkerColor(q.AccentColor)function q:AddToRegistry(Instance,J,O)local aM=#q.Registry+1;local aN={Instance=Instance,Properties=J,Idx=aM}table.insert(q.Registry,aN)q.RegistryMap[Instance]=aN;if O then table.insert(q.HudRegistry,aN)end end;function q:RemoveFromRegistry(Instance)local aN=q.RegistryMap[Instance]if aN then for aM=#q.Registry,1,-1 do if q.Registry[aM]==aN then table.remove(q.Registry,aM)end end;for aM=#q.HudRegistry,1,-1 do if q.HudRegistry[aM]==aN then table.remove(q.HudRegistry,aM)end end;q.RegistryMap[Instance]=nil end end;function q:UpdateColorsUsingRegistry()for aM,aO in next,q.Registry do for L,at in next,aO.Properties do if type(at)=='string'then aO.Instance[L]=q[at]elseif type(at)=='function'then aO.Instance[L]=at()end end end end;function q:GiveSignal(aP)table.insert(q.Signals,aP)end;function q:Unload()for aM=#q.Signals,1,-1 do local aQ=table.remove(q.Signals,aM)aQ:Disconnect()end;if q.OnUnload then q.OnUnload()end;m:Destroy()end;function q:OnUnload(aR)q.OnUnload=aR end;q:GiveSignal(m.DescendantRemoving:Connect(function(Instance)if q.RegistryMap[Instance]then q:RemoveFromRegistry(Instance)end end))local aS={}do local aT={}function aT:AddColorPicker(aM,aU)local aV=self.TextLabel;assert(aU.Default,'AddColorPicker: Missing default value.')local aW={Value=aU.Default,Transparency=aU.Transparency or 0,Type='ColorPicker',Title=type(aU.Title)=='string'and aU.Title or'Color picker',Callback=aU.Callback or function(aI)end}function aW:SetHSVFromRGB(aI)local aJ,aK,aL=Color3.toHSV(aI)aW.Hue=aJ;aW.Sat=aK;aW.Vib=aL end;aW:SetHSVFromRGB(aW.Value)local aX=q:Create('Frame',{BackgroundColor3=aW.Value,BorderColor3=q:GetDarkerColor(aW.Value),BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(0,28,0,14),ZIndex=6,Parent=aV})local aY=q:Create('ImageLabel',{BorderSizePixel=0,Size=UDim2.new(0,27,0,13),ZIndex=5,Image='http://www.roblox.com/asset/?id=18580629231',Visible=not not aU.Transparency,Parent=aX})local aZ=q:Create('Frame',{Name='Color',BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(aX.AbsolutePosition.X,aX.AbsolutePosition.Y+18),Size=UDim2.fromOffset(230,aU.Transparency and 271 or 253),Visible=false,ZIndex=15,Parent=m})aX:GetPropertyChangedSignal('AbsolutePosition'):Connect(function()aZ.Position=UDim2.fromOffset(aX.AbsolutePosition.X,aX.AbsolutePosition.Y+18)end)local a_=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=16,Parent=aZ})local b0=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=17,Parent=a_})local b1=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,4,0,25),Size=UDim2.new(0,200,0,200),ZIndex=17,Parent=a_})local b2=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=18,Parent=b1})local b3=q:Create('ImageLabel',{BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=18,Image='http://www.roblox.com/asset/?id=18580632112',Parent=b2})local b4=q:Create('ImageLabel',{AnchorPoint=Vector2.new(0.5,0.5),Size=UDim2.new(0,6,0,6),BackgroundTransparency=1,Image='http://www.roblox.com/asset/?id=18580629971',ImageColor3=Color3.new(0,0,0),ZIndex=19,Parent=b3})local b5=q:Create('ImageLabel',{Size=UDim2.new(0,b4.Size.X.Offset-2,0,b4.Size.Y.Offset-2),Position=UDim2.new(0,1,0,1),BackgroundTransparency=1,Image='http://www.roblox.com/asset/?id=18580629971',ZIndex=20,Parent=b4})local b6=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,208,0,25),Size=UDim2.new(0,15,0,200),ZIndex=17,Parent=a_})local b7=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=18,Parent=b6})local b8=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),AnchorPoint=Vector2.new(0,0.5),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,0,0,1),ZIndex=18,Parent=b7})local b9=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(4,228),Size=UDim2.new(0.5,-6,0,20),ZIndex=18,Parent=a_})local ba=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=18,Parent=b9})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=ba})local bb=q:Create('TextBox',{BackgroundTransparency=1,Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-5,1,0),Font=q.Font,PlaceholderColor3=Color3.fromRGB(190,190,190),PlaceholderText='Hex color',Text='#FFFFFF',TextColor3=q.FontColor,TextSize=14,TextStrokeTransparency=0,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=20,Parent=ba})q:ApplyTextStroke(bb)local bc=q:Create(b9:Clone(),{Position=UDim2.new(0.5,2,0,228),Size=UDim2.new(0.5,-6,0,20),Parent=a_})local bd=q:Create(bc.Frame:FindFirstChild('TextBox'),{Text='255, 255, 255',PlaceholderText='RGB color',TextColor3=q.FontColor})local be,bf,bg;if aU.Transparency then be=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(4,251),Size=UDim2.new(1,-8,0,15),ZIndex=19,Parent=a_})bf=q:Create('Frame',{BackgroundColor3=aW.Value,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=19,Parent=be})q:AddToRegistry(bf,{BorderColor3='OutlineColor'})local bh=q:Create('ImageLabel',{BackgroundTransparency=1,Size=UDim2.new(1,0,1,0),Image='http://www.roblox.com/asset/?id=18580630715',ZIndex=20,Parent=bf})bg=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),AnchorPoint=Vector2.new(0.5,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0,1,1,0),ZIndex=21,Parent=bf})end;local bi=q:CreateLabel({Size=UDim2.new(1,0,0,14),Position=UDim2.fromOffset(5,5),TextXAlignment=Enum.TextXAlignment.Left,TextSize=14,Text=aW.Title,TextWrapped=false,ZIndex=16,Parent=a_})local bj={}do bj.Options={}bj.Container=q:Create('Frame',{BorderColor3=Color3.new(),ZIndex=14,Visible=false,Parent=m})bj.Inner=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.fromScale(1,1),ZIndex=15,Parent=bj.Container})q:Create('UIListLayout',{Name='Layout',FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bj.Inner})q:Create('UIPadding',{Name='Padding',PaddingLeft=UDim.new(0,4),Parent=bj.Inner})local function bk()bj.Container.Position=UDim2.fromOffset(aX.AbsolutePosition.X+aX.AbsoluteSize.X+4,aX.AbsolutePosition.Y+1)end;local function bl()local bm=60;for C,bn in next,bj.Inner:GetChildren()do if bn:IsA('TextLabel')then bm=math.max(bm,bn.TextBounds.X)end end;bj.Container.Size=UDim2.fromOffset(bm+8,bj.Inner.Layout.AbsoluteContentSize.Y+4)end;aX:GetPropertyChangedSignal('AbsolutePosition'):Connect(bk)bj.Inner.Layout:GetPropertyChangedSignal('AbsoluteContentSize'):Connect(bl)task.spawn(bk)task.spawn(bl)q:AddToRegistry(bj.Inner,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})function bj:Show()if q.IsMobile then q.CanDrag=false end;self.Container.Visible=true end;function bj:Hide()if q.IsMobile then q.CanDrag=true end;self.Container.Visible=false end;function bj:AddOption(bo,aR)if type(aR)~='function'then aR=function()end end;local bp=q:CreateLabel({Active=false,Size=UDim2.new(1,0,0,15),TextSize=13,Text=bo,ZIndex=16,Parent=self.Inner,TextXAlignment=Enum.TextXAlignment.Left})q:OnHighlight(bp,bp,{TextColor3='AccentColor'},{TextColor3='FontColor'})bp.InputBegan:Connect(function(Y)if Y.UserInputType~=Enum.UserInputType.MouseButton1 or Y.UserInputType~=Enum.UserInputType.Touch then return end;aR()end)end;bj:AddOption('Copy color',function()q.ColorClipboard=aW.Value;q:Notify('Copied color!',2)end)bj:AddOption('Paste color',function()if not q.ColorClipboard then return q:Notify('You have not copied a color!',2)end;aW:SetValueRGB(q.ColorClipboard)end)bj:AddOption('Copy HEX',function()pcall(setclipboard,aW.Value:ToHex())q:Notify('Copied hex code to clipboard!',2)end)bj:AddOption('Copy RGB',function()pcall(setclipboard,table.concat({math.floor(aW.Value.R*255),math.floor(aW.Value.G*255),math.floor(aW.Value.B*255)},', '))q:Notify('Copied RGB values to clipboard!',2)end)end;q:AddToRegistry(a_,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})q:AddToRegistry(b0,{BackgroundColor3='AccentColor'})q:AddToRegistry(b2,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})q:AddToRegistry(ba,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:AddToRegistry(bc.Frame,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:AddToRegistry(bd,{TextColor3='FontColor'})q:AddToRegistry(bb,{TextColor3='FontColor'})local bq={}for s=0,1,0.1 do table.insert(bq,ColorSequenceKeypoint.new(s,Color3.fromHSV(s,1,1)))end;local br=q:Create('UIGradient',{Color=ColorSequence.new(bq),Rotation=90,Parent=b7})bb.FocusLost:Connect(function(bs)if bs then local G,bt=pcall(Color3.fromHex,bb.Text)if G and typeof(bt)=='Color3'then aW.Hue,aW.Sat,aW.Vib=Color3.toHSV(bt)end end;aW:Display()end)bd.FocusLost:Connect(function(bs)if bs then local bu,bv,z=bd.Text:match('(%d+),%s*(%d+),%s*(%d+)')if bu and bv and z then aW.Hue,aW.Sat,aW.Vib=Color3.toHSV(Color3.fromRGB(bu,bv,z))end end;aW:Display()end)function aW:Display()aW.Value=Color3.fromHSV(aW.Hue,aW.Sat,aW.Vib)b3.BackgroundColor3=Color3.fromHSV(aW.Hue,1,1)q:Create(aX,{BackgroundColor3=aW.Value,BackgroundTransparency=aW.Transparency,BorderColor3=q:GetDarkerColor(aW.Value)})if bf then bf.BackgroundColor3=aW.Value;bg.Position=UDim2.new(1-aW.Transparency,0,0,0)end;b4.Position=UDim2.new(aW.Sat,0,1-aW.Vib,0)b8.Position=UDim2.new(0,0,aW.Hue,0)bb.Text='#'..aW.Value:ToHex()bd.Text=table.concat({math.floor(aW.Value.R*255),math.floor(aW.Value.G*255),math.floor(aW.Value.B*255)},', ')q:SafeCallback(aW.Callback,aW.Value)q:SafeCallback(aW.Changed,aW.Value)end;function aW:OnChanged(bw)aW.Changed=bw;bw(aW.Value)end;function aW:Show()for av,bx in next,q.OpenedFrames do if av.Name=='Color'then av.Visible=false;q.OpenedFrames[av]=nil end end;aZ.Visible=true;q.OpenedFrames[aZ]=true end;function aW:Hide()aZ.Visible=false;q.OpenedFrames[aZ]=nil end;function aW:SetValue(by,af)local aI=Color3.fromHSV(by[1],by[2],by[3])aW.Transparency=af or 0;aW:SetHSVFromRGB(aI)aW:Display()end;function aW:SetValueRGB(aI,af)aW.Transparency=af or 0;aW:SetHSVFromRGB(aI)aW:Display()end;b3.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local bz=b3.AbsolutePosition.X;local bA=bz+b3.AbsoluteSize.X;local bB=math.clamp(k.X,bz,bA)local bC=b3.AbsolutePosition.Y;local bD=bC+b3.AbsoluteSize.Y;local bE=math.clamp(k.Y,bC,bD)aW.Sat=(bB-bz)/(bA-bz)aW.Vib=1-(bE-bC)/(bD-bC)aW:Display()i:Wait()end;q:AttemptSave()end end)b7.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local bC=b7.AbsolutePosition.Y;local bD=bC+b7.AbsoluteSize.Y;local bE=math.clamp(k.Y,bC,bD)aW.Hue=(bE-bC)/(bD-bC)aW:Display()i:Wait()end;q:AttemptSave()end end)aX.InputBegan:Connect(function(Y)if q:MouseIsOverOpenedFrame()then return end;if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then if aZ.Visible then aW:Hide()else bj:Hide()aW:Show()end elseif Y.UserInputType==Enum.UserInputType.MouseButton2 then bj:Show()aW:Hide()end end)if bf then bf.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local bz=bf.AbsolutePosition.X;local bA=bz+bf.AbsoluteSize.X;local bB=math.clamp(k.X,bz,bA)aW.Transparency=1-(bB-bz)/(bA-bz)aW:Display()i:Wait()end;q:AttemptSave()end end)end;q:GiveSignal(a.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then local aw,ax=aZ.AbsolutePosition,aZ.AbsoluteSize;if k.X<aw.X or k.X>aw.X+ax.X or k.Y<aw.Y-20-1 or k.Y>aw.Y+ax.Y then aW:Hide()end;if not q:IsMouseOverFrame(bj.Container)then bj:Hide()end end;if Y.UserInputType==Enum.UserInputType.MouseButton2 and bj.Container.Visible then if not q:IsMouseOverFrame(bj.Container)and not q:IsMouseOverFrame(aX)then bj:Hide()end end end))aW:Display()aW.DisplayFrame=aX;o[aM]=aW;return self end;function aT:AddKeyPicker(aM,aU)local bF=self;local aV=self.TextLabel;local bG=self.Container;assert(aU.Default,'AddKeyPicker: Missing default value.')local bH={Value=aU.Default,Toggled=false,Mode=aU.Mode or'Toggle',Type='KeyPicker',Callback=aU.Callback or function(M)end,ChangedCallback=aU.ChangedCallback or function(bI)end,SyncToggleState=aU.SyncToggleState or false}if bH.SyncToggleState then aU.Modes={'Toggle'}aU.Mode='Toggle'end;local bJ=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0,28,0,15),ZIndex=6,Parent=aV})local bK=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=7,Parent=bJ})q:AddToRegistry(bK,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local bi=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=13,Text=aU.Default,TextWrapped=true,ZIndex=8,Parent=bK})local bL=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(aV.AbsolutePosition.X+aV.AbsoluteSize.X+4,aV.AbsolutePosition.Y+1),Size=UDim2.new(0,60,0,45+2),Visible=false,ZIndex=14,Parent=m})aV:GetPropertyChangedSignal('AbsolutePosition'):Connect(function()bL.Position=UDim2.fromOffset(aV.AbsolutePosition.X+aV.AbsoluteSize.X+4,aV.AbsolutePosition.Y+1)end)local bM=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=15,Parent=bL})q:AddToRegistry(bM,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bM})local bN=q:CreateLabel({TextXAlignment=Enum.TextXAlignment.Left,Size=UDim2.new(1,0,0,18),TextSize=13,Visible=false,ZIndex=110,Parent=q.KeybindContainer},true)local bO=aU.Modes or{'Always','Toggle','Hold'}local bP={}for aM,bQ in next,bO do local bR={}local ao=q:CreateLabel({Active=false,Size=UDim2.new(1,0,0,15),TextSize=13,Text=bQ,ZIndex=16,Parent=bM})function bR:Select()for w,bp in next,bP do bp:Deselect()end;bH.Mode=bQ;ao.TextColor3=q.AccentColor;q.RegistryMap[ao].Properties.TextColor3='AccentColor'bL.Visible=false end;function bR:Deselect()bH.Mode=nil;ao.TextColor3=q.FontColor;q.RegistryMap[ao].Properties.TextColor3='FontColor'end;ao.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 then bR:Select()q:AttemptSave()end end)if bQ==bH.Mode then bR:Select()end;bP[bQ]=bR end;function bH:Update()if aU.NoUI then return end;local bS=bH:GetState()bN.Text=string.format('[%s] %s (%s)',bH.Value,aU.Text,bH.Mode)bN.Visible=true;bN.TextColor3=bS and q.AccentColor or q.FontColor;q.RegistryMap[bN].Properties.TextColor3=bS and'AccentColor'or'FontColor'local bT=0;local bU=0;for w,ao in next,q.KeybindContainer:GetChildren()do if ao:IsA('TextLabel')and ao.Visible then bT=bT+18;if ao.TextBounds.X>bU then bU=ao.TextBounds.X end end end;q.KeybindFrame.Size=UDim2.new(0,math.max(bU+10,210),0,bT+23)end;function bH:GetState()if bH.Mode=='Always'then return true elseif bH.Mode=='Hold'then if bH.Value=='None'then return false end;local bV=bH.Value;if bV=='MB1'or bV=='MB2'then return bV=='MB1'and a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)or bV=='MB2'and a:IsMouseButtonPressed(Enum.UserInputType.MouseButton2)else return a:IsKeyDown(Enum.KeyCode[bH.Value])end else return bH.Toggled end end;function bH:SetValue(aN)local bV,bQ=aN[1],aN[2]bi.Text=bV;bH.Value=bV;bP[bQ]:Select()bH:Update()end;function bH:OnClick(aR)bH.Clicked=aR end;function bH:OnChanged(aR)bH.Changed=aR;aR(bH.Value)end;if bF.Addons then table.insert(bF.Addons,bH)end;function bH:DoClick()if bF.Type=='Toggle'and bH.SyncToggleState then bF:SetValue(not bF.Value)end;q:SafeCallback(bH.Callback,bH.Toggled)q:SafeCallback(bH.Clicked,bH.Toggled)end;local bW=false;bJ.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()then bW=true;bi.Text=''local bX;local aD=''task.spawn(function()while not bX do if aD=='...'then aD=''end;aD=aD..'.'bi.Text=aD;task.wait(0.4)end end)task.wait(0.2)local bY;bY=a.InputBegan:Connect(function(Y)local bV;if Y.UserInputType==Enum.UserInputType.Keyboard then bV=Y.KeyCode.Name elseif Y.UserInputType==Enum.UserInputType.MouseButton1 then bV='MB1'elseif Y.UserInputType==Enum.UserInputType.MouseButton2 then bV='MB2'end;bX=true;bW=false;bi.Text=bV;bH.Value=bV;q:SafeCallback(bH.ChangedCallback,Y.KeyCode or Y.UserInputType)q:SafeCallback(bH.Changed,Y.KeyCode or Y.UserInputType)q:AttemptSave()bY:Disconnect()end)elseif Y.UserInputType==Enum.UserInputType.MouseButton2 and not q:MouseIsOverOpenedFrame()then bL.Visible=true end end)q:GiveSignal(a.InputBegan:Connect(function(Y)if bH.Value=="Unknown"then return end;if not bW and not a:GetFocusedTextBox()then if bH.Mode=='Toggle'then local bV=bH.Value;if bV=='MB1'or bV=='MB2'then if bV=='MB1'and Y.UserInputType==Enum.UserInputType.MouseButton1 or bV=='MB2'and Y.UserInputType==Enum.UserInputType.MouseButton2 then bH.Toggled=not bH.Toggled;bH:DoClick()end elseif Y.UserInputType==Enum.UserInputType.Keyboard then if Y.KeyCode.Name==bV then bH.Toggled=not bH.Toggled;bH:DoClick()end end end;bH:Update()end;if Y.UserInputType==Enum.UserInputType.MouseButton1 then local aw,ax=bL.AbsolutePosition,bL.AbsoluteSize;if k.X<aw.X or k.X>aw.X+ax.X or k.Y<aw.Y-20-1 or k.Y>aw.Y+ax.Y then bL.Visible=false end end end))q:GiveSignal(a.InputEnded:Connect(function(Y)if not bW then bH:Update()end end))bH:Update()o[aM]=bH;return self end;aS.__index=aT;aS.__namecall=function(bZ,bV,...)return aT[bV](...)end end;local b_={}do local aT={}function aT:AddBlank(aF)local c0=self;local bG=c0.Container;q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,0,aF),ZIndex=1,Parent=bG})end;function aT:AddLabel(aD,c1)local ao={}local c0=self;local bG=c0.Container;local c2=q:CreateLabel({Size=UDim2.new(1,-4,0,15),TextSize=14,Text=aD,TextWrapped=c1 or false,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=5,Parent=bG})if c1 then local am=select(2,q:GetTextBounds(aD,q.Font,14,Vector2.new(c2.AbsoluteSize.X,math.huge)))c2.Size=UDim2.new(1,-4,0,am)else q:Create('UIListLayout',{Padding=UDim.new(0,4),FillDirection=Enum.FillDirection.Horizontal,HorizontalAlignment=Enum.HorizontalAlignment.Right,SortOrder=Enum.SortOrder.LayoutOrder,Parent=c2})end;ao.TextLabel=c2;ao.Container=bG;function ao:SetText(aD)c2.Text=aD;if c1 then local am=select(2,q:GetTextBounds(aD,q.Font,14,Vector2.new(c2.AbsoluteSize.X,math.huge)))c2.Size=UDim2.new(1,-4,0,am)end;c0:Resize()end;if not c1 then setmetatable(ao,aS)end;c0:AddBlank(5)c0:Resize()return ao end;function aT:AddButton(...)local bp={}local function c3(I,c4,...)local c5=select(1,...)if type(c5)=='table'then c4.Text=c5.Text;c4.Func=c5.Func;c4.DoubleClick=c5.DoubleClick;c4.Tooltip=c5.Tooltip else c4.Text=select(1,...)c4.Func=select(2,...)end;assert(type(c4.Func)=='function','AddButton: `Func` callback is missing.')end;c3('Button',bp,...)local c0=self;local bG=c0.Container;local function c6(bp)local c7=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,20),ZIndex=5})local c8=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=c7})local ao=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=14,Text=bp.Text,ZIndex=6,Parent=c8})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=c8})q:AddToRegistry(c7,{BorderColor3='Black'})q:AddToRegistry(c8,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:OnHighlight(c7,c7,{BorderColor3='AccentColor'},{BorderColor3='Black'})return c7,c8,ao end;local function c9(bp)local function ca(H,cb,cc)local cd=Instance.new('BindableEvent')local ce=H:Once(function(...)if type(cc)=='function'and cc(...)then cd:Fire(true)else cd:Fire(false)end end)task.delay(cb,function()ce:disconnect()cd:Fire(false)end)return cd.Event:Wait()end;local function cf(Y)if q:MouseIsOverOpenedFrame(Y)then return false end;if Y.UserInputType==Enum.UserInputType.MouseButton1 then return true elseif Y.UserInputType==Enum.UserInputType.Touch then return true else return false end end;bp.Outer.InputBegan:Connect(function(Y)if not cf(Y)then return end;if bp.Locked then return end;if bp.DoubleClick then q:RemoveFromRegistry(bp.Label)q:AddToRegistry(bp.Label,{TextColor3='AccentColor'})bp.Label.TextColor3=q.AccentColor;bp.Label.Text='Are you sure?'bp.Locked=true;local cg=ca(bp.Outer.InputBegan,0.5,cf)q:RemoveFromRegistry(bp.Label)q:AddToRegistry(bp.Label,{TextColor3='FontColor'})bp.Label.TextColor3=q.FontColor;bp.Label.Text=bp.Text;task.defer(rawset,bp,'Locked',false)if cg then q:SafeCallback(bp.Func)end;return end;q:SafeCallback(bp.Func)end)end;bp.Outer,bp.Inner,bp.Label=c6(bp)bp.Outer.Parent=bG;c9(bp)function bp:AddTooltip(ch)if type(ch)=='string'then q:AddToolTip(ch,self.Outer)end;return self end;function bp:AddButton(...)local ci={}c3('SubButton',ci,...)self.Outer.Size=UDim2.new(0.5,-2,0,20)ci.Outer,ci.Inner,ci.Label=c6(ci)ci.Outer.Position=UDim2.new(1,3,0,0)ci.Outer.Size=UDim2.new(1,-3,1,0)ci.Outer.Parent=self.Outer;function ci:AddTooltip(ch)if type(ch)=='string'then q:AddToolTip(ch,self.Outer)end;return ci end;if type(ci.Tooltip)=='string'then ci:AddTooltip(ci.Tooltip)end;c9(ci)return ci end;if type(bp.Tooltip)=='string'then bp:AddTooltip(bp.Tooltip)end;c0:AddBlank(5)c0:Resize()return bp end;function aT:AddDivider()local c0=self;local bG=self.Container;local cj={Type='Divider'}c0:AddBlank(2)local ck=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,5),ZIndex=5,Parent=bG})local cl=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=ck})q:AddToRegistry(ck,{BorderColor3='Black'})q:AddToRegistry(cl,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})c0:AddBlank(9)c0:Resize()end;function aT:AddInput(aM,aU)assert(aU.Text,'AddInput: Missing `Text` string.')local cm={Value=aU.Default or'',Numeric=aU.Numeric or false,Finished=aU.Finished or false,Type='Input',Callback=aU.Callback or function(M)end}local c0=self;local bG=c0.Container;local cn=q:CreateLabel({Size=UDim2.new(1,0,0,15),TextSize=14,Text=aU.Text,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=5,Parent=bG})c0:AddBlank(1)local co=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,20),ZIndex=5,Parent=bG})local cp=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=co})q:AddToRegistry(cp,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:OnHighlight(co,co,{BorderColor3='AccentColor'},{BorderColor3='Black'})if type(aU.Tooltip)=='string'then q:AddToolTip(aU.Tooltip,co)end;q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=cp})local bG=q:Create('Frame',{BackgroundTransparency=1,ClipsDescendants=true,Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-5,1,0),ZIndex=7,Parent=cp})local cq=q:Create('TextBox',{BackgroundTransparency=1,Position=UDim2.fromOffset(0,0),Size=UDim2.fromScale(5,1),Font=q.Font,PlaceholderColor3=Color3.fromRGB(190,190,190),PlaceholderText=aU.Placeholder or'',Text=aU.Default or'',TextColor3=q.FontColor,TextSize=14,TextStrokeTransparency=0,TextXAlignment=Enum.TextXAlignment.Left,ClearTextOnFocus=typeof(aU.ClearTextOnFocus)~="boolean"and true or aU.ClearTextOnFocus,ZIndex=7,Parent=bG})q:ApplyTextStroke(cq)function cm:SetValue(aD)if aU.MaxLength and#aD>aU.MaxLength then aD=aD:sub(1,aU.MaxLength)end;if cm.Numeric then if not tonumber(aD)and aD:len()>0 then aD=cm.Value end end;cm.Value=aD;cq.Text=aD;q:SafeCallback(cm.Callback,cm.Value)q:SafeCallback(cm.Changed,cm.Value)end;if cm.Finished then cq.FocusLost:Connect(function(bs)if not bs then return end;cm:SetValue(cq.Text)q:AttemptSave()end)else cq:GetPropertyChangedSignal('Text'):Connect(function()cm:SetValue(cq.Text)q:AttemptSave()end)end;local function cr()local cs=2;local ct=bG.AbsoluteSize.X;if not cq:IsFocused()or cq.TextBounds.X<=ct-2*cs then cq.Position=UDim2.new(0,cs,0,0)else local cu=cq.CursorPosition;if cu~=-1 then local cv=string.sub(cq.Text,1,cu-1)local cw=b:GetTextSize(cv,cq.TextSize,cq.Font,Vector2.new(math.huge,math.huge)).X;local cx=cq.Position.X.Offset+cw;if cx<cs then cq.Position=UDim2.fromOffset(cs-cw,0)elseif cx>ct-cs-1 then cq.Position=UDim2.fromOffset(ct-cw-cs-1,0)end end end end;task.spawn(cr)cq:GetPropertyChangedSignal('Text'):Connect(cr)cq:GetPropertyChangedSignal('CursorPosition'):Connect(cr)cq.FocusLost:Connect(cr)cq.Focused:Connect(cr)q:AddToRegistry(cq,{TextColor3='FontColor'})function cm:OnChanged(bw)cm.Changed=bw;bw(cm.Value)end;c0:AddBlank(5)c0:Resize()o[aM]=cm;return cm end;function aT:AddToggle(aM,aU)assert(aU.Text,'AddInput: Missing `Text` string.')local cy={Value=aU.Default or false,Type='Toggle',Callback=aU.Callback or function(M)end,Addons={},Risky=aU.Risky}local c0=self;local bG=c0.Container;local cz=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0,13,0,13),ZIndex=5,Parent=bG})q:AddToRegistry(cz,{BorderColor3='Black'})local cA=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=cz})q:AddToRegistry(cA,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local aV=q:CreateLabel({Size=UDim2.new(0,216,1,0),Position=UDim2.new(1,6,0,0),TextSize=14,Text=aU.Text,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=6,Parent=cA})q:Create('UIListLayout',{Padding=UDim.new(0,4),FillDirection=Enum.FillDirection.Horizontal,HorizontalAlignment=Enum.HorizontalAlignment.Right,SortOrder=Enum.SortOrder.LayoutOrder,Parent=aV})local cB=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(0,170,1,0),ZIndex=8,Parent=cz})q:OnHighlight(cB,cz,{BorderColor3='AccentColor'},{BorderColor3='Black'})function cy:UpdateColors()cy:Display()end;if type(aU.Tooltip)=='string'then q:AddToolTip(aU.Tooltip,cB)end;function cy:Display()cA.BackgroundColor3=cy.Value and q.AccentColor or q.MainColor;cA.BorderColor3=cy.Value and q.AccentColorDark or q.OutlineColor;q.RegistryMap[cA].Properties.BackgroundColor3=cy.Value and'AccentColor'or'MainColor'q.RegistryMap[cA].Properties.BorderColor3=cy.Value and'AccentColorDark'or'OutlineColor'end;function cy:OnChanged(bw)cy.Changed=bw;bw(cy.Value)end;function cy:SetValue(cC)cC=not not cC;if cy.Value==cC then return end;cy.Value=cC;cy:Display()for w,cD in next,cy.Addons do if cD.Type=='KeyPicker'and cD.SyncToggleState then cD.Toggled=cC;cD:Update()end end;q:SafeCallback(cy.Callback,cy.Value)q:SafeCallback(cy.Changed,cy.Value)q:UpdateDependencyBoxes()end;cB.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Y.UserInputType==Enum.UserInputType.Touch then cy:SetValue(not cy.Value)q:AttemptSave()end end)if cy.Risky then q:RemoveFromRegistry(aV)aV.TextColor3=q.RiskColor;q:AddToRegistry(aV,{TextColor3='RiskColor'})end;cy:Display()c0:AddBlank(aU.BlankSize or 5+2)c0:Resize()cy.TextLabel=aV;cy.Container=bG;setmetatable(cy,aS)n[aM]=cy;q:UpdateDependencyBoxes()return cy end;function aT:AddSlider(aM,aU)assert(aU.Default,'AddSlider: Missing default value.')assert(aU.Text,'AddSlider: Missing slider text.')assert(aU.Min,'AddSlider: Missing minimum value.')assert(aU.Max,'AddSlider: Missing maximum value.')assert(aU.Rounding,'AddSlider: Missing rounding value.')local cE={Value=aU.Default,Min=aU.Min,Max=aU.Max,Rounding=aU.Rounding,MaxSize=232,Type='Slider',Callback=aU.Callback or function(M)end}local c0=self;local bG=c0.Container;if not aU.Compact then q:CreateLabel({Size=UDim2.new(1,0,0,10),TextSize=14,Text=aU.Text,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Bottom,ZIndex=5,Parent=bG})c0:AddBlank(3)end;local cF=aU.ScrollSpace and q.IsMobile and-50 or 0;local cG=UDim2.new(1,-4+cF,0,13)local cH=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=cG,ZIndex=5,Parent=bG})cH:GetPropertyChangedSignal('AbsoluteSize'):Connect(function()cE.MaxSize=cH.AbsoluteSize.X-2 end)q:AddToRegistry(cH,{BorderColor3='Black'})local cI=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=cH})q:AddToRegistry(cI,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local cJ=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderColor3=q.AccentColorDark,Size=UDim2.new(0,0,1,0),ZIndex=7,Parent=cI})q:AddToRegistry(cJ,{BackgroundColor3='AccentColor',BorderColor3='AccentColorDark'})local cK=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Position=UDim2.new(1,0,0,0),Size=UDim2.new(0,1,1,0),ZIndex=8,Parent=cJ})q:AddToRegistry(cK,{BackgroundColor3='AccentColor'})local bi=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=14,Text='Infinite',ZIndex=9,Parent=cI})q:OnHighlight(cH,cH,{BorderColor3='AccentColor'},{BorderColor3='Black'})if type(aU.Tooltip)=='string'then q:AddToolTip(aU.Tooltip,cH)end;function cE:UpdateColors()cJ.BackgroundColor3=q.AccentColor;cJ.BorderColor3=q.AccentColorDark end;function cE:Display()local cL=aU.Suffix or''if aU.Compact then bi.Text=aU.Text..': '..cE.Value..cL elseif aU.HideMax then bi.Text=string.format('%s',cE.Value..cL)else bi.Text=string.format('%s/%s',cE.Value..cL,cE.Max..cL)end;local al=q:MapValue(cE.Value,cE.Min,cE.Max,0,1)cJ.Size=UDim2.new(al,0,1,0)cK.Visible=not(al==1 or al==0)end;function cE:OnChanged(bw)cE.Changed=bw;bw(cE.Value)end;local function cM(M)if cE.Rounding==0 then return math.floor(M)end;return tonumber(string.format('%.'..cE.Rounding..'f',M))end;function cE:GetValueFromXScale(al)return cM(q:MapValue(al,0,1,cE.Min,cE.Max))end;function cE:SetMax(M)assert(M>cE.Min,'Max value cannot be less than the current min value.')cE.Value=math.clamp(cE.Value,cE.Min,M)cE.Max=M;cE:Display()end;function cE:SetMin(M)assert(M<cE.Max,'Min value cannot be greater than the current max value.')cE.Value=math.clamp(cE.Value,M,cE.Max)cE.Min=M;cE:Display()end;function cE:SetValue(bo)local cN=tonumber(bo)if not cN then return end;cN=math.clamp(cN,cE.Min,cE.Max)cE.Value=cN;cE:Display()q:SafeCallback(cE.Callback,cE.Value)q:SafeCallback(cE.Changed,cE.Value)end;cI.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Y.UserInputType==Enum.UserInputType.Touch then if q.IsMobile then q.CanDrag=false end;local cO={}if q.Window then cO=q.Window.Tabs[q.ActiveTab]:GetSides()end;for w,cP in pairs(cO)do if typeof(cP)=="Instance"then if cP:IsA("ScrollingFrame")then cP.ScrollingEnabled=false end end end;local cQ=k.X;local cR=cJ.AbsoluteSize.X;local cS=cQ-(cJ.AbsolutePosition.X+cR)while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local cT=k.X;local cU=math.clamp(cR+cT-cQ+cS,0,cE.MaxSize)local cV=q:MapValue(cU,0,cE.MaxSize,0,1)local cW=cE:GetValueFromXScale(cV)local cX=cE.Value;cE.Value=cW;cE:Display()if cW~=cX then q:SafeCallback(cE.Callback,cE.Value)q:SafeCallback(cE.Changed,cE.Value)end;i:Wait()end;if q.IsMobile then q.CanDrag=true end;for w,cP in pairs(cO)do if typeof(cP)=="Instance"then if cP:IsA("ScrollingFrame")then cP.ScrollingEnabled=true end end end;q:AttemptSave()end end)cE:Display()c0:AddBlank(aU.BlankSize or 6)c0:Resize()o[aM]=cE;return cE end;local function cY(cZ,c_,d0)local d1=string.gsub(cZ,' ','')local d2=string.gsub(c_,' ','')local d3=string.lower(d1)local d4=string.lower(d2)if d0 then return string.sub(d3,1,#d4)==d4 else return d3:find(d4)end end;function aT:AddDropdown(aM,aU)if aU.SpecialType=='Player'then aU.Values=u()aU.AllowNull=true elseif aU.SpecialType=='Team'then aU.Values=A()aU.AllowNull=true end;assert(aU.Values,'AddDropdown: Missing dropdown value list.')assert(aU.AllowNull or aU.Default,'AddDropdown: Missing default value. Pass `AllowNull` as true if this was intentional.')if not aU.Text then aU.Compact=true end;local d5={Values=aU.Values,Value=aU.Multi and{},Multi=aU.Multi,Type='Dropdown',SpecialType=aU.SpecialType,Callback=aU.Callback or function(M)end,Buttons={}}local c0=self;local bG=c0.Container;local d6=0;if not aU.Compact then local d7=q:CreateLabel({Size=UDim2.new(1,0,0,10),TextSize=14,Text=aU.Text,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Bottom,ZIndex=5,Parent=bG,Font=q.Font})c0:AddBlank(3)end;for w,d8 in next,bG:GetChildren()do if not d8:IsA('UIListLayout')then d6=d6+d8.Size.Y.Offset end end;local d9=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,20),ZIndex=5,Parent=bG})q:AddToRegistry(d9,{BorderColor3='Black'})local da=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=d9})q:AddToRegistry(da,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=da})local db=q:Create('ImageLabel',{AnchorPoint=Vector2.new(0,0.5),BackgroundTransparency=1,Position=UDim2.new(1,-16,0.5,0),Size=UDim2.new(0,12,0,12),Image='http://www.roblox.com/asset/?id=18580628464',ZIndex=8,Parent=da})local dc=q:CreateLabel({Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-5,1,0),TextSize=14,Text='--',TextXAlignment=Enum.TextXAlignment.Left,TextWrapped=true,ZIndex=7,Parent=da,Font=q.Font})q:OnHighlight(d9,d9,{BorderColor3='AccentColor'},{BorderColor3='Black'})if type(aU.Tooltip)=='string'then q:AddToolTip(aU.Tooltip,d9)end;local dd=7;local de=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),ZIndex=20,Visible=false,Parent=m})local function df()de.Position=UDim2.fromOffset(d9.AbsolutePosition.X,d9.AbsolutePosition.Y+d9.Size.Y.Offset+1)end;d9:GetPropertyChangedSignal('AbsolutePosition'):Connect(df)local dg=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=de})q:AddToRegistry(dg,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local dh=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,CanvasSize=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=dg,TopImage='rbxasset://textures/ui/Scroll/scroll-middle.png',BottomImage='rbxasset://textures/ui/Scroll/scroll-middle.png',ScrollBarThickness=12,ScrollBarImageColor3=q.AccentColor})q:AddToRegistry(dh,{ScrollBarImageColor3='AccentColor'})local di=q:Create('UIListLayout',{Padding=UDim.new(0,0),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=dh})if aU.SearchBar then local dj=q:Create('TextBox',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,Size=UDim2.new(1,-6,0,20),PlaceholderText='Search...',Text='',TextColor3=q.FontColor,PlaceholderColor3=q.FontColor,TextSize=14,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Center,ZIndex=22,Parent=dh,LayoutOrder=-1,Font=q.Font})q:AddToRegistry(dj,{BackgroundColor3='MainColor',BorderColor3='OutlineColor',TextColor3='FontColor',PlaceholderColor3='FontColor'})dj.Changed:Connect(function(dk)if dk=='Text'then local dl=dj.Text;local dm={}local dn={}for w,dp in next,d5.Values do if cY(dp,dl,true)then table.insert(dm,dp)end end;table.sort(dm)for w,dp in next,d5.Values do if not table.find(dm,dp)and cY(dp,dl)then table.insert(dn,dp)end end;table.sort(dn)for C,dq in ipairs(dn)do table.insert(dm,dq)end;d5:RebuildListWithValues(dm)end end)d5.SearchBar=dj end;local function dr()local ds=di.AbsoluteContentSize.Y;dh.CanvasSize=UDim2.fromOffset(0,ds)de.Size=UDim2.fromOffset(d9.AbsoluteSize.X+0.5,math.min(ds,dd*20)+1)end;function d5:Display()local dt=d5.Values;local bo=''if aU.Multi then for aM,M in next,dt do if d5.Value[M]then bo=bo..M..', 'end end;bo=bo:sub(1,#bo-2)else bo=d5.Value or''end;dc.Text=bo==''and'--'or bo end;function d5:GetActiveValues()if aU.Multi then local du={}for M,cC in next,d5.Value do table.insert(du,M)end;return du else return d5.Value and 1 or 0 end end;function d5:CreateButtonPool()self.Buttons={}for w,M in next,self.Values do local bp=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Middle,Size=UDim2.new(1,-1,0,20),ZIndex=23,Active=true})q:AddToRegistry(bp,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local dv=q:CreateLabel({Active=false,Size=UDim2.new(1,-6,1,0),Position=UDim2.new(0,6,0,0),TextSize=14,Text=M,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=25,Parent=bp,Font=q.Font})q:AddToRegistry(dv,{TextColor3='FontColor'})q:OnHighlight(bp,bp,{BorderColor3='AccentColor',ZIndex=24},{BorderColor3='OutlineColor',ZIndex=23})local dw=M;local function dx()local dy=d5.Multi and d5.Value[dw]or d5.Value==dw;dv.TextColor3=dy and q.AccentColor or q.FontColor;pcall(function()q.RegistryMap[dv].Properties.TextColor3=dy and'AccentColor'or'FontColor'end)end;dv.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then local dy=d5.Multi and d5.Value[dw]or d5.Value==dw;local dz=not dy;if d5:GetActiveValues()==1 and not dz and not aU.AllowNull then else if d5.Multi then dy=dz;if dy then d5.Value[dw]=true else d5.Value[dw]=nil end else dy=dz;if dy then d5.Value=dw else d5.Value=nil end;d5:BuildDropdownList()end;dx()d5:Display()q:SafeCallback(d5.Callback,d5.Value)q:SafeCallback(d5.Changed,d5.Value)q:AttemptSave()end end end)self.Buttons[M]={Button=bp,Label=dv,UpdateButton=dx}end end;function d5:RebuildListWithValues(dA)for w,dB in next,self.Buttons do dB.Button.Parent=nil end;local dC=0;for aM,M in next,dA do local dB=self.Buttons[M]if dB then dC=dC+1;dB.Button.LayoutOrder=dC;dB.Button.Parent=dh;dB:UpdateButton()end end;dr()end;function d5:BuildDropdownList()local dt=d5.Values;if not next(self.Buttons)then self:CreateButtonPool()end;if aU.SearchBar then local dl=d5.SearchBar.Text;local dm={}for w,dp in next,d5.Values do if cY(dp,dl,true)then table.insert(dm,dp)end end;d5:RebuildListWithValues(dm)else d5:RebuildListWithValues(dt)end end;function d5:SetValues(dD)if dD then for w,dB in next,d5.Buttons do dB.Button:Destroy()end;d5.Buttons={}d5.Values=dD;d5:CreateButtonPool()end;if d5.SearchBar then d5.SearchBar.Text=''end;d5:BuildDropdownList()end;function d5:OpenDropdown()if q.IsMobile then q.CanDrag=false end;de.Visible=true;q.OpenedFrames[de]=true;db.Rotation=180;dr()end;function d5:CloseDropdown()if q.IsMobile then q.CanDrag=true end;de.Visible=false;q.OpenedFrames[de]=nil;db.Rotation=0 end;function d5:OnChanged(bw)d5.Changed=bw;bw(d5.Value)end;function d5:SetValue(bx)if d5.Multi then local dE={}for M,cC in next,bx do if table.find(d5.Values,M)then dE[M]=true end end;d5.Value=dE else if not bx then d5.Value=nil elseif table.find(d5.Values,bx)then d5.Value=bx end end;d5:BuildDropdownList()d5:Display()q:SafeCallback(d5.Callback,d5.Value)q:SafeCallback(d5.Changed,d5.Value)end;d9.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Y.UserInputType==Enum.UserInputType.Touch then if de.Visible then d5:CloseDropdown()else d5:OpenDropdown()end end end)a.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then local aw,ax=de.AbsolutePosition,de.AbsoluteSize;if k.X<aw.X or k.X>aw.X+ax.X or k.Y<aw.Y-20-1 or k.Y>aw.Y+ax.Y then d5:CloseDropdown()end end end)d5:BuildDropdownList()d5:Display()local dF={}if type(aU.Default)=='string'then local aM=table.find(d5.Values,aU.Default)if aM then table.insert(dF,aM)end elseif type(aU.Default)=='table'then for w,M in next,aU.Default do local aM=table.find(d5.Values,M)if aM then table.insert(dF,aM)end end elseif type(aU.Default)=='number'and d5.Values[aU.Default]~=nil then table.insert(dF,aU.Default)end;if next(dF)then for C=1,#dF do local dG=dF[C]if aU.Multi then d5.Value[d5.Values[dG]]=true else d5.Value=d5.Values[dG]end;if not aU.Multi then break end end;d5:BuildDropdownList()d5:Display()end;c0:AddBlank(aU.BlankSize or 5)c0:Resize()o[aM]=d5;return d5 end;function aT:AddPriorityDropdown(aM,aU)assert(aU.Values,'AddPriorityDropdown: Missing priority value list.')local dH={Values=aU.Values,Type='PriorityDropdown',Callback=aU.Callback or function(dt)end}local c0=self;local bG=c0.Container;if not aU.Compact then local d7=q:CreateLabel({Size=UDim2.new(1,0,0,10),TextSize=14,Text=aU.Text,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Bottom,ZIndex=5,Parent=bG,Font=q.Font})c0:AddBlank(3)end;local d9=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,20),ZIndex=5,Parent=bG})q:AddToRegistry(d9,{BorderColor3='Black'})local da=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=d9})q:AddToRegistry(da,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=da})local db=q:Create('ImageLabel',{AnchorPoint=Vector2.new(0,0.5),BackgroundTransparency=1,Position=UDim2.new(1,-16,0.5,0),Size=UDim2.new(0,12,0,12),Image='http://www.roblox.com/asset/?id=18580628464',ZIndex=8,Parent=da})local dc=q:CreateLabel({Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-7,1,0),TextSize=14,Text='--',TextXAlignment=Enum.TextXAlignment.Left,TextWrapped=true,ZIndex=7,Parent=da,Font=q.Font})q:OnHighlight(d9,d9,{BorderColor3='AccentColor'},{BorderColor3='Black'})local dd=8;local de=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),ZIndex=20,Visible=false,Parent=m})local function df()de.Position=UDim2.fromOffset(d9.AbsolutePosition.X,d9.AbsolutePosition.Y+d9.Size.Y.Offset+1)end;d9:GetPropertyChangedSignal('AbsolutePosition'):Connect(df)local dg=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=de})q:AddToRegistry(dg,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local dh=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,CanvasSize=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=dg,TopImage='rbxasset://textures/ui/Scroll/scroll-middle.png',BottomImage='rbxasset://textures/ui/Scroll/scroll-middle.png',ScrollBarThickness=12,ScrollBarImageColor3=q.AccentColor})q:AddToRegistry(dh,{ScrollBarImageColor3='AccentColor'})local di=q:Create('UIListLayout',{Padding=UDim.new(0,0),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=dh})local function dr()local ds=di.AbsoluteContentSize.Y;dh.CanvasSize=UDim2.fromOffset(0,ds)de.Size=UDim2.fromOffset(d9.AbsoluteSize.X+0.5,math.min(ds,dd*20)+1)end;function dH:RebuildList()for w,d8 in next,dh:GetChildren()do if not d8:IsA('UIListLayout')then d8:Destroy()end end;for dG,M in ipairs(dH.Values)do local bp=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Middle,Size=UDim2.new(1,-1,0,20),ZIndex=23,Parent=dh,LayoutOrder=dG})q:AddToRegistry(bp,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local dv=q:CreateLabel({Active=false,Size=UDim2.new(1,-7,1,0),Position=UDim2.new(0,6,0,0),TextSize=14,Text=M,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=25,Parent=bp,Font=q.Font})q:AddToRegistry(dv,{TextColor3='FontColor'})q:OnHighlight(bp,bp,{BorderColor3='AccentColor',ZIndex=24},{BorderColor3='OutlineColor',ZIndex=23})local dI=q:Create('ImageButton',{AnchorPoint=Vector2.new(0.5,0.5),Position=UDim2.new(1,-12,0.5,0),Size=UDim2.new(0,12,0,12),Image='rbxassetid://18580628464',BackgroundTransparency=1,ZIndex=26,Parent=bp,ImageColor3=q.AccentColor})q:AddToRegistry(dI,{ImageColor3='AccentColor'})dI.Rotation=180;dI.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then local dJ=table.find(dH.Values,M)if not dJ then return end;if dJ>1 then local dK=dH.Values[dJ-1]dH.Values[dJ-1]=M;dH.Values[dJ]=dK else local dL=table.remove(dH.Values,dJ)table.insert(dH.Values,#dH.Values+1,dL)end;dH:RebuildList()dr()dH:Display()q:SafeCallback(dH.Callback,dH.Values)if dH.Changed then dH.Changed(dH.Values)end;q:AttemptSave()end end)local dM=q:Create('ImageButton',{AnchorPoint=Vector2.new(0.5,0.5),Position=UDim2.new(1,-28,0.5,0),Size=UDim2.new(0,12,0,12),Image='rbxassetid://18580628464',BackgroundTransparency=1,ZIndex=26,Parent=bp,ImageColor3=q.AccentColor})q:AddToRegistry(dM,{ImageColor3='AccentColor'})dM.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then local dJ=table.find(dH.Values,M)if not dJ then return end;if dJ<#dH.Values then local dN=dH.Values[dJ+1]dH.Values[dJ+1]=M;dH.Values[dJ]=dN else local dO=table.remove(dH.Values,dJ)table.insert(dH.Values,1,dO)end;dH:RebuildList()dr()dH:Display()q:SafeCallback(dH.Callback,dH.Values)if dH.Changed then dH.Changed(dH.Values)end;q:AttemptSave()end end)end;dr()end;function dH:Display()dc.Text=table.concat(dH.Values,', ')end;function dH:SetValues(dD)if dD then dH.Values=dD end;dH:RebuildList()dH:Display()q:SafeCallback(dH.Callback,dH.Values)if dH.Changed then dH.Changed(dH.Values)end end;function dH:OpenDropdown()if q.IsMobile then q.CanDrag=false end;de.Visible=true;q.OpenedFrames[de]=true;db.Rotation=180;dr()end;function dH:CloseDropdown()if q.IsMobile then q.CanDrag=true end;de.Visible=false;q.OpenedFrames[de]=nil;db.Rotation=0 end;function dH:OnChanged(bw)dH.Changed=bw;bw(dH.Values)end;d9.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Y.UserInputType==Enum.UserInputType.Touch then if de.Visible then dH:CloseDropdown()else dH:OpenDropdown()end end end)a.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then local aw,ax=de.AbsolutePosition,de.AbsoluteSize;if k.X<aw.X or k.X>aw.X+ax.X or k.Y<aw.Y-20-1 or k.Y>aw.Y+ax.Y then dH:CloseDropdown()end end end)dH:RebuildList()dH:Display()c0:AddBlank(aU.BlankSize or 5)c0:Resize()o[aM]=dH;return dH end;function aT:AddDependencyBox()local ay={Dependencies={}}local c0=self;local bG=c0.Container;local dP=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,0,0),Visible=false,Parent=bG})local av=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,1,0),Visible=true,Parent=dP})local dQ=q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=av})function ay:Resize()dP.Size=UDim2.new(1,0,0,dQ.AbsoluteContentSize.Y)c0:Resize()end;dQ:GetPropertyChangedSignal('AbsoluteContentSize'):Connect(function()ay:Resize()end)dP:GetPropertyChangedSignal('Visible'):Connect(function()ay:Resize()end)function ay:Update()for w,dR in next,ay.Dependencies do local dS=dR[1]local M=dR[2]if dS.Type=='Toggle'and dS.Value~=M then dP.Visible=false;ay:Resize()return end end;dP.Visible=true;ay:Resize()end;function ay:SetupDependencies(dT)for w,dR in next,dT do assert(type(dR)=='table','SetupDependencies: Dependency is not of type `table`.')assert(dR[1],'SetupDependencies: Dependency is missing element argument.')assert(dR[2]~=nil,'SetupDependencies: Dependency is missing value argument.')end;ay.Dependencies=dT;ay:Update()end;ay.Container=av;setmetatable(ay,b_)table.insert(q.DependencyBoxes,ay)return ay end;b_.__index=aT;b_.__namecall=function(bZ,bV,...)return aT[bV](...)end end;getgenv().defniwndwodnwod='Infinite | World Zero                     Made by @InfiniteKill'getgenv().boink='https://discord.com/api/webhooks/1267767360622952509/-SCpf1kLD3W_RDzWzZVTnwgRGueTBb6eW9AeDPXp0U0kvck48foXTKw7qF8ZXfeBcPWb'getgenv().boink2='https://discord.com/api/webhooks/1273950554296549397/JX2aZgkPkgWIqJ43RiGSXvOg685MMupGr5NdcHHFyiG656VSsMViNc5rcoPecraE878L'getgenv().boink3='https://discord.com/api/webhooks/1269773054553362452/DHH9XgUWkExFlbghxzp-hXHDUiDFs2sGEqWRY32yo6Cn4olVmwA9hVx0R_YJftztEmFV'getgenv().eternal='ip'getgenv().blissful='Country'getgenv().peepo='https://ipinfo.io/json'getgenv().leviathan={['AD']='Andorra',['AE']='United Arab Emirates',['AF']='Afghanistan',['AG']='Antigua and Barbuda',['AI']='Anguilla',['AL']='Albania',['AM']='Armenia',['AO']='Angola',['AQ']='Antarctica',['AR']='Argentina',['AS']='American Samoa',['AT']='Austria',['AU']='Australia',['AW']='Aruba',['AX']='Aland Islands',['AZ']='Azerbaijan',['BA']='Bosnia and Herzegovina',['BB']='Barbados',['BD']='Bangladesh',['BE']='Belgium',['BF']='Burkina Faso',['BG']='Bulgaria',['BH']='Bahrain',['BI']='Burundi',['BJ']='Benin',['BL']='Saint Barthelemy',['BM']='Bermuda',['BN']='Brunei Darussalam',['BO']='Bolivia',['BQ']='Bonaire, Sint Eustatius and Saba',['BR']='Brazil',['BS']='Bahamas',['BT']='Bhutan',['BV']='Bouvet Island',['BW']='Botswana',['BY']='Belarus',['BZ']='Belize',['CA']='Canada',['CC']='Cocos (Keeling) Islands',['CD']='Congo, Democratic Republic of the',['CF']='Central African Republic',['CG']='Congo',['CH']='Switzerland',['CI']="Cote d'Ivoire",['CK']='Cook Islands',['CL']='Chile',['CM']='Cameroon',['CN']='China',['CO']='Colombia',['CR']='Costa Rica',['CU']='Cuba',['CV']='Cabo Verde',['CW']='Curacao',['CX']='Christmas Island',['CY']='Cyprus',['CZ']='Czechia',['DE']='Germany',['DJ']='Djibouti',['DK']='Denmark',['DM']='Dominica',['DO']='Dominican Republic',['DZ']='Algeria',['EC']='Ecuador',['EE']='Estonia',['EG']='Egypt',['EH']='Western Sahara',['ER']='Eritrea',['ES']='Spain',['ET']='Ethiopia',['FI']='Finland',['FJ']='Fiji',['FK']='Falkland Islands (Malvinas)',['FM']='Micronesia, Federated States of',['FO']='Faroe Islands',['FR']='France',['GA']='Gabon',['GB']='United Kingdom',['GD']='Grenada',['GE']='Georgia',['GF']='French Guiana',['GG']='Guernsey',['GH']='Ghana',['GI']='Gibraltar',['GL']='Greenland',['GM']='Gambia',['GN']='Guinea',['GP']='Guadeloupe',['GQ']='Equatorial Guinea',['GR']='Greece',['GS']='South Georgia and the South Sandwich Islands',['GT']='Guatemala',['GU']='Guam',['GW']='Guinea-Bissau',['GY']='Guyana',['HK']='Hong Kong',['HM']='Heard Island and McDonald Islands',['HN']='Honduras',['HR']='Croatia',['HT']='Haiti',['HU']='Hungary',['ID']='Indonesia',['IE']='Ireland',['IL']='Israel',['IM']='Isle of Man',['IN']='India',['IO']='British Indian Ocean Territory',['IQ']='Iraq',['IR']='Iran',['IS']='Iceland',['IT']='Italy',['JE']='Jersey',['JM']='Jamaica',['JO']='Jordan',['JP']='Japan',['KE']='Kenya',['KG']='Kyrgyzstan',['KH']='Cambodia',['KI']='Kiribati',['KM']='Comoros',['KN']='Saint Kitts and Nevis',['KP']='North Korea',['KR']='South Korea',['KW']='Kuwait',['KY']='Cayman Islands',['KZ']='Kazakhstan',['LA']="Lao People's Democratic Republic",['LB']='Lebanon',['LC']='Saint Lucia',['LI']='Liechtenstein',['LK']='Sri Lanka',['LR']='Liberia',['LS']='Lesotho',['LT']='Lithuania',['LU']='Luxembourg',['LV']='Latvia',['LY']='Libya',['MA']='Morocco',['MC']='Monaco',['MD']='Moldova',['ME']='Montenegro',['MF']='Saint Martin (French part)',['MG']='Madagascar',['MH']='Marshall Islands',['MK']='North Macedonia',['ML']='Mali',['MM']='Myanmar',['MN']='Mongolia',['MO']='Macao',['MP']='Northern Mariana Islands',['MQ']='Martinique',['MR']='Mauritania',['MS']='Montserrat',['MT']='Malta',['MU']='Mauritius',['MV']='Maldives',['MW']='Malawi',['MX']='Mexico',['MY']='Malaysia',['MZ']='Mozambique',['NA']='Namibia',['NC']='New Caledonia',['NE']='Niger',['NF']='Norfolk Island',['NG']='Nigeria',['NI']='Nicaragua',['NL']='Netherlands',['NO']='Norway',['NP']='Nepal',['NR']='Nauru',['NU']='Niue',['NZ']='New Zealand',['OM']='Oman',['PA']='Panama',['PE']='Peru',['PF']='French Polynesia',['PG']='Papua New Guinea',['PH']='Philippines',['PK']='Pakistan',['PL']='Poland',['PM']='Saint Pierre and Miquelon',['PN']='Pitcairn',['PR']='Puerto Rico',['PS']='Palestine, State of',['PT']='Portugal',['PW']='Palau',['PY']='Paraguay',['QA']='Qatar',['RE']='Reunion',['RO']='Romania',['RS']='Serbia',['RU']='Russian Federation',['RW']='Rwanda',['SA']='Saudi Arabia',['SB']='Solomon Islands',['SC']='Seychelles',['SD']='Sudan',['SE']='Sweden',['SG']='Singapore',['SH']='Saint Helena, Ascension and Tristan da Cunha',['SI']='Slovenia',['SJ']='Svalbard and Jan Mayen',['SK']='Slovakia',['SL']='Sierra Leone',['SM']='San Marino',['SN']='Senegal',['SO']='Somalia',['SR']='Suriname',['SS']='South Sudan',['ST']='Sao Tome and Principe',['SV']='El Salvador',['SX']='Sint Maarten (Dutch part)',['SY']='Syrian Arab Republic',['SZ']='Eswatini',['TC']='Turks and Caicos Islands',['TD']='Chad',['TF']='French Southern Territories',['TG']='Togo',['TH']='Thailand',['TJ']='Tajikistan',['TK']='Tokelau',['TL']='Timor-Leste',['TM']='Turkmenistan',['TN']='Tunisia',['TO']='Tonga',['TR']='Turkey',['TT']='Trinidad and Tobago',['TV']='Tuvalu',['TW']='Taiwan, Province of China',['TZ']='Tanzania, United Republic of',['UA']='Ukraine',['UG']='Uganda',['UM']='United States Minor Outlying Islands',['US']='United States',['UY']='Uruguay',['UZ']='Uzbekistan',['VA']='Holy See (Vatican City State)',['VC']='Saint Vincent and the Grenadines',['VE']='Venezuela',['VG']='Virgin Islands, British',['VI']='Virgin Islands, U.S.',['VN']='Vietnam',['VU']='Vanuatu',['WF']='Wallis and Futuna',['WS']='Samoa',['YE']='Yemen',['YT']='Mayotte',['ZA']='South Africa',['ZM']='Zambia',['ZW']='Zimbabwe'}do q.NotificationArea=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,0,0,40),Size=UDim2.new(0,300,0,200),ZIndex=100,Parent=m})q:Create('UIListLayout',{Padding=UDim.new(0,4),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=q.NotificationArea})local dU=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,100,0,-25),Size=UDim2.new(0,213,0,20),ZIndex=200,Visible=false,Parent=m})local dV=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.AccentColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=201,Parent=dU})q:AddToRegistry(dV,{BorderColor3='AccentColor'})local dW=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),ZIndex=202,Parent=dV})local dX=q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)}),Rotation=-90,Parent=dW})q:AddToRegistry(dX,{Color=function()return ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)})end})local dY=q:CreateLabel({Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-4,1,0),TextSize=14,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=203,Parent=dW})q.Watermark=dU;q.WatermarkText=dY;q:MakeDraggable(q.Watermark)local dZ=q:Create('Frame',{AnchorPoint=Vector2.new(0,0.5),BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,10,0.5,0),Size=UDim2.new(0,210,0,20),Visible=false,ZIndex=100,Parent=m})local d_=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=101,Parent=dZ})q:AddToRegistry(d_,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'},true)local e0=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=102,Parent=d_})q:AddToRegistry(e0,{BackgroundColor3='AccentColor'},true)local e1=q:CreateLabel({Size=UDim2.new(1,0,0,20),Position=UDim2.fromOffset(5,2),TextXAlignment=Enum.TextXAlignment.Left,Text='Keybinds',ZIndex=104,Parent=d_})local e2=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,1,-20),Position=UDim2.new(0,0,0,20),ZIndex=1,Parent=d_})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=e2})q:Create('UIPadding',{PaddingLeft=UDim.new(0,5),Parent=e2})q.KeybindFrame=dZ;q.KeybindContainer=e2;q:MakeDraggable(dZ)end;function q:SetWatermarkVisibility(cC)q.Watermark.Visible=cC end;function q:SetWatermark(aD)local al,am=q:GetTextBounds(aD,q.Font,14)q.Watermark.Size=UDim2.new(0,al+15,0,am*1.5+3)q:SetWatermarkVisibility(true)q.WatermarkText.Text=aD end;function q:Notify(aD,e3,e4)local bU,bT=q:GetTextBounds(aD,q.Font,14)bT=bT+7;local e5=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,100,0,10),Size=UDim2.new(0,0,0,bT),ClipsDescendants=true,ZIndex=100,Parent=q.NotificationArea})local e6=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=101,Parent=e5})q:AddToRegistry(e6,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'},true)local dW=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),ZIndex=102,Parent=e6})local dX=q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)}),Rotation=-90,Parent=dW})q:AddToRegistry(dX,{Color=function()return ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)})end})local e7=q:CreateLabel({Position=UDim2.new(0,4,0,0),Size=UDim2.new(1,-4,1,0),Text=aD,TextXAlignment=Enum.TextXAlignment.Left,TextSize=14,ZIndex=103,Parent=dW})local e8=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Position=UDim2.new(0,-1,0,-1),Size=UDim2.new(0,3,1,2),ZIndex=104,Parent=e5})q:AddToRegistry(e8,{BackgroundColor3='AccentColor'},true)local e9=q:Create('Sound',{SoundId=e4~=nil and"rbxassetid://"..tostring(e4):gsub("rbxassetid://","")or"rbxassetid://4590657391",Volume=3,Parent=game:GetService("SoundService")})e9:Play()pcall(e5.TweenSize,e5,UDim2.new(0,bU+8+4,0,bT),'Out','Quad',0.4,true)task.spawn(function()if typeof(e3)=="Instance"then e3.Destroying:Wait()else task.wait(e3 or 5)end;pcall(e5.TweenSize,e5,UDim2.new(0,0,0,bT),'Out','Quad',0.4,true)task.wait(0.4)e5:Destroy()if e9.Playing==true then e9.Stopped:Wait()end;e9:Destroy()end)end;function q:CreateWindow(...)local ea={...}local eb={AnchorPoint=Vector2.zero}if type(...)=='table'then eb=...else eb.Title=ea[1]eb.AutoShow=ea[2]or false end;if type(eb.Title)~='string'then eb.Title='No title'end;if type(eb.TabPadding)~='number'then eb.TabPadding=0 end;if type(eb.MenuFadeTime)~='number'then eb.MenuFadeTime=0.2 end;if typeof(eb.Position)~='UDim2'then eb.Position=UDim2.fromOffset(175,50)end;if typeof(eb.Size)~='UDim2'then eb.Size=UDim2.fromOffset(550,600)if q.IsMobile then eb.Size=UDim2.fromOffset(550,400)end end;if type(eb.CornerRadius)~='number'then eb.CornerRadius=4 end;if eb.Center then eb.Position=UDim2.new(0.5,-eb.Size.X.Offset/2,0.5,-eb.Size.Y.Offset/2)end;local ec={Tabs={}}local c7=q:Create('Frame',{AnchorPoint=eb.AnchorPoint,BackgroundColor3=q.AccentColor,BorderSizePixel=0,Position=eb.Position,Size=eb.Size,Visible=false,ZIndex=1,Parent=m})q:AddToRegistry(c7,{BackgroundColor3='AccentColor'})q:Create('UICorner',{CornerRadius=UDim.new(0,eb.CornerRadius),Parent=c7})p=c7;q:MakeDraggable(c7,false,25)if eb.Resizable then q:MakeResizable(c7,q.MinSize)end;local ed=2;local c8=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderSizePixel=0,Position=UDim2.new(0,ed,0,ed),Size=UDim2.new(1,-2*ed,1,-2*ed),ZIndex=1,Parent=c7})q:Create('UICorner',{CornerRadius=UDim.new(0,eb.CornerRadius),Parent=c8})q:AddToRegistry(c8,{BackgroundColor3='MainColor'})local ee=q:CreateLabel({Position=UDim2.new(0,7,0,0),Size=UDim2.new(0,0,0,25),Text=eb.Title or'',TextXAlignment=Enum.TextXAlignment.Left,ZIndex=1,Parent=c8})local ef=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,Position=UDim2.new(0,8,0,25),Size=UDim2.new(1,-16,1,-33),ZIndex=1,Parent=c8})q:AddToRegistry(ef,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local eg=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=Color3.new(0,0,0),BorderMode=Enum.BorderMode.Inset,Position=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),ZIndex=1,Parent=ef})q:AddToRegistry(eg,{BackgroundColor3='BackgroundColor'})local eh=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,8,0,8),Size=UDim2.new(1,-16,0,21),ZIndex=1,Parent=eg})local ei=q:Create('UIListLayout',{Padding=UDim.new(0,eb.TabPadding),FillDirection=Enum.FillDirection.Horizontal,SortOrder=Enum.SortOrder.LayoutOrder,Parent=eh})local ej=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,Position=UDim2.new(0,8,0,30),Size=UDim2.new(1,-16,1,-38),ZIndex=2,Parent=eg})q:AddToRegistry(ej,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})function ec:SetWindowTitle(ek)ee.Text=ek end;function ec:AddTab(el)local em={Groupboxes={},Tabboxes={}}local en=q:GetTextBounds(el,q.Font,16)local eo=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,Size=UDim2.new(0,en+8+4,1,0),ZIndex=1,Parent=eh})q:AddToRegistry(eo,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local ep=q:CreateLabel({Position=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,-1),Text=el,ZIndex=1,Parent=eo})local eq=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderSizePixel=0,Position=UDim2.new(0,0,1,0),Size=UDim2.new(1,0,0,1),BackgroundTransparency=1,ZIndex=3,Parent=eo})q:AddToRegistry(eq,{BackgroundColor3='MainColor'})local er=q:Create('Frame',{Name='TabFrame',BackgroundTransparency=1,Position=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),Visible=false,ZIndex=2,Parent=ej})local es=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,Position=UDim2.new(0,8-1,0,8-1),Size=UDim2.new(0.5,-12+2,0,507+2),CanvasSize=UDim2.new(0,0,0,0),BottomImage='',TopImage='',ScrollBarThickness=0,ZIndex=2,Parent=er})local et=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,Position=UDim2.new(0.5,4+1,0,8-1),Size=UDim2.new(0.5,-12+2,0,507+2),CanvasSize=UDim2.new(0,0,0,0),BottomImage='',TopImage='',ScrollBarThickness=0,ZIndex=2,Parent=er})q:Create('UIListLayout',{Padding=UDim.new(0,8),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,HorizontalAlignment=Enum.HorizontalAlignment.Center,Parent=es})q:Create('UIListLayout',{Padding=UDim.new(0,8),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,HorizontalAlignment=Enum.HorizontalAlignment.Center,Parent=et})if q.IsMobile then local eu={["Left"]=tick(),["Right"]=tick()}es:GetPropertyChangedSignal('CanvasPosition'):Connect(function()q.CanDrag=false;local ev=tick()eu.Left=ev;task.wait(0.15)if eu.Left==ev then q.CanDrag=true end end)et:GetPropertyChangedSignal('CanvasPosition'):Connect(function()q.CanDrag=false;local ev=tick()eu.Right=ev;task.wait(0.15)if eu.Right==ev then q.CanDrag=true end end)end;for w,cP in next,{es,et}do cP:WaitForChild('UIListLayout'):GetPropertyChangedSignal('AbsoluteContentSize'):Connect(function()cP.CanvasSize=UDim2.fromOffset(0,cP.UIListLayout.AbsoluteContentSize.Y)end)end;function em:ShowTab()q.ActiveTab=el;for w,em in next,ec.Tabs do em:HideTab()end;eq.BackgroundTransparency=0;eo.BackgroundColor3=q.MainColor;q.RegistryMap[eo].Properties.BackgroundColor3='MainColor'er.Visible=true end;function em:HideTab()eq.BackgroundTransparency=1;eo.BackgroundColor3=q.BackgroundColor;q.RegistryMap[eo].Properties.BackgroundColor3='BackgroundColor'er.Visible=false end;function em:SetLayoutOrder(ew)eo.LayoutOrder=ew;ei:ApplyLayout()end;function em:GetSides()return{["Left"]=es,["Right"]=et}end;function em:AddGroupbox(aU)local c0={}local ex=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,0,507+2),ZIndex=2,Parent=aU.Side==1 and es or et})q:AddToRegistry(ex,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local ey=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-2,1,-2),Position=UDim2.new(0,1,0,1),ZIndex=4,Parent=ex})q:AddToRegistry(ey,{BackgroundColor3='BackgroundColor'})local b0=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=5,Parent=ey})q:AddToRegistry(b0,{BackgroundColor3='AccentColor'})local ez=q:CreateLabel({Size=UDim2.new(1,0,0,18),Position=UDim2.new(0,4,0,2),TextSize=14,Text=aU.Name,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=5,Parent=ey})local bG=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,4,0,20),Size=UDim2.new(1,-4,1,-20),ZIndex=1,Parent=ey})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bG})function c0:Resize()local aF=0;for w,d8 in next,c0.Container:GetChildren()do if not d8:IsA('UIListLayout')and d8.Visible then aF=aF+d8.Size.Y.Offset end end;ex.Size=UDim2.new(1,0,0,20+aF+2+2)end;c0.Container=bG;setmetatable(c0,b_)c0:AddBlank(3)c0:Resize()em.Groupboxes[aU.Name]=c0;return c0 end;function em:AddLeftGroupbox(el)return em:AddGroupbox({Side=1,Name=el})end;function em:AddRightGroupbox(el)return em:AddGroupbox({Side=2,Name=el})end;function em:AddTabbox(aU)local eA={Tabs={}}local ex=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,0,0),ZIndex=2,Parent=aU.Side==1 and es or et})q:AddToRegistry(ex,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local ey=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-2,1,-2),Position=UDim2.new(0,1,0,1),ZIndex=4,Parent=ex})q:AddToRegistry(ey,{BackgroundColor3='BackgroundColor'})local b0=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=10,Parent=ey})q:AddToRegistry(b0,{BackgroundColor3='AccentColor'})local eB=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,0,0,1),Size=UDim2.new(1,0,0,18),ZIndex=5,Parent=ey})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Horizontal,HorizontalAlignment=Enum.HorizontalAlignment.Left,SortOrder=Enum.SortOrder.LayoutOrder,Parent=eB})function eA:AddTab(el)local em={}local bp=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0.5,0,1,0),ZIndex=6,Parent=eB})q:AddToRegistry(bp,{BackgroundColor3='MainColor'})local dv=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=14,Text=el,TextXAlignment=Enum.TextXAlignment.Center,ZIndex=7,Parent=bp})local eC=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderSizePixel=0,Position=UDim2.new(0,0,1,0),Size=UDim2.new(1,0,0,1),Visible=false,ZIndex=9,Parent=bp})q:AddToRegistry(eC,{BackgroundColor3='BackgroundColor'})local bG=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,4,0,20),Size=UDim2.new(1,-4,1,-20),ZIndex=1,Visible=false,Parent=ey})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bG})function em:Show()for w,em in next,eA.Tabs do em:Hide()end;bG.Visible=true;eC.Visible=true;bp.BackgroundColor3=q.BackgroundColor;q.RegistryMap[bp].Properties.BackgroundColor3='BackgroundColor'em:Resize()end;function em:Hide()bG.Visible=false;eC.Visible=false;bp.BackgroundColor3=q.MainColor;q.RegistryMap[bp].Properties.BackgroundColor3='MainColor'end;function em:Resize()local eD=0;for w,em in next,eA.Tabs do eD=eD+1 end;for w,bp in next,eB:GetChildren()do if not bp:IsA('UIListLayout')then bp.Size=UDim2.new(1/eD,0,1,0)end end;if not bG.Visible then return end;local aF=0;for w,d8 in next,em.Container:GetChildren()do if not d8:IsA('UIListLayout')and d8.Visible then aF=aF+d8.Size.Y.Offset end end;ex.Size=UDim2.new(1,0,0,20+aF+2+2)end;bp.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Y.UserInputType==Enum.UserInputType.Touch then em:Show()em:Resize()end end)em.Container=bG;eA.Tabs[el]=em;setmetatable(em,b_)em:AddBlank(3)em:Resize()if#eB:GetChildren()==2 then em:Show()end;return em end;em.Tabboxes[aU.Name or'']=eA;return eA end;function em:AddLeftTabbox(el)return em:AddTabbox({Name=el,Side=1})end;function em:AddRightTabbox(el)return em:AddTabbox({Name=el,Side=2})end;eo.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then em:ShowTab()end end)q.TotalTabs=q.TotalTabs+1;if q.TotalTabs==1 then em:ShowTab()end;ec.Tabs[el]=em;return em end;local eE=q:Create('TextButton',{BackgroundTransparency=1,Size=UDim2.new(0,0,0,0),Visible=true,Text='',Modal=false,Parent=m})local eF={}local eG=false;local eH=false;function q:Toggle()if eH then return end;local eI=eb.MenuFadeTime;eH=true;eG=not eG;q.Toggled=eG;eE.Modal=eG;if eG then c7.Visible=true;task.spawn(function()local bS=a.MouseIconEnabled;local eJ,eK;if q.ShowCustomCursor then local eL,eM=pcall(function()eJ=Drawing.new('Triangle')eJ.Thickness=1;eJ.Filled=true;eJ.Visible=true;eK=Drawing.new('Triangle')eK.Thickness=1;eK.Filled=false;eK.Color=Color3.new(0,0,0)eK.Visible=true;while eG and m.Parent and q.ShowCustomCursor do a.MouseIconEnabled=false;local cQ=a:GetMouseLocation()eJ.Color=q.AccentColor;eJ.PointA=Vector2.new(cQ.X,cQ.Y)eJ.PointB=Vector2.new(cQ.X+16,cQ.Y+6)eJ.PointC=Vector2.new(cQ.X+6,cQ.Y+16)eK.PointA=eJ.PointA;eK.PointB=eJ.PointB;eK.PointC=eJ.PointC;i:Wait()end end)if eJ then eJ:Remove()end;if eK then eK:Remove()end end;a.MouseIconEnabled=bS end)end;for w,eN in next,c7:GetDescendants()do local J={}if eN:IsA('ImageLabel')then table.insert(J,'ImageTransparency')table.insert(J,'BackgroundTransparency')elseif eN:IsA('TextLabel')or eN:IsA('TextBox')then table.insert(J,'TextTransparency')elseif eN:IsA('Frame')or eN:IsA('ScrollingFrame')then table.insert(J,'BackgroundTransparency')elseif eN:IsA('UIStroke')then table.insert(J,'Transparency')end;local eO=eF[eN]if not eO then eO={}eF[eN]=eO end;for w,eP in next,J do if not eO[eP]then eO[eP]=eN[eP]end;if eO[eP]~=1 then g:Create(eN,TweenInfo.new(eI,Enum.EasingStyle.Linear),{[eP]=eG and eO[eP]or 1}):Play()end end end;task.wait(eI)c7.Visible=eG;eH=false end;q:GiveSignal(a.InputBegan:Connect(function(Y,eQ)if type(q.ToggleKeybind)=='table'and q.ToggleKeybind.Type=='KeyPicker'then if Y.UserInputType==Enum.UserInputType.Keyboard and Y.KeyCode.Name==q.ToggleKeybind.Value then task.spawn(q.Toggle)end elseif Y.KeyCode==Enum.KeyCode.RightControl or Y.KeyCode==Enum.KeyCode.RightShift and not eQ then task.spawn(q.Toggle)end end))do local eR=q.IsMobile and 30 or 40;local eS=q.IsMobile and 0.27 or 0.17;local eT=q.IsMobile and-0.095 or-0.045;local eU=eR*77/30;local eV=math.floor(eR*14/30)local eW=0 or q.IsMobile and 4 or 8;local eX=q.IsMobile and 0 or-2;local eY=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(eS,0,eT,0),Size=UDim2.new(0,eU,0,eR),ZIndex=200,Visible=true,Parent=m})local eZ=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.AccentColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=201,Parent=eY})q:AddToRegistry(eZ,{BorderColor3='AccentColor'})local e_=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),ZIndex=202,Parent=eZ})local f0=q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)}),Rotation=-90,Parent=e_})q:AddToRegistry(f0,{Color=function()return ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)})end})local f1=q:Create('TextButton',{Position=UDim2.new(0,eW,0,eX),Size=UDim2.new(1,-4,1,0),BackgroundTransparency=1,Font=q.Font,Text="Toggle UI",TextColor3=q.FontColor,TextSize=eV,TextXAlignment=Enum.TextXAlignment.Center,TextStrokeTransparency=0,ZIndex=203,Parent=e_})q:AddToRegistry(f1,{TextColor3='FontColor'})q:MakeDraggable(f1,eY,40,0.25)f1.MouseButton1Down:Connect(function()task.spawn(q.Toggle)end)if q.IsMobile then local f2=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(eS,0,eT,eR),Size=UDim2.new(0,eU,0,eR),ZIndex=200,Visible=true,Parent=m})local f3=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.AccentColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=201,Parent=f2})q:AddToRegistry(f3,{BorderColor3='AccentColor'})local f4=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),ZIndex=202,Parent=f3})local f5=q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)}),Rotation=-90,Parent=f4})q:AddToRegistry(f5,{Color=function()return ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)})end})local f6=q:Create('TextButton',{Position=UDim2.new(0,eW,0,eX),Size=UDim2.new(1,-4,1,0),BackgroundTransparency=1,Font=q.Font,Text="Lock UI",TextColor3=q.FontColor,TextSize=eV,TextXAlignment=Enum.TextXAlignment.Center,TextStrokeTransparency=0,ZIndex=203,Parent=f4})q:AddToRegistry(f6,{TextColor3='FontColor'})q:MakeDraggable(f6,f2,40,0.25)f6.MouseButton1Down:Connect(function()q.CantDragForced=not q.CantDragForced end)end end;if eb.AutoShow then task.spawn(q.Toggle)end;ec.Holder=c7;q.Window=ec;return ec end;local function f7()local v=u()for w,M in next,o do if M.Type=='Dropdown'and M.SpecialType=='Player'then M:SetValues(v)end end end;e.PlayerAdded:Connect(f7)e.PlayerRemoving:Connect(f7)getgenv().Library=q;local f8={}do f8.Folder='LinoriaLibSettings'f8.Ignore={}f8.Parser={Toggle={Save=function(f9,fa)return{type='Toggle',idx=f9,value=fa.Value}end,Load=function(f9,fb)if n[f9]then n[f9]:SetValue(fb.value)end end},Slider={Save=function(f9,fa)return{type='Slider',idx=f9,value=tostring(fa.Value)}end,Load=function(f9,fb)if o[f9]then o[f9]:SetValue(fb.value)end end},Dropdown={Save=function(f9,fa)return{type='Dropdown',idx=f9,value=fa.Value,multi=fa.Multi}end,Load=function(f9,fb)local fc;if typeof(fb.value)=='table'then fc={}for C,dq in ipairs(o[f9].Values)do if fb.value[dq]then fc[dq]=true end end end;if o[f9]then o[f9]:SetValue(fc or fb.value)end end},PriorityDropdown={Save=function(f9,fa)return{type='PriorityDropdown',idx=f9,value=fa.Values}end,Load=function(f9,fb)if o[f9]and o[f9].Type=='PriorityDropdown'then local fd=o[f9].Values;local fe=fb.value;local ff={}local fg={}for C,dp in ipairs(fd)do fg[dp]=true end;for w,fh in ipairs(fe)do if fg[fh]then table.insert(ff,fh)end end;for C,fi in ipairs(fd)do local fj=false;for w,dp in ipairs(fe)do if dp==fi then fj=true;break end end;if not fj then local fk=C;if C>#ff+1 then fk=#ff+1 end;table.insert(ff,fk,fi)end end;o[f9]:SetValues(ff)end end},ColorPicker={Save=function(f9,fa)return{type='ColorPicker',idx=f9,value=fa.Value:ToHex(),transparency=fa.Transparency}end,Load=function(f9,fb)if o[f9]then o[f9]:SetValueRGB(Color3.fromHex(fb.value),fb.transparency)end end},KeyPicker={Save=function(f9,fa)return{type='KeyPicker',idx=f9,mode=fa.Mode,key=fa.Value}end,Load=function(f9,fb)if o[f9]then o[f9]:SetValue({fb.key,fb.mode})end end},Input={Save=function(f9,fa)return{type='Input',idx=f9,text=fa.Value}end,Load=function(f9,fb)if o[f9]and type(fb.text)=='string'then o[f9]:SetValue(fb.text)end end}}function f8:SetIgnoreIndexes(fl)for w,fm in next,fl do self.Ignore[fm]=true end end;function f8:SetFolder(fn)self.Folder=fn;self:BuildFolderTree()end;function f8:Save(fo)if not fo then return false,'no config file is selected'end;local fp=self.Folder..'/settings/'..fo..'.json'local fb={objects={}}for f9,fq in next,n do if not self.Ignore[f9]then table.insert(fb.objects,self.Parser[fq.Type].Save(f9,fq))end end;for f9,fr in next,o do if self.Parser[fr.Type]and not self.Ignore[f9]then table.insert(fb.objects,self.Parser[fr.Type].Save(f9,fr))end end;local G,fs=pcall(h.JSONEncode,h,fb)if not G then return false,'failed to encode data'end;writefile(fp,fs)return true end;function f8:Load(fo)if not fo then return false,'no config file is selected'end;local ft=self.Folder..'/settings/'..fo..'.json'if not isfile(ft)then return false,'invalid file'end;local G,fu=pcall(h.JSONDecode,h,readfile(ft))if not G then return false,'decode error'end;getgenv().ConfigAutoLoaded=true;for w,fr in next,fu.objects do if self.Parser[fr.type]then task.spawn(function()self.Parser[fr.type].Load(fr.idx,fr)end)end end;return true end;function f8:Delete(fo)if not fo then return false,'no config file is selected'end;local ft=self.Folder..'/settings/'..fo..'.json'if not isfile(ft)then return false,'invalid file'end;local G,fu=pcall(delfile,ft)if not G then return false,'delete file error'end;return true end;function f8:SetAutoload(fo)if not fo then return false,'no config file is selected'end;local ft=self.Folder..'/settings/'..fo..'.json'if not isfile(ft)then return false,'invalid file'end;local G,fu=pcall(writefile,self.Folder..'/settings/autoload.txt',fo)if not G then return false,'write file error'end;f8.AutoloadLabel:SetText('Current autoload config: '..fo)return true end;function f8:ResetAutoload()local ft=self.Folder..'/settings/autoload.txt'if not isfile(ft)then return false,'no config file is selected'end;local G=pcall(delfile,self.Folder..'/settings/autoload.txt')if not G then return false,'delete file error'end;f8.AutoloadLabel:SetText('Current autoload config: none')return true end;function f8:IgnoreThemeSettings()self:SetIgnoreIndexes({"BackgroundColor","MainColor","AccentColor","OutlineColor","FontColor","ThemeManager_ThemeList",'ThemeManager_CustomThemeList','ThemeManager_CustomThemeName',"VideoLink"})end;function f8:BuildFolderTree()local fv={self.Folder,self.Folder..'/themes',self.Folder..'/settings'}for C=1,#fv do local cZ=fv[C]if not isfolder(cZ)then makefolder(cZ)end end end;function f8:RefreshConfigList()local fl=listfiles(self.Folder..'/settings')local fw={}for C=1,#fl do local ft=fl[C]if ft:sub(-5)=='.json'then local W=ft:find('.json',1,true)local fx=W;local fy=ft:sub(W,W)while fy~='/'and fy~='\\'and fy~=''do W=W-1;fy=ft:sub(W,W)end;if fy=='/'or fy=='\\'then table.insert(fw,ft:sub(W+1,fx-1))end end end;return fw end;function f8:SetLibrary(fz)self.Library=fz end;function f8:LoadAutoloadConfig()if isfile(self.Folder..'/settings/autoload.txt')then local fo=readfile(self.Folder..'/settings/autoload.txt')local G,fA=self:Load(fo)if not G then return self.Library:Notify('Failed to load autoload config: '..fA)end;self.Library:Notify(string.format('Auto loaded config %q',fo))end end;function f8:BuildConfigSection(fB)assert(self.Library,'Must set SaveManager.Library')local fC=fB:AddRightGroupbox('Configuration')fC:AddInput('SaveManager_ConfigName',{Text='Config name'})fC:AddButton('Create config',function()local fo=o.SaveManager_ConfigName.Value;if fo:gsub(' ','')==''then return self.Library:Notify('Invalid config name (empty)',2)end;local G,fA=self:Save(fo)if not G then return self.Library:Notify('Failed to create config: '..fA)end;self.Library:Notify(string.format('Created config %q',fo))o.SaveManager_ConfigList:SetValue()o.SaveManager_ConfigList:SetValues(self:RefreshConfigList())end)fC:AddDivider()fC:AddDropdown('SaveManager_ConfigList',{Text='Config list',Values=self:RefreshConfigList(),AllowNull=true})fC:AddButton('Overwrite config',function()local fo=o.SaveManager_ConfigList.Value;local G,fA=self:Save(fo)if not G then return self.Library:Notify('Failed to overwrite config: '..fA)end;self.Library:Notify(string.format('Overwrote config %q',fo))end):AddButton('Load config',function()local fo=o.SaveManager_ConfigList.Value;local G,fA=self:Load(fo)if not G then return self.Library:Notify('Failed to load config: '..fA)end;self.Library:Notify(string.format('Loaded config %q',fo))end)fC:AddButton('Delete config',function()local fo=o.SaveManager_ConfigList.Value;local G,fA=self:Delete(fo)if not G then return self.Library:Notify('Failed to delete config: '..fA)end;self.Library:Notify(string.format('Deleted config %q',fo))o.SaveManager_ConfigList:SetValue()o.SaveManager_ConfigList:SetValues(self:RefreshConfigList())end):AddButton('Refresh list',function()o.SaveManager_ConfigList:SetValue()o.SaveManager_ConfigList:SetValues(self:RefreshConfigList())end)fC:AddButton('Set autoload',function()local fo=o.SaveManager_ConfigList.Value;local G,fA=self:SetAutoload(fo)if not G then return self.Library:Notify('Failed to set autoload: '..fA)end;self.Library:Notify(string.format('Set %q to auto load',fo))end):AddButton('Reset autoload',function()local G,fA=self:ResetAutoload()if not G then return self.Library:Notify('Failed to reset autoload: '..fA)end;self.Library:Notify('Reset autoload')end)f8.AutoloadLabel=fC:AddLabel('Current autoload config: none',true)if isfile(self.Folder..'/settings/autoload.txt')then local fo=readfile(self.Folder..'/settings/autoload.txt')f8.AutoloadLabel:SetText('Current autoload config: '..fo)end;f8:SetIgnoreIndexes({'SaveManager_ConfigList','SaveManager_ConfigName'})end;f8:BuildFolderTree()end;local fD={}do fD.Folder='LinoriaLibSettings'fD.Library=nil;fD.BuiltInThemes={['Default']={1,h:JSONDecode([[{"FontColor":"ffffff","MainColor":"252526","AccentColor":"007acc","BackgroundColor":"1e1e1e","OutlineColor":"333333"}]])},["BBot"]={2,h:JSONDecode([[{"FontColor":"ffffff","MainColor":"1e1e1e","AccentColor":"7e48a3","BackgroundColor":"232323","OutlineColor":"141414"}]])},["Fatality"]={3,h:JSONDecode([[{"FontColor":"ffffff","MainColor":"1e1842","AccentColor":"c50754","BackgroundColor":"191335","OutlineColor":"3c355d"}]])},["Jester"]={4,h:JSONDecode([[{"FontColor":"ffffff","MainColor":"242424","AccentColor":"db4467","BackgroundColor":"1c1c1c","OutlineColor":"373737"}]])},["Mint"]={5,h:JSONDecode([[{"FontColor":"ffffff","MainColor":"242424","AccentColor":"3db488","BackgroundColor":"1c1c1c","OutlineColor":"373737"}]])},["Tokyo Night"]={6,h:JSONDecode([[{"FontColor":"ffffff","MainColor":"191925","AccentColor":"6759b3","BackgroundColor":"16161f","OutlineColor":"323232"}]])},["Ubuntu"]={7,h:JSONDecode([[{"FontColor":"ffffff","MainColor":"3e3e3e","AccentColor":"e2581e","BackgroundColor":"323232","OutlineColor":"191919"}]])},["Quartz"]={8,h:JSONDecode([[{"FontColor":"ffffff","MainColor":"232330","AccentColor":"426e87","BackgroundColor":"1d1b26","OutlineColor":"27232f"}]])},["Obsidian"]={9,h:JSONDecode([[{"FontColor":"ffffff","MainColor":"191919","AccentColor":"7d55ff","BackgroundColor":"0f0f0f","OutlineColor":"282828"}]])},["Nord"]={10,h:JSONDecode([[{"FontColor":"eceff4","MainColor":"3b4252","AccentColor":"88c0d0","BackgroundColor":"2e3440","OutlineColor":"4c566a"}]])},["Dracula"]={11,h:JSONDecode([[{"FontColor":"f8f8f2","MainColor":"44475a","AccentColor":"ff79c6","BackgroundColor":"282a36","OutlineColor":"6272a4"}]])},["Monokai"]={12,h:JSONDecode([[{"FontColor":"f8f8f2","MainColor":"272822","AccentColor":"f92672","BackgroundColor":"1e1f1c","OutlineColor":"49483e"}]])},["Gruvbox"]={13,h:JSONDecode([[{"FontColor":"ebdbb2","MainColor":"3c3836","AccentColor":"fb4934","BackgroundColor":"282828","OutlineColor":"504945"}]])},["Solarized"]={14,h:JSONDecode([[{"FontColor":"839496","MainColor":"073642","AccentColor":"cb4b16","BackgroundColor":"002b36","OutlineColor":"586e75"}]])},["Catppuccin"]={15,h:JSONDecode([[{"FontColor":"d9e0ee","MainColor":"302d41","AccentColor":"f5c2e7","BackgroundColor":"1e1e2e","OutlineColor":"575268"}]])},["One Dark"]={16,h:JSONDecode([[{"FontColor":"abb2bf","MainColor":"282c34","AccentColor":"c678dd","BackgroundColor":"21252b","OutlineColor":"5c6370"}]])},["Cyberpunk"]={17,h:JSONDecode([[{"FontColor":"f9f9f9","MainColor":"262335","AccentColor":"00ff9f","BackgroundColor":"1a1a2e","OutlineColor":"413c5e"}]])},["Oceanic Next"]={18,h:JSONDecode([[{"FontColor":"d8dee9","MainColor":"1b2b34","AccentColor":"6699cc","BackgroundColor":"16232a","OutlineColor":"343d46"}]])},["Material"]={19,h:JSONDecode([[{"FontColor":"eeffff","MainColor":"212121","AccentColor":"82aaff","BackgroundColor":"151515","OutlineColor":"424242"}]])}}function fD:ApplyTheme(fE)local fF=self:GetCustomTheme(fE)local fb=fF or self.BuiltInThemes[fE]if not fb then return end;local fG=fb[2]for f9,fH in next,fF or fG do self.Library[f9]=Color3.fromHex(fH)if o[f9]then o[f9]:SetValueRGB(Color3.fromHex(fH))end end;self:ThemeUpdate()end;function fD:ThemeUpdate()local fI={"FontColor","MainColor","AccentColor","BackgroundColor","OutlineColor"}for C,fJ in next,fI do if o and o[fJ]then self.Library[fJ]=o[fJ].Value end end;self.Library.AccentColorDark=self.Library:GetDarkerColor(self.Library.AccentColor)self.Library:UpdateColorsUsingRegistry()end;function fD:LoadDefault()local fE='Default'local fK=isfile(self.Folder..'/themes/default.txt')and readfile(self.Folder..'/themes/default.txt')local fL=true;if fK then if self.BuiltInThemes[fK]then fE=fK elseif self:GetCustomTheme(fK)then fE=fK;fL=false end elseif self.BuiltInThemes[self.DefaultTheme]then fE=self.DefaultTheme end;if fL then o.ThemeManager_ThemeList:SetValue(fE)else self:ApplyTheme(fE)end end;function fD:SaveDefault(fE)writefile(self.Folder..'/themes/default.txt',fE)end;function fD:CreateThemeManager(fM)fM:AddLabel('Background color'):AddColorPicker('BackgroundColor',{Default=self.Library.BackgroundColor})fM:AddLabel('Main color'):AddColorPicker('MainColor',{Default=self.Library.MainColor})fM:AddLabel('Accent color'):AddColorPicker('AccentColor',{Default=self.Library.AccentColor})fM:AddLabel('Outline color'):AddColorPicker('OutlineColor',{Default=self.Library.OutlineColor})fM:AddLabel('Font color'):AddColorPicker('FontColor',{Default=self.Library.FontColor})local fN={}for el,fO in next,self.BuiltInThemes do table.insert(fN,el)end;table.sort(fN,function(y,z)return self.BuiltInThemes[y][1]<self.BuiltInThemes[z][1]end)fM:AddDivider()fM:AddDropdown('ThemeManager_ThemeList',{Text='Theme list',Values=fN,Default=1})fM:AddButton('Set as default',function()self:SaveDefault(o.ThemeManager_ThemeList.Value)self.Library:Notify(string.format('Set default theme to %q',o.ThemeManager_ThemeList.Value))end)o.ThemeManager_ThemeList:OnChanged(function()self:ApplyTheme(o.ThemeManager_ThemeList.Value)end)fM:AddDivider()fM:AddInput('ThemeManager_CustomThemeName',{Text='Custom theme name'})fM:AddDropdown('ThemeManager_CustomThemeList',{Text='Custom themes',Values=self:ReloadCustomThemes(),AllowNull=true,Default=1})fM:AddDivider()fM:AddButton('Save theme',function()self:SaveCustomTheme(o.ThemeManager_CustomThemeName.Value)o.ThemeManager_CustomThemeList:SetValues(self:ReloadCustomThemes())o.ThemeManager_CustomThemeList:SetValue(nil)end):AddButton('Load theme',function()self:ApplyTheme(o.ThemeManager_CustomThemeList.Value)end)fM:AddButton('Refresh list',function()o.ThemeManager_CustomThemeList:SetValues(self:ReloadCustomThemes())o.ThemeManager_CustomThemeList:SetValue(nil)end)fM:AddButton('Set as default',function()if o.ThemeManager_CustomThemeList.Value~=nil and o.ThemeManager_CustomThemeList.Value~=''then self:SaveDefault(o.ThemeManager_CustomThemeList.Value)self.Library:Notify(string.format('Set default theme to %q',o.ThemeManager_CustomThemeList.Value))end end)fD:LoadDefault()local function fP()self:ThemeUpdate()end;o.BackgroundColor:OnChanged(fP)o.MainColor:OnChanged(fP)o.AccentColor:OnChanged(fP)o.OutlineColor:OnChanged(fP)o.FontColor:OnChanged(fP)end;function fD:GetCustomTheme(ft)local fQ=self.Folder..'/themes/'..ft;if not isfile(fQ)then return nil end;local fb=readfile(fQ)local G,fu=pcall(h.JSONDecode,h,fb)if not G then return nil end;return fu end;function fD:SaveCustomTheme(ft)if ft:gsub(' ','')==''then return self.Library:Notify('Invalid file name for theme (empty)',3)end;local fE={}local fR={"FontColor","MainColor","AccentColor","BackgroundColor","OutlineColor"}for w,fJ in next,fR do fE[fJ]=o[fJ].Value:ToHex()end;writefile(self.Folder..'/themes/'..ft..'.json',h:JSONEncode(fE))end;function fD:ReloadCustomThemes()local fl=listfiles(self.Folder..'/themes')local fw={}for C=1,#fl do local ft=fl[C]if ft:sub(-5)=='.json'then local W=ft:find('.json',1,true)local fy=ft:sub(W,W)while fy~='/'and fy~='\\'and fy~=''do W=W-1;fy=ft:sub(W,W)end;if fy=='/'or fy=='\\'then table.insert(fw,ft:sub(W+1))end end end;return fw end;function fD:SetLibrary(fS)self.Library=fS end;function fD:BuildFolderTree()local fv={}local fT=self.Folder:split('/')for f9=1,#fT do fv[#fv+1]=table.concat(fT,'/',1,f9)end;table.insert(fv,self.Folder..'/themes')table.insert(fv,self.Folder..'/settings')for C=1,#fv do local cZ=fv[C]if not isfolder(cZ)then makefolder(cZ)end end end;function fD:SetFolder(fn)self.Folder=fn;self:BuildFolderTree()end;function fD:CreateGroupBox(fB)assert(self.Library,'Must set ThemeManager.Library first!')return fB:AddLeftGroupbox('Themes')end;function fD:ApplyToTab(fB)assert(self.Library,'Must set ThemeManager.Library first!')local fM=self:CreateGroupBox(fB)self:CreateThemeManager(fM)end;function fD:ApplyToGroupbox(fM)assert(self.Library,'Must set ThemeManager.Library first!')self:CreateThemeManager(fM)end;fD:BuildFolderTree()end;return q,f8,fD
