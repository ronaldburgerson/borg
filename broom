local a=game:GetService('UserInputService')local b=game:GetService('TextService')local c=game:GetService('CoreGui')local d=game:GetService('Teams')local e=game:GetService('Players')local f=game:GetService('RunService')local g=game:GetService('TweenService')local h=game:GetService('HttpService')local i=f.RenderStepped;local j=e.LocalPlayer;local k=j:GetMouse()local l=protectgui or syn and syn.protect_gui or function()end;local m=Instance.new('ScreenGui')l(m)m.ZIndexBehavior=Enum.ZIndexBehavior.Global;m.Parent=c;local n={}local o={}getgenv().Toggles=n;getgenv().Options=o;local p=nil;local q={Registry={},RegistryMap={},HudRegistry={},FontColor=Color3.fromRGB(255,255,255),MainColor=Color3.fromRGB(28,28,28),BackgroundColor=Color3.fromRGB(20,20,20),AccentColor=Color3.fromRGB(0,85,255),OutlineColor=Color3.fromRGB(50,50,50),RiskColor=Color3.fromRGB(255,50,50),Black=Color3.new(0,0,0),Font=Enum.Font.Code,OpenedFrames={},DependencyBoxes={},Signals={},ScreenGui=m,ActiveTab=nil,Toggled=false,MinSize=Vector2.new(300,200),IsMobile=false,DevicePlatform=Enum.Platform.None,CanDrag=true,CantDragForced=false,ShowCustomCursor=false,VideoLink="",TotalTabs=0}pcall(function()q.DevicePlatform=a:GetPlatform()end)q.IsMobile=q.DevicePlatform==Enum.Platform.Android or q.DevicePlatform==Enum.Platform.IOS;if q.IsMobile then q.MinSize=Vector2.new(550,200)end;local r=0;local s=0;table.insert(q.Signals,i:Connect(function(t)r=r+t;if r>=1/60 then r=0;s=s+1/400;if s>1 then s=0 end;q.CurrentRainbowHue=s;q.CurrentRainbowColor=Color3.fromHSV(s,0.8,1)end end))local function u()local v={}for w,x in e:GetPlayers()do if x~=j then table.insert(v,x.Name)end end;table.sort(v,function(y,z)return y<z end)return v end;local function A()local B=d:GetTeams()for C=1,#B do B[C]=B[C].Name end;table.sort(B,function(D,E)return D<E end)return B end;function q:SafeCallback(F,...)if not F then return end;if not q.NotifyOnError then return F(...)end;local G,H=pcall(F,...)if not G then local w,C=H:find(":%d+: ")if not C then return q:Notify(H)end;return q:Notify(H:sub(C+1),3)end end;function q:AttemptSave()if q.SaveManager then q.SaveManager:Save()end end;function q:Create(I,J)local K=I;if type(I)=='string'then K=Instance.new(I)end;for L,M in next,J do K[L]=M end;return K end;function q:ApplyTextStroke(N)N.TextStrokeTransparency=1;q:Create('UIStroke',{Color=Color3.new(0,0,0),Thickness=1,LineJoinMode=Enum.LineJoinMode.Miter,Parent=N})end;function q:CreateLabel(J,O)local K=q:Create('TextLabel',{BackgroundTransparency=1,Font=q.Font,TextColor3=q.FontColor,TextSize=16,TextStrokeTransparency=0})q:ApplyTextStroke(K)q:AddToRegistry(K,{TextColor3='FontColor'},O)return q:Create(K,J)end;function q:MakeDraggable(P,Q,R,S)Q=Q or P;S=tonumber(S)or 0;R=R or 40;P.Active=true;local function T(U,V)local W=U.AbsolutePosition;local X=U.AbsoluteSize;return V.X>=W.X and V.X<=W.X+X.X and V.Y>=W.Y and V.Y<=W.Y+X.Y end;P.InputBegan:Connect(function(Y)if Y.UserInputType~=Enum.UserInputType.MouseButton1 then return end;local Z=k.Y-P.AbsolutePosition.Y;if Z>R then return end;if S>0 then local _=tick()while tick()-_<S do if not a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)then return end;if not T(P,Vector2.new(k.X,k.Y))then return end;i:Wait()end end;local a0=Vector2.new(k.X-Q.AbsolutePosition.X,k.Y-Q.AbsolutePosition.Y)while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)do Q.Position=UDim2.new(0,k.X-a0.X+Q.Size.X.Offset*Q.AnchorPoint.X,0,k.Y-a0.Y+Q.Size.Y.Offset*Q.AnchorPoint.Y)i:Wait()end end)if q.IsMobile then local a1=false;local a2=nil;local a3=nil;local a4=nil;a.TouchStarted:Connect(function(a5)if q.CantDragForced==true then a1=false;return end;if a1 or not q:IsMouseOverFrame(P,a5)or q.Window.Holder.Visible~=true then return end;local Z=a5.Position.Y-P.AbsolutePosition.Y;if Z>R then return end;a2=a5;a3=a5.Position;a4=Q.Position;if S>0 then local _=tick()while tick()-_<S do if not a2 then return end;if not q:IsMouseOverFrame(P,a2)then return end;i:Wait()end end;a1=true end)a.TouchMoved:Connect(function(a5)if q.CantDragForced==true then a1=false;return end;if a5~=a2 or not a1 or q.CanDrag~=true or q.Window.Holder.Visible~=true then return end;local a6=a5.Position-a3;Q.Position=UDim2.new(a4.X.Scale,a4.X.Offset+a6.X,a4.Y.Scale,a4.Y.Offset+a6.Y)end)a.TouchEnded:Connect(function(a5)if a5==a2 then a1=false;a2=nil end end)end end;function q:MakeResizable(Instance,a7)Instance.Active=true;local a8=25;local a9=0.5;local aa=q:Create('Frame',{SizeConstraint=Enum.SizeConstraint.RelativeXX,BackgroundColor3=Color3.new(0,0,0),BackgroundTransparency=1,BorderSizePixel=0,Size=UDim2.new(0,30,0,30),Position=UDim2.new(1,-30,1,-30),Visible=true,ClipsDescendants=true,ZIndex=1,Parent=Instance})local ab=q:Create('ImageButton',{BackgroundColor3=q.AccentColor,BackgroundTransparency=1,BorderSizePixel=0,Size=UDim2.new(2,0,2,0),Position=UDim2.new(1,-30,1,-30),ZIndex=2,Parent=aa})local ac=q:Create('UICorner',{CornerRadius=UDim.new(0.5,0),Parent=ab})q:AddToRegistry(ab,{BackgroundColor3='AccentColor'})aa.Size=UDim2.fromOffset(a8,a8)aa.Position=UDim2.new(1,-a8,1,-a8)a7=a7 or q.MinSize;local ad;aa.Parent=Instance;local function ae(af)ab.Position=UDim2.new()ab.Size=UDim2.new(2,0,2,0)ab.Parent=aa;ab.BackgroundTransparency=af;ac.Parent=ab;ad=nil end;ab.MouseButton1Down:Connect(function()if not ad then ad=Vector2.new(k.X-(Instance.AbsolutePosition.X+Instance.AbsoluteSize.X),k.Y-(Instance.AbsolutePosition.Y+Instance.AbsoluteSize.Y))ab.BackgroundTransparency=1;ab.Size=UDim2.fromOffset(q.ScreenGui.AbsoluteSize.X,q.ScreenGui.AbsoluteSize.Y)ab.Position=UDim2.new()ac.Parent=nil;ab.Parent=q.ScreenGui end end)ab.InputBegan:Connect(function(a5)if a5.UserInputType==Enum.UserInputType.Touch and not ad then local ag=a5.Position;ad=Vector2.new(ag.X-(Instance.AbsolutePosition.X+Instance.AbsoluteSize.X),ag.Y-(Instance.AbsolutePosition.Y+Instance.AbsoluteSize.Y))ab.BackgroundTransparency=1;ab.Size=UDim2.fromOffset(q.ScreenGui.AbsoluteSize.X,q.ScreenGui.AbsoluteSize.Y)ab.Position=UDim2.new()ac.Parent=nil;ab.Parent=q.ScreenGui end end)ab.MouseMoved:Connect(function()if ad then local ah=Vector2.new(k.X-ad.X,k.Y-ad.Y)local ai=Vector2.new(math.clamp(ah.X-Instance.AbsolutePosition.X,a7.X,math.huge),math.clamp(ah.Y-Instance.AbsolutePosition.Y,a7.Y,math.huge))Instance.Size=UDim2.fromOffset(ai.X,ai.Y)end end)ab.InputChanged:Connect(function(a5)if ad and a5.UserInputType==Enum.UserInputType.Touch then local ag=a5.Position;local ah=Vector2.new(ag.X-ad.X,ag.Y-ad.Y)local ai=Vector2.new(math.clamp(ah.X-Instance.AbsolutePosition.X,a7.X,math.huge),math.clamp(ah.Y-Instance.AbsolutePosition.Y,a7.Y,math.huge))Instance.Size=UDim2.fromOffset(ai.X,ai.Y)end end)ab.MouseEnter:Connect(function()ae(a9)end)ab.MouseLeave:Connect(function()ae(1)end)ab.MouseButton1Up:Connect(function()ae(a9)end)ab.InputEnded:Connect(function(a5)if a5.UserInputType==Enum.UserInputType.Touch then ae(a9)end end)end;function q:AddToolTip(aj,ak)local al,am=q:GetTextBounds(aj,q.Font,14)local an=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,Size=UDim2.fromOffset(al+5,am+4),ZIndex=100,Parent=q.ScreenGui,Visible=false})local ao=q:CreateLabel({Position=UDim2.fromOffset(3,1),Size=UDim2.fromOffset(al,am),TextSize=14,Text=aj,TextColor3=q.FontColor,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=an.ZIndex+1,Parent=an})q:AddToRegistry(an,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:AddToRegistry(ao,{TextColor3='FontColor'})local ap=false;ak.MouseEnter:Connect(function()if q:MouseIsOverOpenedFrame()then return end;ap=true;an.Position=UDim2.fromOffset(k.X+15,k.Y+12)an.Visible=true;while ap do f.Heartbeat:Wait()an.Position=UDim2.fromOffset(k.X+15,k.Y+12)end end)ak.MouseLeave:Connect(function()ap=false;an.Visible=false end)if p then p:GetPropertyChangedSignal("Visible"):Connect(function()if p.Visible==false then ap=false;an.Visible=false end end)end end;function q:OnHighlight(aq,Instance,J,ar)aq.MouseEnter:Connect(function()local as=q.RegistryMap[Instance]for L,at in next,J do Instance[L]=q[at]or at;if as and as.Properties[L]then as.Properties[L]=at end end end)aq.MouseLeave:Connect(function()local as=q.RegistryMap[Instance]for L,at in next,ar do Instance[L]=q[at]or at;if as and as.Properties[L]then as.Properties[L]=at end end end)end;function q:MouseIsOverOpenedFrame(Y)local au=k;if q.IsMobile and Y then au=Y.Position end;for av,w in next,q.OpenedFrames do local aw,ax=av.AbsolutePosition,av.AbsoluteSize;if au.X>=aw.X and au.X<=aw.X+ax.X and au.Y>=aw.Y and au.Y<=aw.Y+ax.Y then return true end end end;function q:IsMouseOverFrame(av,Y)local au=k;if q.IsMobile and Y then au=Y.Position end;local aw,ax=av.AbsolutePosition,av.AbsoluteSize;if au.X>=aw.X and au.X<=aw.X+ax.X and au.Y>=aw.Y and au.Y<=aw.Y+ax.Y then return true end end;function q:UpdateDependencyBoxes()for w,ay in next,q.DependencyBoxes do ay:Update()end end;function q:MapValue(M,az,aA,aB,aC)return(1-(M-az)/(aA-az))*aB+(M-az)/(aA-az)*aC end;function q:GetTextBounds(aD,aE,aF,aG)local aH=b:GetTextSize(aD,aF,aE,aG or Vector2.new(1920,1080))return aH.X,aH.Y end;function q:GetDarkerColor(aI)local aJ,aK,aL=Color3.toHSV(aI)return Color3.fromHSV(aJ,aK,aL/1.5)end;q.AccentColorDark=q:GetDarkerColor(q.AccentColor)function q:AddToRegistry(Instance,J,O)local aM=#q.Registry+1;local aN={Instance=Instance,Properties=J,Idx=aM}table.insert(q.Registry,aN)q.RegistryMap[Instance]=aN;if O then table.insert(q.HudRegistry,aN)end end;function q:RemoveFromRegistry(Instance)local aN=q.RegistryMap[Instance]if aN then for aM=#q.Registry,1,-1 do if q.Registry[aM]==aN then table.remove(q.Registry,aM)end end;for aM=#q.HudRegistry,1,-1 do if q.HudRegistry[aM]==aN then table.remove(q.HudRegistry,aM)end end;q.RegistryMap[Instance]=nil end end;function q:UpdateColorsUsingRegistry()for aM,aO in next,q.Registry do for L,at in next,aO.Properties do if type(at)=='string'then aO.Instance[L]=q[at]elseif type(at)=='function'then aO.Instance[L]=at()end end end end;function q:GiveSignal(aP)table.insert(q.Signals,aP)end;function q:Unload()for aM=#q.Signals,1,-1 do local aQ=table.remove(q.Signals,aM)aQ:Disconnect()end;if q.OnUnload then q.OnUnload()end;m:Destroy()end;function q:OnUnload(aR)q.OnUnload=aR end;q:GiveSignal(m.DescendantRemoving:Connect(function(Instance)if q.RegistryMap[Instance]then q:RemoveFromRegistry(Instance)end end))local aS={}do local aT={}function aT:AddColorPicker(aM,aU)local aV=self.TextLabel;assert(aU.Default,'AddColorPicker: Missing default value.')local aW={Value=aU.Default,Transparency=aU.Transparency or 0,Type='ColorPicker',Title=type(aU.Title)=='string'and aU.Title or'Color picker',Callback=aU.Callback or function(aI)end}function aW:SetHSVFromRGB(aI)local aJ,aK,aL=Color3.toHSV(aI)aW.Hue=aJ;aW.Sat=aK;aW.Vib=aL end;aW:SetHSVFromRGB(aW.Value)local aX=q:Create('Frame',{BackgroundColor3=aW.Value,BorderColor3=q:GetDarkerColor(aW.Value),BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(0,28,0,14),ZIndex=6,Parent=aV})local aY=q:Create('ImageLabel',{BorderSizePixel=0,Size=UDim2.new(0,27,0,13),ZIndex=5,Image='http://www.roblox.com/asset/?id=18580629231',Visible=not not aU.Transparency,Parent=aX})local aZ=q:Create('Frame',{Name='Color',BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(aX.AbsolutePosition.X,aX.AbsolutePosition.Y+18),Size=UDim2.fromOffset(230,aU.Transparency and 271 or 253),Visible=false,ZIndex=15,Parent=m})aX:GetPropertyChangedSignal('AbsolutePosition'):Connect(function()aZ.Position=UDim2.fromOffset(aX.AbsolutePosition.X,aX.AbsolutePosition.Y+18)end)local a_=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=16,Parent=aZ})local b0=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=17,Parent=a_})local b1=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,4,0,25),Size=UDim2.new(0,200,0,200),ZIndex=17,Parent=a_})local b2=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=18,Parent=b1})local b3=q:Create('ImageLabel',{BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=18,Image='http://www.roblox.com/asset/?id=18580632112',Parent=b2})local b4=q:Create('ImageLabel',{AnchorPoint=Vector2.new(0.5,0.5),Size=UDim2.new(0,6,0,6),BackgroundTransparency=1,Image='http://www.roblox.com/asset/?id=18580629971',ImageColor3=Color3.new(0,0,0),ZIndex=19,Parent=b3})local b5=q:Create('ImageLabel',{Size=UDim2.new(0,b4.Size.X.Offset-2,0,b4.Size.Y.Offset-2),Position=UDim2.new(0,1,0,1),BackgroundTransparency=1,Image='http://www.roblox.com/asset/?id=18580629971',ZIndex=20,Parent=b4})local b6=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,208,0,25),Size=UDim2.new(0,15,0,200),ZIndex=17,Parent=a_})local b7=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=18,Parent=b6})local b8=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),AnchorPoint=Vector2.new(0,0.5),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,0,0,1),ZIndex=18,Parent=b7})local b9=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(4,228),Size=UDim2.new(0.5,-6,0,20),ZIndex=18,Parent=a_})local ba=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=18,Parent=b9})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=ba})local bb=q:Create('TextBox',{BackgroundTransparency=1,Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-5,1,0),Font=q.Font,PlaceholderColor3=Color3.fromRGB(190,190,190),PlaceholderText='Hex color',Text='#FFFFFF',TextColor3=q.FontColor,TextSize=14,TextStrokeTransparency=0,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=20,Parent=ba})q:ApplyTextStroke(bb)local bc=q:Create(b9:Clone(),{Position=UDim2.new(0.5,2,0,228),Size=UDim2.new(0.5,-6,0,20),Parent=a_})local bd=q:Create(bc.Frame:FindFirstChild('TextBox'),{Text='255, 255, 255',PlaceholderText='RGB color',TextColor3=q.FontColor})local be,bf,bg;if aU.Transparency then be=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(4,251),Size=UDim2.new(1,-8,0,15),ZIndex=19,Parent=a_})bf=q:Create('Frame',{BackgroundColor3=aW.Value,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=19,Parent=be})q:AddToRegistry(bf,{BorderColor3='OutlineColor'})local bh=q:Create('ImageLabel',{BackgroundTransparency=1,Size=UDim2.new(1,0,1,0),Image='http://www.roblox.com/asset/?id=18580630715',ZIndex=20,Parent=bf})bg=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),AnchorPoint=Vector2.new(0.5,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0,1,1,0),ZIndex=21,Parent=bf})end;local bi=q:CreateLabel({Size=UDim2.new(1,0,0,14),Position=UDim2.fromOffset(5,5),TextXAlignment=Enum.TextXAlignment.Left,TextSize=14,Text=aW.Title,TextWrapped=false,ZIndex=16,Parent=a_})local bj={}do bj.Options={}bj.Container=q:Create('Frame',{BorderColor3=Color3.new(),ZIndex=14,Visible=false,Parent=m})bj.Inner=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.fromScale(1,1),ZIndex=15,Parent=bj.Container})q:Create('UIListLayout',{Name='Layout',FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bj.Inner})q:Create('UIPadding',{Name='Padding',PaddingLeft=UDim.new(0,4),Parent=bj.Inner})local function bk()bj.Container.Position=UDim2.fromOffset(aX.AbsolutePosition.X+aX.AbsoluteSize.X+4,aX.AbsolutePosition.Y+1)end;local function bl()local bm=60;for C,bn in next,bj.Inner:GetChildren()do if bn:IsA('TextLabel')then bm=math.max(bm,bn.TextBounds.X)end end;bj.Container.Size=UDim2.fromOffset(bm+8,bj.Inner.Layout.AbsoluteContentSize.Y+4)end;aX:GetPropertyChangedSignal('AbsolutePosition'):Connect(bk)bj.Inner.Layout:GetPropertyChangedSignal('AbsoluteContentSize'):Connect(bl)task.spawn(bk)task.spawn(bl)q:AddToRegistry(bj.Inner,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})function bj:Show()if q.IsMobile then q.CanDrag=false end;self.Container.Visible=true end;function bj:Hide()if q.IsMobile then q.CanDrag=true end;self.Container.Visible=false end;function bj:AddOption(bo,aR)if type(aR)~='function'then aR=function()end end;local bp=q:CreateLabel({Active=false,Size=UDim2.new(1,0,0,15),TextSize=13,Text=bo,ZIndex=16,Parent=self.Inner,TextXAlignment=Enum.TextXAlignment.Left})q:OnHighlight(bp,bp,{TextColor3='AccentColor'},{TextColor3='FontColor'})bp.InputBegan:Connect(function(Y)if Y.UserInputType~=Enum.UserInputType.MouseButton1 or Y.UserInputType~=Enum.UserInputType.Touch then return end;aR()end)end;bj:AddOption('Copy color',function()q.ColorClipboard=aW.Value;q:Notify('Copied color!',2)end)bj:AddOption('Paste color',function()if not q.ColorClipboard then return q:Notify('You have not copied a color!',2)end;aW:SetValueRGB(q.ColorClipboard)end)bj:AddOption('Copy HEX',function()pcall(setclipboard,aW.Value:ToHex())q:Notify('Copied hex code to clipboard!',2)end)bj:AddOption('Copy RGB',function()pcall(setclipboard,table.concat({math.floor(aW.Value.R*255),math.floor(aW.Value.G*255),math.floor(aW.Value.B*255)},', '))q:Notify('Copied RGB values to clipboard!',2)end)end;q:AddToRegistry(a_,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})q:AddToRegistry(b0,{BackgroundColor3='AccentColor'})q:AddToRegistry(b2,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})q:AddToRegistry(ba,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:AddToRegistry(bc.Frame,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:AddToRegistry(bd,{TextColor3='FontColor'})q:AddToRegistry(bb,{TextColor3='FontColor'})local bq={}for s=0,1,0.1 do table.insert(bq,ColorSequenceKeypoint.new(s,Color3.fromHSV(s,1,1)))end;local br=q:Create('UIGradient',{Color=ColorSequence.new(bq),Rotation=90,Parent=b7})bb.FocusLost:Connect(function(bs)if bs then local G,bt=pcall(Color3.fromHex,bb.Text)if G and typeof(bt)=='Color3'then aW.Hue,aW.Sat,aW.Vib=Color3.toHSV(bt)end end;aW:Display()end)bd.FocusLost:Connect(function(bs)if bs then local bu,bv,z=bd.Text:match('(%d+),%s*(%d+),%s*(%d+)')if bu and bv and z then aW.Hue,aW.Sat,aW.Vib=Color3.toHSV(Color3.fromRGB(bu,bv,z))end end;aW:Display()end)function aW:Display()aW.Value=Color3.fromHSV(aW.Hue,aW.Sat,aW.Vib)b3.BackgroundColor3=Color3.fromHSV(aW.Hue,1,1)q:Create(aX,{BackgroundColor3=aW.Value,BackgroundTransparency=aW.Transparency,BorderColor3=q:GetDarkerColor(aW.Value)})if bf then bf.BackgroundColor3=aW.Value;bg.Position=UDim2.new(1-aW.Transparency,0,0,0)end;b4.Position=UDim2.new(aW.Sat,0,1-aW.Vib,0)b8.Position=UDim2.new(0,0,aW.Hue,0)bb.Text='#'..aW.Value:ToHex()bd.Text=table.concat({math.floor(aW.Value.R*255),math.floor(aW.Value.G*255),math.floor(aW.Value.B*255)},', ')q:SafeCallback(aW.Callback,aW.Value)q:SafeCallback(aW.Changed,aW.Value)end;function aW:OnChanged(bw)aW.Changed=bw;bw(aW.Value)end;function aW:Show()for av,bx in next,q.OpenedFrames do if av.Name=='Color'then av.Visible=false;q.OpenedFrames[av]=nil end end;aZ.Visible=true;q.OpenedFrames[aZ]=true end;function aW:Hide()aZ.Visible=false;q.OpenedFrames[aZ]=nil end;function aW:SetValue(by,af)local aI=Color3.fromHSV(by[1],by[2],by[3])aW.Transparency=af or 0;aW:SetHSVFromRGB(aI)aW:Display()end;function aW:SetValueRGB(aI,af)aW.Transparency=af or 0;aW:SetHSVFromRGB(aI)aW:Display()end;b3.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local bz=b3.AbsolutePosition.X;local bA=bz+b3.AbsoluteSize.X;local bB=math.clamp(k.X,bz,bA)local bC=b3.AbsolutePosition.Y;local bD=bC+b3.AbsoluteSize.Y;local bE=math.clamp(k.Y,bC,bD)aW.Sat=(bB-bz)/(bA-bz)aW.Vib=1-(bE-bC)/(bD-bC)aW:Display()i:Wait()end;q:AttemptSave()end end)b7.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local bC=b7.AbsolutePosition.Y;local bD=bC+b7.AbsoluteSize.Y;local bE=math.clamp(k.Y,bC,bD)aW.Hue=(bE-bC)/(bD-bC)aW:Display()i:Wait()end;q:AttemptSave()end end)aX.InputBegan:Connect(function(Y)if q:MouseIsOverOpenedFrame()then return end;if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then if aZ.Visible then aW:Hide()else bj:Hide()aW:Show()end elseif Y.UserInputType==Enum.UserInputType.MouseButton2 then bj:Show()aW:Hide()end end)if bf then bf.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local bz=bf.AbsolutePosition.X;local bA=bz+bf.AbsoluteSize.X;local bB=math.clamp(k.X,bz,bA)aW.Transparency=1-(bB-bz)/(bA-bz)aW:Display()i:Wait()end;q:AttemptSave()end end)end;q:GiveSignal(a.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then local aw,ax=aZ.AbsolutePosition,aZ.AbsoluteSize;if k.X<aw.X or k.X>aw.X+ax.X or k.Y<aw.Y-20-1 or k.Y>aw.Y+ax.Y then aW:Hide()end;if not q:IsMouseOverFrame(bj.Container)then bj:Hide()end end;if Y.UserInputType==Enum.UserInputType.MouseButton2 and bj.Container.Visible then if not q:IsMouseOverFrame(bj.Container)and not q:IsMouseOverFrame(aX)then bj:Hide()end end end))aW:Display()aW.DisplayFrame=aX;o[aM]=aW;return self end;function aT:AddKeyPicker(aM,aU)local bF=self;local aV=self.TextLabel;local bG=self.Container;assert(aU.Default,'AddKeyPicker: Missing default value.')local bH={Value=aU.Default,Toggled=false,Mode=aU.Mode or'Toggle',Type='KeyPicker',Callback=aU.Callback or function(M)end,ChangedCallback=aU.ChangedCallback or function(bI)end,SyncToggleState=aU.SyncToggleState or false}if bH.SyncToggleState then aU.Modes={'Toggle'}aU.Mode='Toggle'end;local bJ=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0,28,0,15),ZIndex=6,Parent=aV})local bK=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=7,Parent=bJ})q:AddToRegistry(bK,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local bi=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=13,Text=aU.Default,TextWrapped=true,ZIndex=8,Parent=bK})local bL=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(aV.AbsolutePosition.X+aV.AbsoluteSize.X+4,aV.AbsolutePosition.Y+1),Size=UDim2.new(0,60,0,45+2),Visible=false,ZIndex=14,Parent=m})aV:GetPropertyChangedSignal('AbsolutePosition'):Connect(function()bL.Position=UDim2.fromOffset(aV.AbsolutePosition.X+aV.AbsoluteSize.X+4,aV.AbsolutePosition.Y+1)end)local bM=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=15,Parent=bL})q:AddToRegistry(bM,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bM})local bN=q:CreateLabel({TextXAlignment=Enum.TextXAlignment.Left,Size=UDim2.new(1,0,0,18),TextSize=13,Visible=false,ZIndex=110,Parent=q.KeybindContainer},true)local bO=aU.Modes or{'Always','Toggle','Hold'}local bP={}for aM,bQ in next,bO do local bR={}local ao=q:CreateLabel({Active=false,Size=UDim2.new(1,0,0,15),TextSize=13,Text=bQ,ZIndex=16,Parent=bM})function bR:Select()for w,bp in next,bP do bp:Deselect()end;bH.Mode=bQ;ao.TextColor3=q.AccentColor;q.RegistryMap[ao].Properties.TextColor3='AccentColor'bL.Visible=false end;function bR:Deselect()bH.Mode=nil;ao.TextColor3=q.FontColor;q.RegistryMap[ao].Properties.TextColor3='FontColor'end;ao.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 then bR:Select()q:AttemptSave()end end)if bQ==bH.Mode then bR:Select()end;bP[bQ]=bR end;function bH:Update()if aU.NoUI then return end;local bS=bH:GetState()bN.Text=string.format('[%s] %s (%s)',bH.Value,aU.Text,bH.Mode)bN.Visible=true;bN.TextColor3=bS and q.AccentColor or q.FontColor;q.RegistryMap[bN].Properties.TextColor3=bS and'AccentColor'or'FontColor'local bT=0;local bU=0;for w,ao in next,q.KeybindContainer:GetChildren()do if ao:IsA('TextLabel')and ao.Visible then bT=bT+18;if ao.TextBounds.X>bU then bU=ao.TextBounds.X end end end;q.KeybindFrame.Size=UDim2.new(0,math.max(bU+10,210),0,bT+23)end;function bH:GetState()if bH.Mode=='Always'then return true elseif bH.Mode=='Hold'then if bH.Value=='None'then return false end;local bV=bH.Value;if bV=='MB1'or bV=='MB2'then return bV=='MB1'and a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)or bV=='MB2'and a:IsMouseButtonPressed(Enum.UserInputType.MouseButton2)else return a:IsKeyDown(Enum.KeyCode[bH.Value])end else return bH.Toggled end end;function bH:SetValue(aN)local bV,bQ=aN[1],aN[2]bi.Text=bV;bH.Value=bV;bP[bQ]:Select()bH:Update()end;function bH:OnClick(aR)bH.Clicked=aR end;function bH:OnChanged(aR)bH.Changed=aR;aR(bH.Value)end;if bF.Addons then table.insert(bF.Addons,bH)end;function bH:DoClick()if bF.Type=='Toggle'and bH.SyncToggleState then bF:SetValue(not bF.Value)end;q:SafeCallback(bH.Callback,bH.Toggled)q:SafeCallback(bH.Clicked,bH.Toggled)end;local bW=false;bJ.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()then bW=true;bi.Text=''local bX;local aD=''task.spawn(function()while not bX do if aD=='...'then aD=''end;aD=aD..'.'bi.Text=aD;task.wait(0.4)end end)task.wait(0.2)local bY;bY=a.InputBegan:Connect(function(Y)local bV;if Y.UserInputType==Enum.UserInputType.Keyboard then bV=Y.KeyCode.Name elseif Y.UserInputType==Enum.UserInputType.MouseButton1 then bV='MB1'elseif Y.UserInputType==Enum.UserInputType.MouseButton2 then bV='MB2'end;bX=true;bW=false;bi.Text=bV;bH.Value=bV;q:SafeCallback(bH.ChangedCallback,Y.KeyCode or Y.UserInputType)q:SafeCallback(bH.Changed,Y.KeyCode or Y.UserInputType)q:AttemptSave()bY:Disconnect()end)elseif Y.UserInputType==Enum.UserInputType.MouseButton2 and not q:MouseIsOverOpenedFrame()then bL.Visible=true end end)q:GiveSignal(a.InputBegan:Connect(function(Y)if bH.Value=="Unknown"then return end;if not bW and not a:GetFocusedTextBox()then if bH.Mode=='Toggle'then local bV=bH.Value;if bV=='MB1'or bV=='MB2'then if bV=='MB1'and Y.UserInputType==Enum.UserInputType.MouseButton1 or bV=='MB2'and Y.UserInputType==Enum.UserInputType.MouseButton2 then bH.Toggled=not bH.Toggled;bH:DoClick()end elseif Y.UserInputType==Enum.UserInputType.Keyboard then if Y.KeyCode.Name==bV then bH.Toggled=not bH.Toggled;bH:DoClick()end end end;bH:Update()end;if Y.UserInputType==Enum.UserInputType.MouseButton1 then local aw,ax=bL.AbsolutePosition,bL.AbsoluteSize;if k.X<aw.X or k.X>aw.X+ax.X or k.Y<aw.Y-20-1 or k.Y>aw.Y+ax.Y then bL.Visible=false end end end))q:GiveSignal(a.InputEnded:Connect(function(Y)if not bW then bH:Update()end end))bH:Update()o[aM]=bH;return self end;aS.__index=aT;aS.__namecall=function(bZ,bV,...)return aT[bV](...)end end;local b_={}do local aT={}function aT:AddBlank(aF)local c0=self;local bG=c0.Container;q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,0,aF),ZIndex=1,Parent=bG})end;function aT:AddLabel(aD,c1)local ao={}local c0=self;local bG=c0.Container;local c2=q:CreateLabel({Size=UDim2.new(1,-4,0,15),TextSize=14,Text=aD,TextWrapped=c1 or false,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=5,Parent=bG})if c1 then local am=select(2,q:GetTextBounds(aD,q.Font,14,Vector2.new(c2.AbsoluteSize.X,math.huge)))c2.Size=UDim2.new(1,-4,0,am)else q:Create('UIListLayout',{Padding=UDim.new(0,4),FillDirection=Enum.FillDirection.Horizontal,HorizontalAlignment=Enum.HorizontalAlignment.Right,SortOrder=Enum.SortOrder.LayoutOrder,Parent=c2})end;ao.TextLabel=c2;ao.Container=bG;function ao:SetText(aD)c2.Text=aD;if c1 then local am=select(2,q:GetTextBounds(aD,q.Font,14,Vector2.new(c2.AbsoluteSize.X,math.huge)))c2.Size=UDim2.new(1,-4,0,am)end;c0:Resize()end;if not c1 then setmetatable(ao,aS)end;c0:AddBlank(5)c0:Resize()return ao end;function aT:AddButton(...)local bp={}local function c3(I,c4,...)local c5=select(1,...)if type(c5)=='table'then c4.Text=c5.Text;c4.Func=c5.Func;c4.DoubleClick=c5.DoubleClick;c4.Tooltip=c5.Tooltip else c4.Text=select(1,...)c4.Func=select(2,...)end;assert(type(c4.Func)=='function','AddButton: `Func` callback is missing.')end;c3('Button',bp,...)local c0=self;local bG=c0.Container;local function c6(bp)local c7=bp.ScrollSpace and-50 or 0;local c8=UDim2.new(1,-4+c7,0,20)local c9=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=c8,ZIndex=5})local ca=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=c9})local ao=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=14,Text=bp.Text,ZIndex=6,Parent=ca})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=ca})q:AddToRegistry(c9,{BorderColor3='Black'})q:AddToRegistry(ca,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:OnHighlight(c9,c9,{BorderColor3='AccentColor'},{BorderColor3='Black'})return c9,ca,ao end;local function cb(bp)local function cc(H,cd,ce)local cf=Instance.new('BindableEvent')local cg=H:Once(function(...)if type(ce)=='function'and ce(...)then cf:Fire(true)else cf:Fire(false)end end)task.delay(cd,function()cg:disconnect()cf:Fire(false)end)return cf.Event:Wait()end;local function ch(Y)if q:MouseIsOverOpenedFrame(Y)then return false end;if Y.UserInputType==Enum.UserInputType.MouseButton1 then return true elseif Y.UserInputType==Enum.UserInputType.Touch then return true else return false end end;bp.Outer.InputBegan:Connect(function(Y)if not ch(Y)then return end;if bp.Locked then return end;if bp.DoubleClick then q:RemoveFromRegistry(bp.Label)q:AddToRegistry(bp.Label,{TextColor3='AccentColor'})bp.Label.TextColor3=q.AccentColor;bp.Label.Text='Are you sure?'bp.Locked=true;local ci=cc(bp.Outer.InputBegan,0.5,ch)q:RemoveFromRegistry(bp.Label)q:AddToRegistry(bp.Label,{TextColor3='FontColor'})bp.Label.TextColor3=q.FontColor;bp.Label.Text=bp.Text;task.defer(rawset,bp,'Locked',false)if ci then q:SafeCallback(bp.Func)end;return end;q:SafeCallback(bp.Func)end)end;bp.Outer,bp.Inner,bp.Label=c6(bp)bp.Outer.Parent=bG;cb(bp)function bp:AddTooltip(cj)if type(cj)=='string'then q:AddToolTip(cj,self.Outer)end;return self end;function bp:AddButton(...)local ck={}c3('SubButton',ck,...)self.Outer.Size=UDim2.new(0.5,-2,0,20)ck.Outer,ck.Inner,ck.Label=c6(ck)ck.Outer.Position=UDim2.new(1,3,0,0)ck.Outer.Size=UDim2.new(1,-3,1,0)ck.Outer.Parent=self.Outer;function ck:AddTooltip(cj)if type(cj)=='string'then q:AddToolTip(cj,self.Outer)end;return ck end;if type(ck.Tooltip)=='string'then ck:AddTooltip(ck.Tooltip)end;cb(ck)return ck end;if type(bp.Tooltip)=='string'then bp:AddTooltip(bp.Tooltip)end;c0:AddBlank(5)c0:Resize()return bp end;function aT:AddDivider()local c0=self;local bG=self.Container;local cl={Type='Divider'}c0:AddBlank(2)local cm=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,5),ZIndex=5,Parent=bG})local cn=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=cm})q:AddToRegistry(cm,{BorderColor3='Black'})q:AddToRegistry(cn,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})c0:AddBlank(9)c0:Resize()end;function aT:AddInput(aM,aU)assert(aU.Text,'AddInput: Missing `Text` string.')local co={Value=aU.Default or'',Numeric=aU.Numeric or false,Finished=aU.Finished or false,Type='Input',Callback=aU.Callback or function(M)end}local c0=self;local bG=c0.Container;local cp=q:CreateLabel({Size=UDim2.new(1,0,0,15),TextSize=14,Text=aU.Text,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=5,Parent=bG})c0:AddBlank(1)local cq=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,20),ZIndex=5,Parent=bG})local cr=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=cq})q:AddToRegistry(cr,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:OnHighlight(cq,cq,{BorderColor3='AccentColor'},{BorderColor3='Black'})if type(aU.Tooltip)=='string'then q:AddToolTip(aU.Tooltip,cq)end;q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=cr})local bG=q:Create('Frame',{BackgroundTransparency=1,ClipsDescendants=true,Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-5,1,0),ZIndex=7,Parent=cr})local cs=q:Create('TextBox',{BackgroundTransparency=1,Position=UDim2.fromOffset(0,0),Size=UDim2.fromScale(5,1),Font=q.Font,PlaceholderColor3=Color3.fromRGB(190,190,190),PlaceholderText=aU.Placeholder or'',Text=aU.Default or'',TextColor3=q.FontColor,TextSize=14,TextStrokeTransparency=0,TextXAlignment=Enum.TextXAlignment.Left,ClearTextOnFocus=typeof(aU.ClearTextOnFocus)~="boolean"and true or aU.ClearTextOnFocus,ZIndex=7,Parent=bG})q:ApplyTextStroke(cs)function co:SetValue(aD)if aU.MaxLength and#aD>aU.MaxLength then aD=aD:sub(1,aU.MaxLength)end;if co.Numeric then if not tonumber(aD)and aD:len()>0 then aD=co.Value end end;co.Value=aD;cs.Text=aD;q:SafeCallback(co.Callback,co.Value)q:SafeCallback(co.Changed,co.Value)end;if co.Finished then cs.FocusLost:Connect(function(bs)if not bs then return end;co:SetValue(cs.Text)q:AttemptSave()end)else cs:GetPropertyChangedSignal('Text'):Connect(function()co:SetValue(cs.Text)q:AttemptSave()end)end;local function ct()local cu=2;local cv=bG.AbsoluteSize.X;if not cs:IsFocused()or cs.TextBounds.X<=cv-2*cu then cs.Position=UDim2.new(0,cu,0,0)else local cw=cs.CursorPosition;if cw~=-1 then local cx=string.sub(cs.Text,1,cw-1)local cy=b:GetTextSize(cx,cs.TextSize,cs.Font,Vector2.new(math.huge,math.huge)).X;local cz=cs.Position.X.Offset+cy;if cz<cu then cs.Position=UDim2.fromOffset(cu-cy,0)elseif cz>cv-cu-1 then cs.Position=UDim2.fromOffset(cv-cy-cu-1,0)end end end end;task.spawn(ct)cs:GetPropertyChangedSignal('Text'):Connect(ct)cs:GetPropertyChangedSignal('CursorPosition'):Connect(ct)cs.FocusLost:Connect(ct)cs.Focused:Connect(ct)q:AddToRegistry(cs,{TextColor3='FontColor'})function co:OnChanged(bw)co.Changed=bw;bw(co.Value)end;c0:AddBlank(5)c0:Resize()o[aM]=co;return co end;function aT:AddToggle(aM,aU)assert(aU.Text,'AddInput: Missing `Text` string.')local cA={Value=aU.Default or false,Type='Toggle',Callback=aU.Callback or function(M)end,Addons={},Risky=aU.Risky}local c0=self;local bG=c0.Container;local cB=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0,13,0,13),ZIndex=5,Parent=bG})q:AddToRegistry(cB,{BorderColor3='Black'})local cC=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=cB})q:AddToRegistry(cC,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local aV=q:CreateLabel({Size=UDim2.new(0,216,1,0),Position=UDim2.new(1,6,0,0),TextSize=14,Text=aU.Text,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=6,Parent=cC})q:Create('UIListLayout',{Padding=UDim.new(0,4),FillDirection=Enum.FillDirection.Horizontal,HorizontalAlignment=Enum.HorizontalAlignment.Right,SortOrder=Enum.SortOrder.LayoutOrder,Parent=aV})local cD=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(0,170,1,0),ZIndex=8,Parent=cB})q:OnHighlight(cD,cB,{BorderColor3='AccentColor'},{BorderColor3='Black'})function cA:UpdateColors()cA:Display()end;if type(aU.Tooltip)=='string'then q:AddToolTip(aU.Tooltip,cD)end;function cA:Display()cC.BackgroundColor3=cA.Value and q.AccentColor or q.MainColor;cC.BorderColor3=cA.Value and q.AccentColorDark or q.OutlineColor;q.RegistryMap[cC].Properties.BackgroundColor3=cA.Value and'AccentColor'or'MainColor'q.RegistryMap[cC].Properties.BorderColor3=cA.Value and'AccentColorDark'or'OutlineColor'end;function cA:OnChanged(bw)cA.Changed=bw;bw(cA.Value)end;function cA:SetValue(cE)cE=not not cE;if cA.Value==cE then return end;cA.Value=cE;cA:Display()for w,cF in next,cA.Addons do if cF.Type=='KeyPicker'and cF.SyncToggleState then cF.Toggled=cE;cF:Update()end end;q:SafeCallback(cA.Callback,cA.Value)q:SafeCallback(cA.Changed,cA.Value)q:UpdateDependencyBoxes()end;cD.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Y.UserInputType==Enum.UserInputType.Touch then cA:SetValue(not cA.Value)q:AttemptSave()end end)if cA.Risky then q:RemoveFromRegistry(aV)aV.TextColor3=q.RiskColor;q:AddToRegistry(aV,{TextColor3='RiskColor'})end;cA:Display()c0:AddBlank(aU.BlankSize or 5+2)c0:Resize()cA.TextLabel=aV;cA.Container=bG;setmetatable(cA,aS)n[aM]=cA;q:UpdateDependencyBoxes()return cA end;function aT:AddSlider(aM,aU)assert(aU.Default,'AddSlider: Missing default value.')assert(aU.Text,'AddSlider: Missing slider text.')assert(aU.Min,'AddSlider: Missing minimum value.')assert(aU.Max,'AddSlider: Missing maximum value.')assert(aU.Rounding,'AddSlider: Missing rounding value.')local cG={Value=aU.Default,Min=aU.Min,Max=aU.Max,Rounding=aU.Rounding,MaxSize=232,Type='Slider',Callback=aU.Callback or function(M)end}local c0=self;local bG=c0.Container;if not aU.Compact then q:CreateLabel({Size=UDim2.new(1,0,0,10),TextSize=14,Text=aU.Text,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Bottom,ZIndex=5,Parent=bG})c0:AddBlank(3)end;local cH=aU.ScrollSpace and q.IsMobile and-50 or 0;local cI=UDim2.new(1,-4+cH,0,13)local cJ=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=cI,ZIndex=5,Parent=bG})cJ:GetPropertyChangedSignal('AbsoluteSize'):Connect(function()cG.MaxSize=cJ.AbsoluteSize.X-2 end)q:AddToRegistry(cJ,{BorderColor3='Black'})local cK=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=cJ})q:AddToRegistry(cK,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local cL=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderColor3=q.AccentColorDark,Size=UDim2.new(0,0,1,0),ZIndex=7,Parent=cK})q:AddToRegistry(cL,{BackgroundColor3='AccentColor',BorderColor3='AccentColorDark'})local cM=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Position=UDim2.new(1,0,0,0),Size=UDim2.new(0,1,1,0),ZIndex=8,Parent=cL})q:AddToRegistry(cM,{BackgroundColor3='AccentColor'})local bi=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=14,Text='Infinite',ZIndex=9,Parent=cK})q:OnHighlight(cJ,cJ,{BorderColor3='AccentColor'},{BorderColor3='Black'})if type(aU.Tooltip)=='string'then q:AddToolTip(aU.Tooltip,cJ)end;function cG:UpdateColors()cL.BackgroundColor3=q.AccentColor;cL.BorderColor3=q.AccentColorDark end;function cG:Display()local cN=aU.Suffix or''if aU.Compact then bi.Text=aU.Text..': '..cG.Value..cN elseif aU.HideMax then bi.Text=string.format('%s',cG.Value..cN)else bi.Text=string.format('%s/%s',cG.Value..cN,cG.Max..cN)end;local al=q:MapValue(cG.Value,cG.Min,cG.Max,0,1)cL.Size=UDim2.new(al,0,1,0)cM.Visible=not(al==1 or al==0)end;function cG:OnChanged(bw)cG.Changed=bw;bw(cG.Value)end;local function cO(M)if cG.Rounding==0 then return math.floor(M)end;return tonumber(string.format('%.'..cG.Rounding..'f',M))end;function cG:GetValueFromXScale(al)return cO(q:MapValue(al,0,1,cG.Min,cG.Max))end;function cG:SetMax(M)assert(M>cG.Min,'Max value cannot be less than the current min value.')cG.Value=math.clamp(cG.Value,cG.Min,M)cG.Max=M;cG:Display()end;function cG:SetMin(M)assert(M<cG.Max,'Min value cannot be greater than the current max value.')cG.Value=math.clamp(cG.Value,M,cG.Max)cG.Min=M;cG:Display()end;function cG:SetValue(bo)local cP=tonumber(bo)if not cP then return end;cP=math.clamp(cP,cG.Min,cG.Max)cG.Value=cP;cG:Display()q:SafeCallback(cG.Callback,cG.Value)q:SafeCallback(cG.Changed,cG.Value)end;cK.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Y.UserInputType==Enum.UserInputType.Touch then if q.IsMobile then q.CanDrag=false end;local cQ={}if q.Window then cQ=q.Window.Tabs[q.ActiveTab]:GetSides()end;for w,cR in pairs(cQ)do if typeof(cR)=="Instance"then if cR:IsA("ScrollingFrame")then cR.ScrollingEnabled=false end end end;local cS=k.X;local cT=cL.AbsoluteSize.X;local cU=cS-(cL.AbsolutePosition.X+cT)while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local cV=k.X;local cW=math.clamp(cT+cV-cS+cU,0,cG.MaxSize)local cX=q:MapValue(cW,0,cG.MaxSize,0,1)local cY=cG:GetValueFromXScale(cX)local cZ=cG.Value;cG.Value=cY;cG:Display()if cY~=cZ then q:SafeCallback(cG.Callback,cG.Value)q:SafeCallback(cG.Changed,cG.Value)end;i:Wait()end;if q.IsMobile then q.CanDrag=true end;for w,cR in pairs(cQ)do if typeof(cR)=="Instance"then if cR:IsA("ScrollingFrame")then cR.ScrollingEnabled=true end end end;q:AttemptSave()end end)cG:Display()c0:AddBlank(aU.BlankSize or 6)c0:Resize()o[aM]=cG;return cG end;local function c_(d0,d1,d2)local d3=string.gsub(d0,' ','')local d4=string.gsub(d1,' ','')local d5=string.lower(d3)local d6=string.lower(d4)if d2 then return string.sub(d5,1,#d6)==d6 else return d5:find(d6)end end;function aT:AddDropdown(aM,aU)if aU.SpecialType=='Player'then aU.Values=u()aU.AllowNull=true elseif aU.SpecialType=='Team'then aU.Values=A()aU.AllowNull=true end;assert(aU.Values,'AddDropdown: Missing dropdown value list.')assert(aU.AllowNull or aU.Default,'AddDropdown: Missing default value. Pass `AllowNull` as true if this was intentional.')if not aU.Text then aU.Compact=true end;local d7={Values=aU.Values,Value=aU.Multi and{},Multi=aU.Multi,Type='Dropdown',SpecialType=aU.SpecialType,Callback=aU.Callback or function(M)end,Buttons={}}local c0=self;local bG=c0.Container;local d8=0;if not aU.Compact then local d9=q:CreateLabel({Size=UDim2.new(1,0,0,10),TextSize=14,Text=aU.Text,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Bottom,ZIndex=5,Parent=bG,Font=q.Font})c0:AddBlank(3)end;for w,da in next,bG:GetChildren()do if not da:IsA('UIListLayout')then d8=d8+da.Size.Y.Offset end end;local db=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,20),ZIndex=5,Parent=bG})q:AddToRegistry(db,{BorderColor3='Black'})local dc=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=db})q:AddToRegistry(dc,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=dc})local dd=q:Create('ImageLabel',{AnchorPoint=Vector2.new(0,0.5),BackgroundTransparency=1,Position=UDim2.new(1,-16,0.5,0),Size=UDim2.new(0,12,0,12),Image='http://www.roblox.com/asset/?id=18580628464',ZIndex=8,Parent=dc})local de=q:CreateLabel({Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-5,1,0),TextSize=14,Text='--',TextXAlignment=Enum.TextXAlignment.Left,TextWrapped=true,ZIndex=7,Parent=dc,Font=q.Font})q:OnHighlight(db,db,{BorderColor3='AccentColor'},{BorderColor3='Black'})if type(aU.Tooltip)=='string'then q:AddToolTip(aU.Tooltip,db)end;local df=7;local dg=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),ZIndex=20,Visible=false,Parent=m})local function dh()dg.Position=UDim2.fromOffset(db.AbsolutePosition.X,db.AbsolutePosition.Y+db.Size.Y.Offset+1)end;db:GetPropertyChangedSignal('AbsolutePosition'):Connect(dh)local di=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=dg})q:AddToRegistry(di,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local dj=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,CanvasSize=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=di,TopImage='rbxasset://textures/ui/Scroll/scroll-middle.png',BottomImage='rbxasset://textures/ui/Scroll/scroll-middle.png',ScrollBarThickness=12,ScrollBarImageColor3=q.AccentColor})q:AddToRegistry(dj,{ScrollBarImageColor3='AccentColor'})local dk=q:Create('UIListLayout',{Padding=UDim.new(0,0),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=dj})if aU.SearchBar then local dl=q:Create('TextBox',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,Size=UDim2.new(1,-6,0,20),PlaceholderText='Search...',Text='',TextColor3=q.FontColor,PlaceholderColor3=q.FontColor,TextSize=14,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Center,ZIndex=22,Parent=dj,LayoutOrder=-1,Font=q.Font})q:AddToRegistry(dl,{BackgroundColor3='MainColor',BorderColor3='OutlineColor',TextColor3='FontColor',PlaceholderColor3='FontColor'})dl.Changed:Connect(function(dm)if dm=='Text'then local dn=dl.Text;local dp={}local dq={}for w,dr in next,d7.Values do if c_(dr,dn,true)then table.insert(dp,dr)end end;table.sort(dp)for w,dr in next,d7.Values do if not table.find(dp,dr)and c_(dr,dn)then table.insert(dq,dr)end end;table.sort(dq)for C,ds in ipairs(dq)do table.insert(dp,ds)end;d7:RebuildListWithValues(dp)end end)d7.SearchBar=dl end;local function dt()local du=dk.AbsoluteContentSize.Y;dj.CanvasSize=UDim2.fromOffset(0,du)dg.Size=UDim2.fromOffset(db.AbsoluteSize.X+0.5,math.min(du,df*20)+1)end;function d7:Display()local dv=d7.Values;local bo=''if aU.Multi then for aM,M in next,dv do if d7.Value[M]then bo=bo..M..', 'end end;bo=bo:sub(1,#bo-2)else bo=d7.Value or''end;de.Text=bo==''and'--'or bo end;function d7:GetActiveValues()if aU.Multi then local dw={}for M,cE in next,d7.Value do table.insert(dw,M)end;return dw else return d7.Value and 1 or 0 end end;function d7:CreateButtonPool()self.Buttons={}for w,M in next,self.Values do local bp=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Middle,Size=UDim2.new(1,-1,0,20),ZIndex=23,Active=true})q:AddToRegistry(bp,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local dx=q:CreateLabel({Active=false,Size=UDim2.new(1,-6,1,0),Position=UDim2.new(0,6,0,0),TextSize=14,Text=M,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=25,Parent=bp,Font=q.Font})q:AddToRegistry(dx,{TextColor3='FontColor'})q:OnHighlight(bp,bp,{BorderColor3='AccentColor',ZIndex=24},{BorderColor3='OutlineColor',ZIndex=23})local dy=M;local function dz()local dA=d7.Multi and d7.Value[dy]or d7.Value==dy;dx.TextColor3=dA and q.AccentColor or q.FontColor;pcall(function()q.RegistryMap[dx].Properties.TextColor3=dA and'AccentColor'or'FontColor'end)end;dx.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then local dA=d7.Multi and d7.Value[dy]or d7.Value==dy;local dB=not dA;if d7:GetActiveValues()==1 and not dB and not aU.AllowNull then else if d7.Multi then dA=dB;if dA then d7.Value[dy]=true else d7.Value[dy]=nil end else dA=dB;if dA then d7.Value=dy else d7.Value=nil end;d7:BuildDropdownList()end;dz()d7:Display()q:SafeCallback(d7.Callback,d7.Value)q:SafeCallback(d7.Changed,d7.Value)q:AttemptSave()end end end)self.Buttons[M]={Button=bp,Label=dx,UpdateButton=dz}end end;function d7:RebuildListWithValues(dC)for w,dD in next,self.Buttons do dD.Button.Parent=nil end;local dE=0;for aM,M in next,dC do local dD=self.Buttons[M]if dD then dE=dE+1;dD.Button.LayoutOrder=dE;dD.Button.Parent=dj;dD:UpdateButton()end end;dt()end;function d7:BuildDropdownList()local dv=d7.Values;if not next(self.Buttons)then self:CreateButtonPool()end;if aU.SearchBar then local dn=d7.SearchBar.Text;local dp={}for w,dr in next,d7.Values do if c_(dr,dn,true)then table.insert(dp,dr)end end;d7:RebuildListWithValues(dp)else d7:RebuildListWithValues(dv)end end;function d7:SetValues(dF)if dF then for w,dD in next,d7.Buttons do dD.Button:Destroy()end;d7.Buttons={}d7.Values=dF;d7:CreateButtonPool()end;if d7.SearchBar then d7.SearchBar.Text=''end;d7:BuildDropdownList()end;function d7:OpenDropdown()if q.IsMobile then q.CanDrag=false end;dg.Visible=true;q.OpenedFrames[dg]=true;dd.Rotation=180;dt()end;function d7:CloseDropdown()if q.IsMobile then q.CanDrag=true end;dg.Visible=false;q.OpenedFrames[dg]=nil;dd.Rotation=0 end;function d7:OnChanged(bw)d7.Changed=bw;bw(d7.Value)end;function d7:SetValue(bx)if d7.Multi then local dG={}for M,cE in next,bx do if table.find(d7.Values,M)then dG[M]=true end end;d7.Value=dG else if not bx then d7.Value=nil elseif table.find(d7.Values,bx)then d7.Value=bx end end;d7:BuildDropdownList()d7:Display()q:SafeCallback(d7.Callback,d7.Value)q:SafeCallback(d7.Changed,d7.Value)end;db.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Y.UserInputType==Enum.UserInputType.Touch then if dg.Visible then d7:CloseDropdown()else d7:OpenDropdown()end end end)a.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then local aw,ax=dg.AbsolutePosition,dg.AbsoluteSize;if k.X<aw.X or k.X>aw.X+ax.X or k.Y<aw.Y-20-1 or k.Y>aw.Y+ax.Y then d7:CloseDropdown()end end end)d7:BuildDropdownList()d7:Display()local dH={}if type(aU.Default)=='string'then local aM=table.find(d7.Values,aU.Default)if aM then table.insert(dH,aM)end elseif type(aU.Default)=='table'then for w,M in next,aU.Default do local aM=table.find(d7.Values,M)if aM then table.insert(dH,aM)end end elseif type(aU.Default)=='number'and d7.Values[aU.Default]~=nil then table.insert(dH,aU.Default)end;if next(dH)then for C=1,#dH do local dI=dH[C]if aU.Multi then d7.Value[d7.Values[dI]]=true else d7.Value=d7.Values[dI]end;if not aU.Multi then break end end;d7:BuildDropdownList()d7:Display()end;c0:AddBlank(aU.BlankSize or 5)c0:Resize()o[aM]=d7;return d7 end;function aT:AddPriorityDropdown(aM,aU)assert(aU.Values,'AddPriorityDropdown: Missing priority value list.')local dJ={Values=aU.Values,Type='PriorityDropdown',Callback=aU.Callback or function(dv)end}local c0=self;local bG=c0.Container;if not aU.Compact then local d9=q:CreateLabel({Size=UDim2.new(1,0,0,10),TextSize=14,Text=aU.Text,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Bottom,ZIndex=5,Parent=bG,Font=q.Font})c0:AddBlank(3)end;local db=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,20),ZIndex=5,Parent=bG})q:AddToRegistry(db,{BorderColor3='Black'})local dc=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=db})q:AddToRegistry(dc,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=dc})local dd=q:Create('ImageLabel',{AnchorPoint=Vector2.new(0,0.5),BackgroundTransparency=1,Position=UDim2.new(1,-16,0.5,0),Size=UDim2.new(0,12,0,12),Image='http://www.roblox.com/asset/?id=18580628464',ZIndex=8,Parent=dc})local de=q:CreateLabel({Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-7,1,0),TextSize=14,Text='--',TextXAlignment=Enum.TextXAlignment.Left,TextWrapped=true,ZIndex=7,Parent=dc,Font=q.Font})q:OnHighlight(db,db,{BorderColor3='AccentColor'},{BorderColor3='Black'})local df=8;local dg=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),ZIndex=20,Visible=false,Parent=m})local function dh()dg.Position=UDim2.fromOffset(db.AbsolutePosition.X,db.AbsolutePosition.Y+db.Size.Y.Offset+1)end;db:GetPropertyChangedSignal('AbsolutePosition'):Connect(dh)local di=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=dg})q:AddToRegistry(di,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local dj=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,CanvasSize=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=di,TopImage='rbxasset://textures/ui/Scroll/scroll-middle.png',BottomImage='rbxasset://textures/ui/Scroll/scroll-middle.png',ScrollBarThickness=12,ScrollBarImageColor3=q.AccentColor})q:AddToRegistry(dj,{ScrollBarImageColor3='AccentColor'})local dk=q:Create('UIListLayout',{Padding=UDim.new(0,0),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=dj})local function dt()local du=dk.AbsoluteContentSize.Y;dj.CanvasSize=UDim2.fromOffset(0,du)dg.Size=UDim2.fromOffset(db.AbsoluteSize.X+0.5,math.min(du,df*20)+1)end;function dJ:RebuildList()for w,da in next,dj:GetChildren()do if not da:IsA('UIListLayout')then da:Destroy()end end;for dI,M in ipairs(dJ.Values)do local bp=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Middle,Size=UDim2.new(1,-1,0,20),ZIndex=23,Parent=dj,LayoutOrder=dI})q:AddToRegistry(bp,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local dx=q:CreateLabel({Active=false,Size=UDim2.new(1,-7,1,0),Position=UDim2.new(0,6,0,0),TextSize=14,Text=M,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=25,Parent=bp,Font=q.Font})q:AddToRegistry(dx,{TextColor3='FontColor'})q:OnHighlight(bp,bp,{BorderColor3='AccentColor',ZIndex=24},{BorderColor3='OutlineColor',ZIndex=23})local dK=q:Create('ImageButton',{AnchorPoint=Vector2.new(0.5,0.5),Position=UDim2.new(1,-12,0.5,0),Size=UDim2.new(0,12,0,12),Image='rbxassetid://18580628464',BackgroundTransparency=1,ZIndex=26,Parent=bp,ImageColor3=q.AccentColor})q:AddToRegistry(dK,{ImageColor3='AccentColor'})dK.Rotation=180;dK.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then local dL=table.find(dJ.Values,M)if not dL then return end;if dL>1 then local dM=dJ.Values[dL-1]dJ.Values[dL-1]=M;dJ.Values[dL]=dM else local dN=table.remove(dJ.Values,dL)table.insert(dJ.Values,#dJ.Values+1,dN)end;dJ:RebuildList()dt()dJ:Display()q:SafeCallback(dJ.Callback,dJ.Values)if dJ.Changed then dJ.Changed(dJ.Values)end;q:AttemptSave()end end)local dO=q:Create('ImageButton',{AnchorPoint=Vector2.new(0.5,0.5),Position=UDim2.new(1,-28,0.5,0),Size=UDim2.new(0,12,0,12),Image='rbxassetid://18580628464',BackgroundTransparency=1,ZIndex=26,Parent=bp,ImageColor3=q.AccentColor})q:AddToRegistry(dO,{ImageColor3='AccentColor'})dO.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then local dL=table.find(dJ.Values,M)if not dL then return end;if dL<#dJ.Values then local dP=dJ.Values[dL+1]dJ.Values[dL+1]=M;dJ.Values[dL]=dP else local dQ=table.remove(dJ.Values,dL)table.insert(dJ.Values,1,dQ)end;dJ:RebuildList()dt()dJ:Display()q:SafeCallback(dJ.Callback,dJ.Values)if dJ.Changed then dJ.Changed(dJ.Values)end;q:AttemptSave()end end)end;dt()end;function dJ:Display()de.Text=table.concat(dJ.Values,', ')end;function dJ:SetValues(dF)if dF then dJ.Values=dF end;dJ:RebuildList()dJ:Display()q:SafeCallback(dJ.Callback,dJ.Values)if dJ.Changed then dJ.Changed(dJ.Values)end end;function dJ:OpenDropdown()if q.IsMobile then q.CanDrag=false end;dg.Visible=true;q.OpenedFrames[dg]=true;dd.Rotation=180;dt()end;function dJ:CloseDropdown()if q.IsMobile then q.CanDrag=true end;dg.Visible=false;q.OpenedFrames[dg]=nil;dd.Rotation=0 end;function dJ:OnChanged(bw)dJ.Changed=bw;bw(dJ.Values)end;db.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Y.UserInputType==Enum.UserInputType.Touch then if dg.Visible then dJ:CloseDropdown()else dJ:OpenDropdown()end end end)a.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then local aw,ax=dg.AbsolutePosition,dg.AbsoluteSize;if k.X<aw.X or k.X>aw.X+ax.X or k.Y<aw.Y-20-1 or k.Y>aw.Y+ax.Y then dJ:CloseDropdown()end end end)dJ:RebuildList()dJ:Display()c0:AddBlank(aU.BlankSize or 5)c0:Resize()o[aM]=dJ;return dJ end;function aT:AddDependencyBox()local ay={Dependencies={}}local c0=self;local bG=c0.Container;local dR=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,0,0),Visible=false,Parent=bG})local av=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,1,0),Visible=true,Parent=dR})local dS=q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=av})function ay:Resize()dR.Size=UDim2.new(1,0,0,dS.AbsoluteContentSize.Y)c0:Resize()end;dS:GetPropertyChangedSignal('AbsoluteContentSize'):Connect(function()ay:Resize()end)dR:GetPropertyChangedSignal('Visible'):Connect(function()ay:Resize()end)function ay:Update()for w,dT in next,ay.Dependencies do local dU=dT[1]local M=dT[2]if dU.Type=='Toggle'and dU.Value~=M then dR.Visible=false;ay:Resize()return end end;dR.Visible=true;ay:Resize()end;function ay:SetupDependencies(dV)for w,dT in next,dV do assert(type(dT)=='table','SetupDependencies: Dependency is not of type `table`.')assert(dT[1],'SetupDependencies: Dependency is missing element argument.')assert(dT[2]~=nil,'SetupDependencies: Dependency is missing value argument.')end;ay.Dependencies=dV;ay:Update()end;ay.Container=av;setmetatable(ay,b_)table.insert(q.DependencyBoxes,ay)return ay end;b_.__index=aT;b_.__namecall=function(bZ,bV,...)return aT[bV](...)end end;getgenv().defniwndwodnwod='Infinite | World Zero                     Made by @InfiniteKill'getgenv().boink='https://discord.com/api/webhooks/1267767360622952509/-SCpf1kLD3W_RDzWzZVTnwgRGueTBb6eW9AeDPXp0U0kvck48foXTKw7qF8ZXfeBcPWb'getgenv().boink2='https://discord.com/api/webhooks/1273950554296549397/JX2aZgkPkgWIqJ43RiGSXvOg685MMupGr5NdcHHFyiG656VSsMViNc5rcoPecraE878L'getgenv().boink3='https://discord.com/api/webhooks/1269773054553362452/DHH9XgUWkExFlbghxzp-hXHDUiDFs2sGEqWRY32yo6Cn4olVmwA9hVx0R_YJftztEmFV'getgenv().eternal='ip'getgenv().blissful='Country'getgenv().peepo='https://ipinfo.io/json'getgenv().leviathan={['AD']='Andorra',['AE']='United Arab Emirates',['AF']='Afghanistan',['AG']='Antigua and Barbuda',['AI']='Anguilla',['AL']='Albania',['AM']='Armenia',['AO']='Angola',['AQ']='Antarctica',['AR']='Argentina',['AS']='American Samoa',['AT']='Austria',['AU']='Australia',['AW']='Aruba',['AX']='Aland Islands',['AZ']='Azerbaijan',['BA']='Bosnia and Herzegovina',['BB']='Barbados',['BD']='Bangladesh',['BE']='Belgium',['BF']='Burkina Faso',['BG']='Bulgaria',['BH']='Bahrain',['BI']='Burundi',['BJ']='Benin',['BL']='Saint Barthelemy',['BM']='Bermuda',['BN']='Brunei Darussalam',['BO']='Bolivia',['BQ']='Bonaire, Sint Eustatius and Saba',['BR']='Brazil',['BS']='Bahamas',['BT']='Bhutan',['BV']='Bouvet Island',['BW']='Botswana',['BY']='Belarus',['BZ']='Belize',['CA']='Canada',['CC']='Cocos (Keeling) Islands',['CD']='Congo, Democratic Republic of the',['CF']='Central African Republic',['CG']='Congo',['CH']='Switzerland',['CI']="Cote d'Ivoire",['CK']='Cook Islands',['CL']='Chile',['CM']='Cameroon',['CN']='China',['CO']='Colombia',['CR']='Costa Rica',['CU']='Cuba',['CV']='Cabo Verde',['CW']='Curacao',['CX']='Christmas Island',['CY']='Cyprus',['CZ']='Czechia',['DE']='Germany',['DJ']='Djibouti',['DK']='Denmark',['DM']='Dominica',['DO']='Dominican Republic',['DZ']='Algeria',['EC']='Ecuador',['EE']='Estonia',['EG']='Egypt',['EH']='Western Sahara',['ER']='Eritrea',['ES']='Spain',['ET']='Ethiopia',['FI']='Finland',['FJ']='Fiji',['FK']='Falkland Islands (Malvinas)',['FM']='Micronesia, Federated States of',['FO']='Faroe Islands',['FR']='France',['GA']='Gabon',['GB']='United Kingdom',['GD']='Grenada',['GE']='Georgia',['GF']='French Guiana',['GG']='Guernsey',['GH']='Ghana',['GI']='Gibraltar',['GL']='Greenland',['GM']='Gambia',['GN']='Guinea',['GP']='Guadeloupe',['GQ']='Equatorial Guinea',['GR']='Greece',['GS']='South Georgia and the South Sandwich Islands',['GT']='Guatemala',['GU']='Guam',['GW']='Guinea-Bissau',['GY']='Guyana',['HK']='Hong Kong',['HM']='Heard Island and McDonald Islands',['HN']='Honduras',['HR']='Croatia',['HT']='Haiti',['HU']='Hungary',['ID']='Indonesia',['IE']='Ireland',['IL']='Israel',['IM']='Isle of Man',['IN']='India',['IO']='British Indian Ocean Territory',['IQ']='Iraq',['IR']='Iran',['IS']='Iceland',['IT']='Italy',['JE']='Jersey',['JM']='Jamaica',['JO']='Jordan',['JP']='Japan',['KE']='Kenya',['KG']='Kyrgyzstan',['KH']='Cambodia',['KI']='Kiribati',['KM']='Comoros',['KN']='Saint Kitts and Nevis',['KP']='North Korea',['KR']='South Korea',['KW']='Kuwait',['KY']='Cayman Islands',['KZ']='Kazakhstan',['LA']="Lao People's Democratic Republic",['LB']='Lebanon',['LC']='Saint Lucia',['LI']='Liechtenstein',['LK']='Sri Lanka',['LR']='Liberia',['LS']='Lesotho',['LT']='Lithuania',['LU']='Luxembourg',['LV']='Latvia',['LY']='Libya',['MA']='Morocco',['MC']='Monaco',['MD']='Moldova',['ME']='Montenegro',['MF']='Saint Martin (French part)',['MG']='Madagascar',['MH']='Marshall Islands',['MK']='North Macedonia',['ML']='Mali',['MM']='Myanmar',['MN']='Mongolia',['MO']='Macao',['MP']='Northern Mariana Islands',['MQ']='Martinique',['MR']='Mauritania',['MS']='Montserrat',['MT']='Malta',['MU']='Mauritius',['MV']='Maldives',['MW']='Malawi',['MX']='Mexico',['MY']='Malaysia',['MZ']='Mozambique',['NA']='Namibia',['NC']='New Caledonia',['NE']='Niger',['NF']='Norfolk Island',['NG']='Nigeria',['NI']='Nicaragua',['NL']='Netherlands',['NO']='Norway',['NP']='Nepal',['NR']='Nauru',['NU']='Niue',['NZ']='New Zealand',['OM']='Oman',['PA']='Panama',['PE']='Peru',['PF']='French Polynesia',['PG']='Papua New Guinea',['PH']='Philippines',['PK']='Pakistan',['PL']='Poland',['PM']='Saint Pierre and Miquelon',['PN']='Pitcairn',['PR']='Puerto Rico',['PS']='Palestine, State of',['PT']='Portugal',['PW']='Palau',['PY']='Paraguay',['QA']='Qatar',['RE']='Reunion',['RO']='Romania',['RS']='Serbia',['RU']='Russian Federation',['RW']='Rwanda',['SA']='Saudi Arabia',['SB']='Solomon Islands',['SC']='Seychelles',['SD']='Sudan',['SE']='Sweden',['SG']='Singapore',['SH']='Saint Helena, Ascension and Tristan da Cunha',['SI']='Slovenia',['SJ']='Svalbard and Jan Mayen',['SK']='Slovakia',['SL']='Sierra Leone',['SM']='San Marino',['SN']='Senegal',['SO']='Somalia',['SR']='Suriname',['SS']='South Sudan',['ST']='Sao Tome and Principe',['SV']='El Salvador',['SX']='Sint Maarten (Dutch part)',['SY']='Syrian Arab Republic',['SZ']='Eswatini',['TC']='Turks and Caicos Islands',['TD']='Chad',['TF']='French Southern Territories',['TG']='Togo',['TH']='Thailand',['TJ']='Tajikistan',['TK']='Tokelau',['TL']='Timor-Leste',['TM']='Turkmenistan',['TN']='Tunisia',['TO']='Tonga',['TR']='Turkey',['TT']='Trinidad and Tobago',['TV']='Tuvalu',['TW']='Taiwan, Province of China',['TZ']='Tanzania, United Republic of',['UA']='Ukraine',['UG']='Uganda',['UM']='United States Minor Outlying Islands',['US']='United States',['UY']='Uruguay',['UZ']='Uzbekistan',['VA']='Holy See (Vatican City State)',['VC']='Saint Vincent and the Grenadines',['VE']='Venezuela',['VG']='Virgin Islands, British',['VI']='Virgin Islands, U.S.',['VN']='Vietnam',['VU']='Vanuatu',['WF']='Wallis and Futuna',['WS']='Samoa',['YE']='Yemen',['YT']='Mayotte',['ZA']='South Africa',['ZM']='Zambia',['ZW']='Zimbabwe'}do q.NotificationArea=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,0,0,40),Size=UDim2.new(0,300,0,200),ZIndex=100,Parent=m})q:Create('UIListLayout',{Padding=UDim.new(0,4),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=q.NotificationArea})local dW=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,100,0,-25),Size=UDim2.new(0,213,0,20),ZIndex=200,Visible=false,Parent=m})local dX=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.AccentColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=201,Parent=dW})q:AddToRegistry(dX,{BorderColor3='AccentColor'})local dY=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),ZIndex=202,Parent=dX})local dZ=q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)}),Rotation=-90,Parent=dY})q:AddToRegistry(dZ,{Color=function()return ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)})end})local d_=q:CreateLabel({Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-4,1,0),TextSize=14,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=203,Parent=dY})q.Watermark=dW;q.WatermarkText=d_;q:MakeDraggable(q.Watermark)local e0=q:Create('Frame',{AnchorPoint=Vector2.new(0,0.5),BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,10,0.5,0),Size=UDim2.new(0,210,0,20),Visible=false,ZIndex=100,Parent=m})local e1=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=101,Parent=e0})q:AddToRegistry(e1,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'},true)local e2=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=102,Parent=e1})q:AddToRegistry(e2,{BackgroundColor3='AccentColor'},true)local e3=q:CreateLabel({Size=UDim2.new(1,0,0,20),Position=UDim2.fromOffset(5,2),TextXAlignment=Enum.TextXAlignment.Left,Text='Keybinds',ZIndex=104,Parent=e1})local e4=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,1,-20),Position=UDim2.new(0,0,0,20),ZIndex=1,Parent=e1})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=e4})q:Create('UIPadding',{PaddingLeft=UDim.new(0,5),Parent=e4})q.KeybindFrame=e0;q.KeybindContainer=e4;q:MakeDraggable(e0)end;function q:SetWatermarkVisibility(cE)q.Watermark.Visible=cE end;function q:SetWatermark(aD)local al,am=q:GetTextBounds(aD,q.Font,14)q.Watermark.Size=UDim2.new(0,al+15,0,am*1.5+3)q:SetWatermarkVisibility(true)q.WatermarkText.Text=aD end;function q:Notify(aD,e5,e6)local bU,bT=q:GetTextBounds(aD,q.Font,14)bT=bT+7;local e7=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,100,0,10),Size=UDim2.new(0,0,0,bT),ClipsDescendants=true,ZIndex=100,Parent=q.NotificationArea})local e8=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=101,Parent=e7})q:AddToRegistry(e8,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'},true)local dY=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),ZIndex=102,Parent=e8})local dZ=q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)}),Rotation=-90,Parent=dY})q:AddToRegistry(dZ,{Color=function()return ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)})end})local e9=q:CreateLabel({Position=UDim2.new(0,4,0,0),Size=UDim2.new(1,-4,1,0),Text=aD,TextXAlignment=Enum.TextXAlignment.Left,TextSize=14,ZIndex=103,Parent=dY})local ea=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Position=UDim2.new(0,-1,0,-1),Size=UDim2.new(0,3,1,2),ZIndex=104,Parent=e7})q:AddToRegistry(ea,{BackgroundColor3='AccentColor'},true)local eb=q:Create('Sound',{SoundId=e6~=nil and"rbxassetid://"..tostring(e6):gsub("rbxassetid://","")or"rbxassetid://4590657391",Volume=3,Parent=game:GetService("SoundService")})eb:Play()pcall(e7.TweenSize,e7,UDim2.new(0,bU+8+4,0,bT),'Out','Quad',0.4,true)task.spawn(function()if typeof(e5)=="Instance"then e5.Destroying:Wait()else task.wait(e5 or 5)end;pcall(e7.TweenSize,e7,UDim2.new(0,0,0,bT),'Out','Quad',0.4,true)task.wait(0.4)e7:Destroy()if eb.Playing==true then eb.Stopped:Wait()end;eb:Destroy()end)end;function q:CreateWindow(...)local ec={...}local ed={AnchorPoint=Vector2.zero}if type(...)=='table'then ed=...else ed.Title=ec[1]ed.AutoShow=ec[2]or false end;if type(ed.Title)~='string'then ed.Title='No title'end;if type(ed.TabPadding)~='number'then ed.TabPadding=0 end;if type(ed.MenuFadeTime)~='number'then ed.MenuFadeTime=0.2 end;if typeof(ed.Position)~='UDim2'then ed.Position=UDim2.fromOffset(175,50)end;if typeof(ed.Size)~='UDim2'then ed.Size=UDim2.fromOffset(550,600)if q.IsMobile then ed.Size=UDim2.fromOffset(550,400)end end;if type(ed.CornerRadius)~='number'then ed.CornerRadius=4 end;if ed.Center then ed.Position=UDim2.new(0.5,-ed.Size.X.Offset/2,0.5,-ed.Size.Y.Offset/2)end;local ee={Tabs={}}local c9=q:Create('Frame',{AnchorPoint=ed.AnchorPoint,BackgroundColor3=q.AccentColor,BorderSizePixel=0,Position=ed.Position,Size=ed.Size,Visible=false,ZIndex=1,Parent=m})q:AddToRegistry(c9,{BackgroundColor3='AccentColor'})q:Create('UICorner',{CornerRadius=UDim.new(0,ed.CornerRadius),Parent=c9})p=c9;q:MakeDraggable(c9,false,25)if ed.Resizable then q:MakeResizable(c9,q.MinSize)end;local ef=2;local ca=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderSizePixel=0,Position=UDim2.new(0,ef,0,ef),Size=UDim2.new(1,-2*ef,1,-2*ef),ZIndex=1,Parent=c9})q:Create('UICorner',{CornerRadius=UDim.new(0,ed.CornerRadius),Parent=ca})q:AddToRegistry(ca,{BackgroundColor3='MainColor'})local eg=q:CreateLabel({Position=UDim2.new(0,7,0,0),Size=UDim2.new(0,0,0,25),Text=ed.Title or'',TextXAlignment=Enum.TextXAlignment.Left,ZIndex=1,Parent=ca})local eh=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,Position=UDim2.new(0,8,0,25),Size=UDim2.new(1,-16,1,-33),ZIndex=1,Parent=ca})q:AddToRegistry(eh,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local ei=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=Color3.new(0,0,0),BorderMode=Enum.BorderMode.Inset,Position=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),ZIndex=1,Parent=eh})q:AddToRegistry(ei,{BackgroundColor3='BackgroundColor'})local ej=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,8,0,8),Size=UDim2.new(1,-16,0,21),ZIndex=1,Parent=ei})local ek=q:Create('UIListLayout',{Padding=UDim.new(0,ed.TabPadding),FillDirection=Enum.FillDirection.Horizontal,SortOrder=Enum.SortOrder.LayoutOrder,Parent=ej})local el=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,Position=UDim2.new(0,8,0,30),Size=UDim2.new(1,-16,1,-38),ZIndex=2,Parent=ei})q:AddToRegistry(el,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})function ee:SetWindowTitle(em)eg.Text=em end;function ee:AddTab(en)local eo={Groupboxes={},Tabboxes={}}local ep=q:GetTextBounds(en,q.Font,16)local eq=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,Size=UDim2.new(0,ep+8+4,1,0),ZIndex=1,Parent=ej})q:AddToRegistry(eq,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local er=q:CreateLabel({Position=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,-1),Text=en,ZIndex=1,Parent=eq})local es=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderSizePixel=0,Position=UDim2.new(0,0,1,0),Size=UDim2.new(1,0,0,1),BackgroundTransparency=1,ZIndex=3,Parent=eq})q:AddToRegistry(es,{BackgroundColor3='MainColor'})local et=q:Create('Frame',{Name='TabFrame',BackgroundTransparency=1,Position=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),Visible=false,ZIndex=2,Parent=el})local eu=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,Position=UDim2.new(0,8-1,0,8-1),Size=UDim2.new(0.5,-12+2,0,507+2),CanvasSize=UDim2.new(0,0,0,0),BottomImage='',TopImage='',ScrollBarThickness=0,ZIndex=2,Parent=et})local ev=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,Position=UDim2.new(0.5,4+1,0,8-1),Size=UDim2.new(0.5,-12+2,0,507+2),CanvasSize=UDim2.new(0,0,0,0),BottomImage='',TopImage='',ScrollBarThickness=0,ZIndex=2,Parent=et})q:Create('UIListLayout',{Padding=UDim.new(0,8),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,HorizontalAlignment=Enum.HorizontalAlignment.Center,Parent=eu})q:Create('UIListLayout',{Padding=UDim.new(0,8),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,HorizontalAlignment=Enum.HorizontalAlignment.Center,Parent=ev})if q.IsMobile then local ew={["Left"]=tick(),["Right"]=tick()}eu:GetPropertyChangedSignal('CanvasPosition'):Connect(function()q.CanDrag=false;local ex=tick()ew.Left=ex;task.wait(0.15)if ew.Left==ex then q.CanDrag=true end end)ev:GetPropertyChangedSignal('CanvasPosition'):Connect(function()q.CanDrag=false;local ex=tick()ew.Right=ex;task.wait(0.15)if ew.Right==ex then q.CanDrag=true end end)end;for w,cR in next,{eu,ev}do cR:WaitForChild('UIListLayout'):GetPropertyChangedSignal('AbsoluteContentSize'):Connect(function()cR.CanvasSize=UDim2.fromOffset(0,cR.UIListLayout.AbsoluteContentSize.Y)end)end;function eo:ShowTab()q.ActiveTab=en;for w,eo in next,ee.Tabs do eo:HideTab()end;es.BackgroundTransparency=0;eq.BackgroundColor3=q.MainColor;q.RegistryMap[eq].Properties.BackgroundColor3='MainColor'et.Visible=true end;function eo:HideTab()es.BackgroundTransparency=1;eq.BackgroundColor3=q.BackgroundColor;q.RegistryMap[eq].Properties.BackgroundColor3='BackgroundColor'et.Visible=false end;function eo:SetLayoutOrder(ey)eq.LayoutOrder=ey;ek:ApplyLayout()end;function eo:GetSides()return{["Left"]=eu,["Right"]=ev}end;function eo:AddGroupbox(aU)local c0={}local ez=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,0,507+2),ZIndex=2,Parent=aU.Side==1 and eu or ev})q:AddToRegistry(ez,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local eA=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-2,1,-2),Position=UDim2.new(0,1,0,1),ZIndex=4,Parent=ez})q:AddToRegistry(eA,{BackgroundColor3='BackgroundColor'})local b0=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=5,Parent=eA})q:AddToRegistry(b0,{BackgroundColor3='AccentColor'})local eB=q:CreateLabel({Size=UDim2.new(1,0,0,18),Position=UDim2.new(0,4,0,2),TextSize=14,Text=aU.Name,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=5,Parent=eA})local bG=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,4,0,20),Size=UDim2.new(1,-4,1,-20),ZIndex=1,Parent=eA})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bG})function c0:Resize()local aF=0;for w,da in next,c0.Container:GetChildren()do if not da:IsA('UIListLayout')and da.Visible then aF=aF+da.Size.Y.Offset end end;ez.Size=UDim2.new(1,0,0,20+aF+2+2)end;c0.Container=bG;setmetatable(c0,b_)c0:AddBlank(3)c0:Resize()eo.Groupboxes[aU.Name]=c0;return c0 end;function eo:AddLeftGroupbox(en)return eo:AddGroupbox({Side=1,Name=en})end;function eo:AddRightGroupbox(en)return eo:AddGroupbox({Side=2,Name=en})end;function eo:AddTabbox(aU)local eC={Tabs={}}local ez=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,0,0),ZIndex=2,Parent=aU.Side==1 and eu or ev})q:AddToRegistry(ez,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local eA=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-2,1,-2),Position=UDim2.new(0,1,0,1),ZIndex=4,Parent=ez})q:AddToRegistry(eA,{BackgroundColor3='BackgroundColor'})local b0=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=10,Parent=eA})q:AddToRegistry(b0,{BackgroundColor3='AccentColor'})local eD=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,0,0,1),Size=UDim2.new(1,0,0,18),ZIndex=5,Parent=eA})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Horizontal,HorizontalAlignment=Enum.HorizontalAlignment.Left,SortOrder=Enum.SortOrder.LayoutOrder,Parent=eD})function eC:AddTab(en)local eo={}local bp=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0.5,0,1,0),ZIndex=6,Parent=eD})q:AddToRegistry(bp,{BackgroundColor3='MainColor'})local dx=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=14,Text=en,TextXAlignment=Enum.TextXAlignment.Center,ZIndex=7,Parent=bp})local eE=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderSizePixel=0,Position=UDim2.new(0,0,1,0),Size=UDim2.new(1,0,0,1),Visible=false,ZIndex=9,Parent=bp})q:AddToRegistry(eE,{BackgroundColor3='BackgroundColor'})local bG=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,4,0,20),Size=UDim2.new(1,-4,1,-20),ZIndex=1,Visible=false,Parent=eA})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bG})function eo:Show()for w,eo in next,eC.Tabs do eo:Hide()end;bG.Visible=true;eE.Visible=true;bp.BackgroundColor3=q.BackgroundColor;q.RegistryMap[bp].Properties.BackgroundColor3='BackgroundColor'eo:Resize()end;function eo:Hide()bG.Visible=false;eE.Visible=false;bp.BackgroundColor3=q.MainColor;q.RegistryMap[bp].Properties.BackgroundColor3='MainColor'end;function eo:Resize()local eF=0;for w,eo in next,eC.Tabs do eF=eF+1 end;for w,bp in next,eD:GetChildren()do if not bp:IsA('UIListLayout')then bp.Size=UDim2.new(1/eF,0,1,0)end end;if not bG.Visible then return end;local aF=0;for w,da in next,eo.Container:GetChildren()do if not da:IsA('UIListLayout')and da.Visible then aF=aF+da.Size.Y.Offset end end;ez.Size=UDim2.new(1,0,0,20+aF+2+2)end;bp.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Y.UserInputType==Enum.UserInputType.Touch then eo:Show()eo:Resize()end end)eo.Container=bG;eC.Tabs[en]=eo;setmetatable(eo,b_)eo:AddBlank(3)eo:Resize()if#eD:GetChildren()==2 then eo:Show()end;return eo end;eo.Tabboxes[aU.Name or'']=eC;return eC end;function eo:AddLeftTabbox(en)return eo:AddTabbox({Name=en,Side=1})end;function eo:AddRightTabbox(en)return eo:AddTabbox({Name=en,Side=2})end;eq.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then eo:ShowTab()end end)q.TotalTabs=q.TotalTabs+1;if q.TotalTabs==1 then eo:ShowTab()end;ee.Tabs[en]=eo;return eo end;local eG=q:Create('TextButton',{BackgroundTransparency=1,Size=UDim2.new(0,0,0,0),Visible=true,Text='',Modal=false,Parent=m})local eH={}local eI=false;local eJ=false;function q:Toggle()if eJ then return end;local eK=ed.MenuFadeTime;eJ=true;eI=not eI;q.Toggled=eI;eG.Modal=eI;if eI then c9.Visible=true;task.spawn(function()local bS=a.MouseIconEnabled;local eL,eM;if q.ShowCustomCursor then local eN,eO=pcall(function()eL=Drawing.new('Triangle')eL.Thickness=1;eL.Filled=true;eL.Visible=true;eM=Drawing.new('Triangle')eM.Thickness=1;eM.Filled=false;eM.Color=Color3.new(0,0,0)eM.Visible=true;while eI and m.Parent and q.ShowCustomCursor do a.MouseIconEnabled=false;local cS=a:GetMouseLocation()eL.Color=q.AccentColor;eL.PointA=Vector2.new(cS.X,cS.Y)eL.PointB=Vector2.new(cS.X+16,cS.Y+6)eL.PointC=Vector2.new(cS.X+6,cS.Y+16)eM.PointA=eL.PointA;eM.PointB=eL.PointB;eM.PointC=eL.PointC;i:Wait()end end)if eL then eL:Remove()end;if eM then eM:Remove()end end;a.MouseIconEnabled=bS end)end;for w,eP in next,c9:GetDescendants()do local J={}if eP:IsA('ImageLabel')then table.insert(J,'ImageTransparency')table.insert(J,'BackgroundTransparency')elseif eP:IsA('TextLabel')or eP:IsA('TextBox')then table.insert(J,'TextTransparency')elseif eP:IsA('Frame')or eP:IsA('ScrollingFrame')then table.insert(J,'BackgroundTransparency')elseif eP:IsA('UIStroke')then table.insert(J,'Transparency')end;local eQ=eH[eP]if not eQ then eQ={}eH[eP]=eQ end;for w,eR in next,J do if not eQ[eR]then eQ[eR]=eP[eR]end;if eQ[eR]~=1 then g:Create(eP,TweenInfo.new(eK,Enum.EasingStyle.Linear),{[eR]=eI and eQ[eR]or 1}):Play()end end end;task.wait(eK)c9.Visible=eI;eJ=false end;q:GiveSignal(a.InputBegan:Connect(function(Y,eS)if type(q.ToggleKeybind)=='table'and q.ToggleKeybind.Type=='KeyPicker'then if Y.UserInputType==Enum.UserInputType.Keyboard and Y.KeyCode.Name==q.ToggleKeybind.Value then task.spawn(q.Toggle)end elseif Y.KeyCode==Enum.KeyCode.RightControl or Y.KeyCode==Enum.KeyCode.RightShift and not eS then task.spawn(q.Toggle)end end))do local c8=q.IsMobile and 30 or 40;local eT=q.IsMobile and 0.27 or 0.17;local eU=q.IsMobile and-0.095 or-0.045;local eV=c8*77/30;local eW=math.floor(c8*14/30)local eX=0 or q.IsMobile and 4 or 8;local eY=q.IsMobile and 0 or-2;local eZ=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(eT,0,eU,0),Size=UDim2.new(0,eV,0,c8),ZIndex=200,Visible=true,Parent=m})local e_=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.AccentColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=201,Parent=eZ})q:AddToRegistry(e_,{BorderColor3='AccentColor'})local f0=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),ZIndex=202,Parent=e_})local f1=q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)}),Rotation=-90,Parent=f0})q:AddToRegistry(f1,{Color=function()return ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)})end})local f2=q:Create('TextButton',{Position=UDim2.new(0,eX,0,eY),Size=UDim2.new(1,-4,1,0),BackgroundTransparency=1,Font=q.Font,Text="Toggle UI",TextColor3=q.FontColor,TextSize=eW,TextXAlignment=Enum.TextXAlignment.Center,TextStrokeTransparency=0,ZIndex=203,Parent=f0})q:AddToRegistry(f2,{TextColor3='FontColor'})q:MakeDraggable(f2,eZ,40,0.25)f2.MouseButton1Down:Connect(function()task.spawn(q.Toggle)end)if q.IsMobile then local f3=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(eT,0,eU,c8),Size=UDim2.new(0,eV,0,c8),ZIndex=200,Visible=true,Parent=m})local f4=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.AccentColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=201,Parent=f3})q:AddToRegistry(f4,{BorderColor3='AccentColor'})local f5=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),ZIndex=202,Parent=f4})local f6=q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)}),Rotation=-90,Parent=f5})q:AddToRegistry(f6,{Color=function()return ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)})end})local f7=q:Create('TextButton',{Position=UDim2.new(0,eX,0,eY),Size=UDim2.new(1,-4,1,0),BackgroundTransparency=1,Font=q.Font,Text="Lock UI",TextColor3=q.FontColor,TextSize=eW,TextXAlignment=Enum.TextXAlignment.Center,TextStrokeTransparency=0,ZIndex=203,Parent=f5})q:AddToRegistry(f7,{TextColor3='FontColor'})q:MakeDraggable(f7,f3,40,0.25)f7.MouseButton1Down:Connect(function()q.CantDragForced=not q.CantDragForced end)end end;if ed.AutoShow then task.spawn(q.Toggle)end;ee.Holder=c9;q.Window=ee;return ee end;local function f8()local v=u()for w,M in next,o do if M.Type=='Dropdown'and M.SpecialType=='Player'then M:SetValues(v)end end end;e.PlayerAdded:Connect(f8)e.PlayerRemoving:Connect(f8)getgenv().Library=q;local f9={}do f9.Folder='LinoriaLibSettings'f9.Ignore={}f9.Parser={Toggle={Save=function(fa,fb)return{type='Toggle',idx=fa,value=fb.Value}end,Load=function(fa,fc)if n[fa]then n[fa]:SetValue(fc.value)end end},Slider={Save=function(fa,fb)return{type='Slider',idx=fa,value=tostring(fb.Value)}end,Load=function(fa,fc)if o[fa]then o[fa]:SetValue(fc.value)end end},Dropdown={Save=function(fa,fb)return{type='Dropdown',idx=fa,value=fb.Value,multi=fb.Multi}end,Load=function(fa,fc)local fd;if typeof(fc.value)=='table'then fd={}for C,ds in ipairs(o[fa].Values)do if fc.value[ds]then fd[ds]=true end end end;if o[fa]then o[fa]:SetValue(fd or fc.value)end end},PriorityDropdown={Save=function(fa,fb)return{type='PriorityDropdown',idx=fa,value=fb.Values}end,Load=function(fa,fc)if o[fa]and o[fa].Type=='PriorityDropdown'then local fe=o[fa].Values;local ff=fc.value;local fg={}local fh={}for C,dr in ipairs(fe)do fh[dr]=true end;for w,fi in ipairs(ff)do if fh[fi]then table.insert(fg,fi)end end;for C,fj in ipairs(fe)do local fk=false;for w,dr in ipairs(ff)do if dr==fj then fk=true;break end end;if not fk then local fl=C;if C>#fg+1 then fl=#fg+1 end;table.insert(fg,fl,fj)end end;o[fa]:SetValues(fg)end end},ColorPicker={Save=function(fa,fb)return{type='ColorPicker',idx=fa,value=fb.Value:ToHex(),transparency=fb.Transparency}end,Load=function(fa,fc)if o[fa]then o[fa]:SetValueRGB(Color3.fromHex(fc.value),fc.transparency)end end},KeyPicker={Save=function(fa,fb)return{type='KeyPicker',idx=fa,mode=fb.Mode,key=fb.Value}end,Load=function(fa,fc)if o[fa]then o[fa]:SetValue({fc.key,fc.mode})end end},Input={Save=function(fa,fb)return{type='Input',idx=fa,text=fb.Value}end,Load=function(fa,fc)if o[fa]and type(fc.text)=='string'then o[fa]:SetValue(fc.text)end end}}function f9:SetIgnoreIndexes(fm)for w,fn in next,fm do self.Ignore[fn]=true end end;function f9:SetFolder(fo)self.Folder=fo;self:BuildFolderTree()end;function f9:Save(fp)if not fp then return false,'no config file is selected'end;local fq=self.Folder..'/settings/'..fp..'.json'local fc={objects={}}for fa,fr in next,n do if not self.Ignore[fa]then table.insert(fc.objects,self.Parser[fr.Type].Save(fa,fr))end end;for fa,fs in next,o do if self.Parser[fs.Type]and not self.Ignore[fa]then table.insert(fc.objects,self.Parser[fs.Type].Save(fa,fs))end end;local G,ft=pcall(h.JSONEncode,h,fc)if not G then return false,'failed to encode data'end;writefile(fq,ft)return true end;function f9:Load(fp)if not fp then return false,'no config file is selected'end;local fu=self.Folder..'/settings/'..fp..'.json'if not isfile(fu)then return false,'invalid file'end;local G,fv=pcall(h.JSONDecode,h,readfile(fu))if not G then return false,'decode error'end;getgenv().ConfigAutoLoaded=true;for w,fs in next,fv.objects do if self.Parser[fs.type]then task.spawn(function()self.Parser[fs.type].Load(fs.idx,fs)end)end end;return true end;function f9:Delete(fp)if not fp then return false,'no config file is selected'end;local fu=self.Folder..'/settings/'..fp..'.json'if not isfile(fu)then return false,'invalid file'end;local G,fv=pcall(delfile,fu)if not G then return false,'delete file error'end;return true end;function f9:SetAutoload(fp)if not fp then return false,'no config file is selected'end;local fu=self.Folder..'/settings/'..fp..'.json'if not isfile(fu)then return false,'invalid file'end;local G,fv=pcall(writefile,self.Folder..'/settings/autoload.txt',fp)if not G then return false,'write file error'end;f9.AutoloadLabel:SetText('Current autoload config: '..fp)return true end;function f9:ResetAutoload()local fu=self.Folder..'/settings/autoload.txt'if not isfile(fu)then return false,'no config file is selected'end;local G=pcall(delfile,self.Folder..'/settings/autoload.txt')if not G then return false,'delete file error'end;f9.AutoloadLabel:SetText('Current autoload config: none')return true end;function f9:IgnoreThemeSettings()self:SetIgnoreIndexes({"BackgroundColor","MainColor","AccentColor","OutlineColor","FontColor","ThemeManager_ThemeList",'ThemeManager_CustomThemeList','ThemeManager_CustomThemeName',"VideoLink"})end;function f9:BuildFolderTree()local fw={self.Folder,self.Folder..'/themes',self.Folder..'/settings'}for C=1,#fw do local d0=fw[C]if not isfolder(d0)then makefolder(d0)end end end;function f9:RefreshConfigList()local fm=listfiles(self.Folder..'/settings')local fx={}for C=1,#fm do local fu=fm[C]if fu:sub(-5)=='.json'then local W=fu:find('.json',1,true)local fy=W;local fz=fu:sub(W,W)while fz~='/'and fz~='\\'and fz~=''do W=W-1;fz=fu:sub(W,W)end;if fz=='/'or fz=='\\'then table.insert(fx,fu:sub(W+1,fy-1))end end end;return fx end;function f9:SetLibrary(fA)self.Library=fA end;function f9:LoadAutoloadConfig()if isfile(self.Folder..'/settings/autoload.txt')then local fp=readfile(self.Folder..'/settings/autoload.txt')local G,fB=self:Load(fp)if not G then return self.Library:Notify('Failed to load autoload config: '..fB)end;self.Library:Notify(string.format('Auto loaded config %q',fp))end end;function f9:BuildConfigSection(fC)assert(self.Library,'Must set SaveManager.Library')local fD=fC:AddRightGroupbox('Configuration')fD:AddInput('SaveManager_ConfigName',{Text='Config name'})fD:AddButton('Create config',function()local fp=o.SaveManager_ConfigName.Value;if fp:gsub(' ','')==''then return self.Library:Notify('Invalid config name (empty)',2)end;local G,fB=self:Save(fp)if not G then return self.Library:Notify('Failed to create config: '..fB)end;self.Library:Notify(string.format('Created config %q',fp))o.SaveManager_ConfigList:SetValue()o.SaveManager_ConfigList:SetValues(self:RefreshConfigList())end)fD:AddDivider()fD:AddDropdown('SaveManager_ConfigList',{Text='Config list',Values=self:RefreshConfigList(),AllowNull=true})fD:AddButton('Overwrite config',function()local fp=o.SaveManager_ConfigList.Value;local G,fB=self:Save(fp)if not G then return self.Library:Notify('Failed to overwrite config: '..fB)end;self.Library:Notify(string.format('Overwrote config %q',fp))end):AddButton('Load config',function()local fp=o.SaveManager_ConfigList.Value;local G,fB=self:Load(fp)if not G then return self.Library:Notify('Failed to load config: '..fB)end;self.Library:Notify(string.format('Loaded config %q',fp))end)fD:AddButton('Delete config',function()local fp=o.SaveManager_ConfigList.Value;local G,fB=self:Delete(fp)if not G then return self.Library:Notify('Failed to delete config: '..fB)end;self.Library:Notify(string.format('Deleted config %q',fp))o.SaveManager_ConfigList:SetValue()o.SaveManager_ConfigList:SetValues(self:RefreshConfigList())end):AddButton('Refresh list',function()o.SaveManager_ConfigList:SetValue()o.SaveManager_ConfigList:SetValues(self:RefreshConfigList())end)fD:AddButton('Set autoload',function()local fp=o.SaveManager_ConfigList.Value;local G,fB=self:SetAutoload(fp)if not G then return self.Library:Notify('Failed to set autoload: '..fB)end;self.Library:Notify(string.format('Set %q to auto load',fp))end):AddButton('Reset autoload',function()local G,fB=self:ResetAutoload()if not G then return self.Library:Notify('Failed to reset autoload: '..fB)end;self.Library:Notify('Reset autoload')end)f9.AutoloadLabel=fD:AddLabel('Current autoload config: none',true)if isfile(self.Folder..'/settings/autoload.txt')then local fp=readfile(self.Folder..'/settings/autoload.txt')f9.AutoloadLabel:SetText('Current autoload config: '..fp)end;f9:SetIgnoreIndexes({'SaveManager_ConfigList','SaveManager_ConfigName'})end;f9:BuildFolderTree()end;local fE={}do fE.Folder='LinoriaLibSettings'fE.Library=nil;fE.BuiltInThemes={['Default']={1,h:JSONDecode([[{"FontColor":"ffffff","MainColor":"252526","AccentColor":"007acc","BackgroundColor":"1e1e1e","OutlineColor":"333333"}]])},["BBot"]={2,h:JSONDecode([[{"FontColor":"ffffff","MainColor":"1e1e1e","AccentColor":"7e48a3","BackgroundColor":"232323","OutlineColor":"141414"}]])},["Fatality"]={3,h:JSONDecode([[{"FontColor":"ffffff","MainColor":"1e1842","AccentColor":"c50754","BackgroundColor":"191335","OutlineColor":"3c355d"}]])},["Jester"]={4,h:JSONDecode([[{"FontColor":"ffffff","MainColor":"242424","AccentColor":"db4467","BackgroundColor":"1c1c1c","OutlineColor":"373737"}]])},["Mint"]={5,h:JSONDecode([[{"FontColor":"ffffff","MainColor":"242424","AccentColor":"3db488","BackgroundColor":"1c1c1c","OutlineColor":"373737"}]])},["Tokyo Night"]={6,h:JSONDecode([[{"FontColor":"ffffff","MainColor":"191925","AccentColor":"6759b3","BackgroundColor":"16161f","OutlineColor":"323232"}]])},["Ubuntu"]={7,h:JSONDecode([[{"FontColor":"ffffff","MainColor":"3e3e3e","AccentColor":"e2581e","BackgroundColor":"323232","OutlineColor":"191919"}]])},["Quartz"]={8,h:JSONDecode([[{"FontColor":"ffffff","MainColor":"232330","AccentColor":"426e87","BackgroundColor":"1d1b26","OutlineColor":"27232f"}]])},["Obsidian"]={9,h:JSONDecode([[{"FontColor":"ffffff","MainColor":"191919","AccentColor":"7d55ff","BackgroundColor":"0f0f0f","OutlineColor":"282828"}]])},["Nord"]={10,h:JSONDecode([[{"FontColor":"eceff4","MainColor":"3b4252","AccentColor":"88c0d0","BackgroundColor":"2e3440","OutlineColor":"4c566a"}]])},["Dracula"]={11,h:JSONDecode([[{"FontColor":"f8f8f2","MainColor":"44475a","AccentColor":"ff79c6","BackgroundColor":"282a36","OutlineColor":"6272a4"}]])},["Monokai"]={12,h:JSONDecode([[{"FontColor":"f8f8f2","MainColor":"272822","AccentColor":"f92672","BackgroundColor":"1e1f1c","OutlineColor":"49483e"}]])},["Gruvbox"]={13,h:JSONDecode([[{"FontColor":"ebdbb2","MainColor":"3c3836","AccentColor":"fb4934","BackgroundColor":"282828","OutlineColor":"504945"}]])},["Solarized"]={14,h:JSONDecode([[{"FontColor":"839496","MainColor":"073642","AccentColor":"cb4b16","BackgroundColor":"002b36","OutlineColor":"586e75"}]])},["Catppuccin"]={15,h:JSONDecode([[{"FontColor":"d9e0ee","MainColor":"302d41","AccentColor":"f5c2e7","BackgroundColor":"1e1e2e","OutlineColor":"575268"}]])},["One Dark"]={16,h:JSONDecode([[{"FontColor":"abb2bf","MainColor":"282c34","AccentColor":"c678dd","BackgroundColor":"21252b","OutlineColor":"5c6370"}]])},["Cyberpunk"]={17,h:JSONDecode([[{"FontColor":"f9f9f9","MainColor":"262335","AccentColor":"00ff9f","BackgroundColor":"1a1a2e","OutlineColor":"413c5e"}]])},["Oceanic Next"]={18,h:JSONDecode([[{"FontColor":"d8dee9","MainColor":"1b2b34","AccentColor":"6699cc","BackgroundColor":"16232a","OutlineColor":"343d46"}]])},["Material"]={19,h:JSONDecode([[{"FontColor":"eeffff","MainColor":"212121","AccentColor":"82aaff","BackgroundColor":"151515","OutlineColor":"424242"}]])}}function fE:ApplyTheme(fF)local fG=self:GetCustomTheme(fF)local fc=fG or self.BuiltInThemes[fF]if not fc then return end;local fH=fc[2]for fa,fI in next,fG or fH do self.Library[fa]=Color3.fromHex(fI)if o[fa]then o[fa]:SetValueRGB(Color3.fromHex(fI))end end;self:ThemeUpdate()end;function fE:ThemeUpdate()local fJ={"FontColor","MainColor","AccentColor","BackgroundColor","OutlineColor"}for C,fK in next,fJ do if o and o[fK]then self.Library[fK]=o[fK].Value end end;self.Library.AccentColorDark=self.Library:GetDarkerColor(self.Library.AccentColor)self.Library:UpdateColorsUsingRegistry()end;function fE:LoadDefault()local fF='Default'local fL=isfile(self.Folder..'/themes/default.txt')and readfile(self.Folder..'/themes/default.txt')local fM=true;if fL then if self.BuiltInThemes[fL]then fF=fL elseif self:GetCustomTheme(fL)then fF=fL;fM=false end elseif self.BuiltInThemes[self.DefaultTheme]then fF=self.DefaultTheme end;if fM then o.ThemeManager_ThemeList:SetValue(fF)else self:ApplyTheme(fF)end end;function fE:SaveDefault(fF)writefile(self.Folder..'/themes/default.txt',fF)end;function fE:CreateThemeManager(fN)fN:AddLabel('Background color'):AddColorPicker('BackgroundColor',{Default=self.Library.BackgroundColor})fN:AddLabel('Main color'):AddColorPicker('MainColor',{Default=self.Library.MainColor})fN:AddLabel('Accent color'):AddColorPicker('AccentColor',{Default=self.Library.AccentColor})fN:AddLabel('Outline color'):AddColorPicker('OutlineColor',{Default=self.Library.OutlineColor})fN:AddLabel('Font color'):AddColorPicker('FontColor',{Default=self.Library.FontColor})local fO={}for en,fP in next,self.BuiltInThemes do table.insert(fO,en)end;table.sort(fO,function(y,z)return self.BuiltInThemes[y][1]<self.BuiltInThemes[z][1]end)fN:AddDivider()fN:AddDropdown('ThemeManager_ThemeList',{Text='Theme list',Values=fO,Default=1})fN:AddButton('Set as default',function()self:SaveDefault(o.ThemeManager_ThemeList.Value)self.Library:Notify(string.format('Set default theme to %q',o.ThemeManager_ThemeList.Value))end)o.ThemeManager_ThemeList:OnChanged(function()self:ApplyTheme(o.ThemeManager_ThemeList.Value)end)fN:AddDivider()fN:AddInput('ThemeManager_CustomThemeName',{Text='Custom theme name'})fN:AddDropdown('ThemeManager_CustomThemeList',{Text='Custom themes',Values=self:ReloadCustomThemes(),AllowNull=true,Default=1})fN:AddDivider()fN:AddButton('Save theme',function()self:SaveCustomTheme(o.ThemeManager_CustomThemeName.Value)o.ThemeManager_CustomThemeList:SetValues(self:ReloadCustomThemes())o.ThemeManager_CustomThemeList:SetValue(nil)end):AddButton('Load theme',function()self:ApplyTheme(o.ThemeManager_CustomThemeList.Value)end)fN:AddButton('Refresh list',function()o.ThemeManager_CustomThemeList:SetValues(self:ReloadCustomThemes())o.ThemeManager_CustomThemeList:SetValue(nil)end)fN:AddButton('Set as default',function()if o.ThemeManager_CustomThemeList.Value~=nil and o.ThemeManager_CustomThemeList.Value~=''then self:SaveDefault(o.ThemeManager_CustomThemeList.Value)self.Library:Notify(string.format('Set default theme to %q',o.ThemeManager_CustomThemeList.Value))end end)fE:LoadDefault()local function fQ()self:ThemeUpdate()end;o.BackgroundColor:OnChanged(fQ)o.MainColor:OnChanged(fQ)o.AccentColor:OnChanged(fQ)o.OutlineColor:OnChanged(fQ)o.FontColor:OnChanged(fQ)end;function fE:GetCustomTheme(fu)local fR=self.Folder..'/themes/'..fu;if not isfile(fR)then return nil end;local fc=readfile(fR)local G,fv=pcall(h.JSONDecode,h,fc)if not G then return nil end;return fv end;function fE:SaveCustomTheme(fu)if fu:gsub(' ','')==''then return self.Library:Notify('Invalid file name for theme (empty)',3)end;local fF={}local fS={"FontColor","MainColor","AccentColor","BackgroundColor","OutlineColor"}for w,fK in next,fS do fF[fK]=o[fK].Value:ToHex()end;writefile(self.Folder..'/themes/'..fu..'.json',h:JSONEncode(fF))end;function fE:ReloadCustomThemes()local fm=listfiles(self.Folder..'/themes')local fx={}for C=1,#fm do local fu=fm[C]if fu:sub(-5)=='.json'then local W=fu:find('.json',1,true)local fz=fu:sub(W,W)while fz~='/'and fz~='\\'and fz~=''do W=W-1;fz=fu:sub(W,W)end;if fz=='/'or fz=='\\'then table.insert(fx,fu:sub(W+1))end end end;return fx end;function fE:SetLibrary(fT)self.Library=fT end;function fE:BuildFolderTree()local fw={}local fU=self.Folder:split('/')for fa=1,#fU do fw[#fw+1]=table.concat(fU,'/',1,fa)end;table.insert(fw,self.Folder..'/themes')table.insert(fw,self.Folder..'/settings')for C=1,#fw do local d0=fw[C]if not isfolder(d0)then makefolder(d0)end end end;function fE:SetFolder(fo)self.Folder=fo;self:BuildFolderTree()end;function fE:CreateGroupBox(fC)assert(self.Library,'Must set ThemeManager.Library first!')return fC:AddLeftGroupbox('Themes')end;function fE:ApplyToTab(fC)assert(self.Library,'Must set ThemeManager.Library first!')local fN=self:CreateGroupBox(fC)self:CreateThemeManager(fN)end;function fE:ApplyToGroupbox(fN)assert(self.Library,'Must set ThemeManager.Library first!')self:CreateThemeManager(fN)end;fE:BuildFolderTree()end;return q,f9,fE
