local a=game:GetService('UserInputService')local b=game:GetService('TextService')local c=game:GetService('CoreGui')local d=game:GetService('Teams')local e=game:GetService('Players')local f=game:GetService('RunService')local g=game:GetService('TweenService')local h=game:GetService('HttpService')local i=f.RenderStepped;local j=e.LocalPlayer;local k=j:GetMouse()local l=protectgui or syn and syn.protect_gui or function()end;local m=Instance.new('ScreenGui')l(m)m.ZIndexBehavior=Enum.ZIndexBehavior.Global;m.Parent=c;local n={}local o={}getgenv().Toggles=n;getgenv().Options=o;local p=nil;local q={Registry={},RegistryMap={},HudRegistry={},FontColor=Color3.fromRGB(255,255,255),MainColor=Color3.fromRGB(28,28,28),BackgroundColor=Color3.fromRGB(20,20,20),AccentColor=Color3.fromRGB(0,85,255),OutlineColor=Color3.fromRGB(50,50,50),RiskColor=Color3.fromRGB(255,50,50),Black=Color3.new(0,0,0),Font=Enum.Font.Code,OpenedFrames={},DependencyBoxes={},Signals={},ScreenGui=m,ActiveTab=nil,Toggled=false,MinSize=Vector2.new(300,200),IsMobile=false,DevicePlatform=Enum.Platform.None,CanDrag=true,CantDragForced=false,ShowCustomCursor=false,VideoLink="",TotalTabs=0}pcall(function()q.DevicePlatform=a:GetPlatform()end)q.IsMobile=q.DevicePlatform==Enum.Platform.Android or q.DevicePlatform==Enum.Platform.IOS;if q.IsMobile then q.MinSize=Vector2.new(550,200)end;local r=0;local s=0;table.insert(q.Signals,i:Connect(function(t)r=r+t;if r>=1/60 then r=0;s=s+1/400;if s>1 then s=0 end;q.CurrentRainbowHue=s;q.CurrentRainbowColor=Color3.fromHSV(s,0.8,1)end end))local function u()local v={}for w,x in e:GetPlayers()do if x~=j then table.insert(v,x.Name)end end;table.sort(v,function(y,z)return y<z end)return v end;local function A()local B=d:GetTeams()for C=1,#B do B[C]=B[C].Name end;table.sort(B,function(D,E)return D<E end)return B end;function q:SafeCallback(F,...)if not F then return end;if not q.NotifyOnError then return F(...)end;local G,H=pcall(F,...)if not G then local w,C=H:find(":%d+: ")if not C then return q:Notify(H)end;return q:Notify(H:sub(C+1),3)end end;function q:AttemptSave()if q.SaveManager then q.SaveManager:Save()end end;function q:Create(I,J)local K=I;if type(I)=='string'then K=Instance.new(I)end;for L,M in next,J do K[L]=M end;return K end;function q:ApplyTextStroke(N)N.TextStrokeTransparency=1;q:Create('UIStroke',{Color=Color3.new(0,0,0),Thickness=1,LineJoinMode=Enum.LineJoinMode.Miter,Parent=N})end;function q:CreateLabel(J,O)local K=q:Create('TextLabel',{BackgroundTransparency=1,Font=q.Font,TextColor3=q.FontColor,TextSize=16,TextStrokeTransparency=0})q:ApplyTextStroke(K)q:AddToRegistry(K,{TextColor3='FontColor'},O)return q:Create(K,J)end;function q:MakeDraggable(Instance,P)Instance.Active=true;Instance.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 then local R=Vector2.new(k.X-Instance.AbsolutePosition.X,k.Y-Instance.AbsolutePosition.Y)if R.Y>(P or 40)then return end;while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)do Instance.Position=UDim2.new(0,k.X-R.X+Instance.Size.X.Offset*Instance.AnchorPoint.X,0,k.Y-R.Y+Instance.Size.Y.Offset*Instance.AnchorPoint.Y)i:Wait()end end end)if q.IsMobile then local S,T,U,V;a.TouchStarted:Connect(function(Q)if q.CantDragForced==true then S=false;return end;if not S and q:IsMouseOverFrame(Instance,Q)and q.Window.Holder.Visible==true then T=Q;U=Q.Position;V=Instance.Position;local W=Q.Position-U;if W.Y>(P or 40)then S=false;return end;S=true end end)a.TouchMoved:Connect(function(Q)if q.CantDragForced==true then S=false;return end;if Q==T and S and q.CanDrag==true and q.Window.Holder.Visible==true then local W=Q.Position-U;Instance.Position=UDim2.new(V.X.Scale,V.X.Offset+W.X,V.Y.Scale,V.Y.Offset+W.Y)end end)a.TouchEnded:Connect(function(Q)if Q==T then S=false end end)end end;function q:MakeResizable(Instance,X)Instance.Active=true;local Y=25;local Z=0.5;local _=q:Create('Frame',{SizeConstraint=Enum.SizeConstraint.RelativeXX,BackgroundColor3=Color3.new(0,0,0),BackgroundTransparency=1,BorderSizePixel=0,Size=UDim2.new(0,30,0,30),Position=UDim2.new(1,-30,1,-30),Visible=true,ClipsDescendants=true,ZIndex=1,Parent=Instance})local a0=q:Create('ImageButton',{BackgroundColor3=q.AccentColor,BackgroundTransparency=1,BorderSizePixel=0,Size=UDim2.new(2,0,2,0),Position=UDim2.new(1,-30,1,-30),ZIndex=2,Parent=_})local a1=q:Create('UICorner',{CornerRadius=UDim.new(0.5,0),Parent=a0})q:AddToRegistry(a0,{BackgroundColor3='AccentColor'})_.Size=UDim2.fromOffset(Y,Y)_.Position=UDim2.new(1,-Y,1,-Y)X=X or q.MinSize;local W;_.Parent=Instance;local function a2(a3)a0.Position=UDim2.new()a0.Size=UDim2.new(2,0,2,0)a0.Parent=_;a0.BackgroundTransparency=a3;a1.Parent=a0;W=nil end;a0.MouseButton1Down:Connect(function()if not W then W=Vector2.new(k.X-(Instance.AbsolutePosition.X+Instance.AbsoluteSize.X),k.Y-(Instance.AbsolutePosition.Y+Instance.AbsoluteSize.Y))a0.BackgroundTransparency=1;a0.Size=UDim2.fromOffset(q.ScreenGui.AbsoluteSize.X,q.ScreenGui.AbsoluteSize.Y)a0.Position=UDim2.new()a1.Parent=nil;a0.Parent=q.ScreenGui end end)a0.InputBegan:Connect(function(a4)if a4.UserInputType==Enum.UserInputType.Touch and not W then local a5=a4.Position;W=Vector2.new(a5.X-(Instance.AbsolutePosition.X+Instance.AbsoluteSize.X),a5.Y-(Instance.AbsolutePosition.Y+Instance.AbsoluteSize.Y))a0.BackgroundTransparency=1;a0.Size=UDim2.fromOffset(q.ScreenGui.AbsoluteSize.X,q.ScreenGui.AbsoluteSize.Y)a0.Position=UDim2.new()a1.Parent=nil;a0.Parent=q.ScreenGui end end)a0.MouseMoved:Connect(function()if W then local a6=Vector2.new(k.X-W.X,k.Y-W.Y)local a7=Vector2.new(math.clamp(a6.X-Instance.AbsolutePosition.X,X.X,math.huge),math.clamp(a6.Y-Instance.AbsolutePosition.Y,X.Y,math.huge))Instance.Size=UDim2.fromOffset(a7.X,a7.Y)end end)a0.InputChanged:Connect(function(a4)if W and a4.UserInputType==Enum.UserInputType.Touch then local a5=a4.Position;local a6=Vector2.new(a5.X-W.X,a5.Y-W.Y)local a7=Vector2.new(math.clamp(a6.X-Instance.AbsolutePosition.X,X.X,math.huge),math.clamp(a6.Y-Instance.AbsolutePosition.Y,X.Y,math.huge))Instance.Size=UDim2.fromOffset(a7.X,a7.Y)end end)a0.MouseEnter:Connect(function()a2(Z)end)a0.MouseLeave:Connect(function()a2(1)end)a0.MouseButton1Up:Connect(function()a2(Z)end)a0.InputEnded:Connect(function(a4)if a4.UserInputType==Enum.UserInputType.Touch then a2(Z)end end)end;function q:AddToolTip(a8,a9)local aa,ab=q:GetTextBounds(a8,q.Font,14)local ac=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,Size=UDim2.fromOffset(aa+5,ab+4),ZIndex=100,Parent=q.ScreenGui,Visible=false})local ad=q:CreateLabel({Position=UDim2.fromOffset(3,1),Size=UDim2.fromOffset(aa,ab),TextSize=14,Text=a8,TextColor3=q.FontColor,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=ac.ZIndex+1,Parent=ac})q:AddToRegistry(ac,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:AddToRegistry(ad,{TextColor3='FontColor'})local ae=false;a9.MouseEnter:Connect(function()if q:MouseIsOverOpenedFrame()then return end;ae=true;ac.Position=UDim2.fromOffset(k.X+15,k.Y+12)ac.Visible=true;while ae do f.Heartbeat:Wait()ac.Position=UDim2.fromOffset(k.X+15,k.Y+12)end end)a9.MouseLeave:Connect(function()ae=false;ac.Visible=false end)if p then p:GetPropertyChangedSignal("Visible"):Connect(function()if p.Visible==false then ae=false;ac.Visible=false end end)end end;function q:OnHighlight(af,Instance,J,ag)af.MouseEnter:Connect(function()local ah=q.RegistryMap[Instance]for L,ai in next,J do Instance[L]=q[ai]or ai;if ah and ah.Properties[L]then ah.Properties[L]=ai end end end)af.MouseLeave:Connect(function()local ah=q.RegistryMap[Instance]for L,ai in next,ag do Instance[L]=q[ai]or ai;if ah and ah.Properties[L]then ah.Properties[L]=ai end end end)end;function q:MouseIsOverOpenedFrame(Q)local aj=k;if q.IsMobile and Q then aj=Q.Position end;for ak,w in next,q.OpenedFrames do local al,am=ak.AbsolutePosition,ak.AbsoluteSize;if aj.X>=al.X and aj.X<=al.X+am.X and aj.Y>=al.Y and aj.Y<=al.Y+am.Y then return true end end end;function q:IsMouseOverFrame(ak,Q)local aj=k;if q.IsMobile and Q then aj=Q.Position end;local al,am=ak.AbsolutePosition,ak.AbsoluteSize;if aj.X>=al.X and aj.X<=al.X+am.X and aj.Y>=al.Y and aj.Y<=al.Y+am.Y then return true end end;function q:UpdateDependencyBoxes()for w,an in next,q.DependencyBoxes do an:Update()end end;function q:MapValue(M,ao,ap,aq,ar)return(1-(M-ao)/(ap-ao))*aq+(M-ao)/(ap-ao)*ar end;function q:GetTextBounds(as,at,au,av)local aw=b:GetTextSize(as,au,at,av or Vector2.new(1920,1080))return aw.X,aw.Y end;function q:GetDarkerColor(ax)local ay,az,aA=Color3.toHSV(ax)return Color3.fromHSV(ay,az,aA/1.5)end;q.AccentColorDark=q:GetDarkerColor(q.AccentColor)function q:AddToRegistry(Instance,J,O)local aB=#q.Registry+1;local aC={Instance=Instance,Properties=J,Idx=aB}table.insert(q.Registry,aC)q.RegistryMap[Instance]=aC;if O then table.insert(q.HudRegistry,aC)end end;function q:RemoveFromRegistry(Instance)local aC=q.RegistryMap[Instance]if aC then for aB=#q.Registry,1,-1 do if q.Registry[aB]==aC then table.remove(q.Registry,aB)end end;for aB=#q.HudRegistry,1,-1 do if q.HudRegistry[aB]==aC then table.remove(q.HudRegistry,aB)end end;q.RegistryMap[Instance]=nil end end;function q:UpdateColorsUsingRegistry()for aB,aD in next,q.Registry do for L,ai in next,aD.Properties do if type(ai)=='string'then aD.Instance[L]=q[ai]elseif type(ai)=='function'then aD.Instance[L]=ai()end end end end;function q:GiveSignal(aE)table.insert(q.Signals,aE)end;function q:Unload()for aB=#q.Signals,1,-1 do local aF=table.remove(q.Signals,aB)aF:Disconnect()end;if q.OnUnload then q.OnUnload()end;m:Destroy()end;function q:OnUnload(aG)q.OnUnload=aG end;q:GiveSignal(m.DescendantRemoving:Connect(function(Instance)if q.RegistryMap[Instance]then q:RemoveFromRegistry(Instance)end end))local aH={}do local aI={}function aI:AddColorPicker(aB,aJ)local aK=self.TextLabel;assert(aJ.Default,'AddColorPicker: Missing default value.')local aL={Value=aJ.Default,Transparency=aJ.Transparency or 0,Type='ColorPicker',Title=type(aJ.Title)=='string'and aJ.Title or'Color picker',Callback=aJ.Callback or function(ax)end}function aL:SetHSVFromRGB(ax)local ay,az,aA=Color3.toHSV(ax)aL.Hue=ay;aL.Sat=az;aL.Vib=aA end;aL:SetHSVFromRGB(aL.Value)local aM=q:Create('Frame',{BackgroundColor3=aL.Value,BorderColor3=q:GetDarkerColor(aL.Value),BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(0,28,0,14),ZIndex=6,Parent=aK})local aN=q:Create('ImageLabel',{BorderSizePixel=0,Size=UDim2.new(0,27,0,13),ZIndex=5,Image='http://www.roblox.com/asset/?id=18580629231',Visible=not not aJ.Transparency,Parent=aM})local aO=q:Create('Frame',{Name='Color',BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(aM.AbsolutePosition.X,aM.AbsolutePosition.Y+18),Size=UDim2.fromOffset(230,aJ.Transparency and 271 or 253),Visible=false,ZIndex=15,Parent=m})aM:GetPropertyChangedSignal('AbsolutePosition'):Connect(function()aO.Position=UDim2.fromOffset(aM.AbsolutePosition.X,aM.AbsolutePosition.Y+18)end)local aP=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=16,Parent=aO})local aQ=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=17,Parent=aP})local aR=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,4,0,25),Size=UDim2.new(0,200,0,200),ZIndex=17,Parent=aP})local aS=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=18,Parent=aR})local aT=q:Create('ImageLabel',{BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=18,Image='http://www.roblox.com/asset/?id=18580632112',Parent=aS})local aU=q:Create('ImageLabel',{AnchorPoint=Vector2.new(0.5,0.5),Size=UDim2.new(0,6,0,6),BackgroundTransparency=1,Image='http://www.roblox.com/asset/?id=18580629971',ImageColor3=Color3.new(0,0,0),ZIndex=19,Parent=aT})local aV=q:Create('ImageLabel',{Size=UDim2.new(0,aU.Size.X.Offset-2,0,aU.Size.Y.Offset-2),Position=UDim2.new(0,1,0,1),BackgroundTransparency=1,Image='http://www.roblox.com/asset/?id=18580629971',ZIndex=20,Parent=aU})local aW=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,208,0,25),Size=UDim2.new(0,15,0,200),ZIndex=17,Parent=aP})local aX=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=18,Parent=aW})local aY=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),AnchorPoint=Vector2.new(0,0.5),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,0,0,1),ZIndex=18,Parent=aX})local aZ=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(4,228),Size=UDim2.new(0.5,-6,0,20),ZIndex=18,Parent=aP})local a_=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=18,Parent=aZ})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=a_})local b0=q:Create('TextBox',{BackgroundTransparency=1,Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-5,1,0),Font=q.Font,PlaceholderColor3=Color3.fromRGB(190,190,190),PlaceholderText='Hex color',Text='#FFFFFF',TextColor3=q.FontColor,TextSize=14,TextStrokeTransparency=0,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=20,Parent=a_})q:ApplyTextStroke(b0)local b1=q:Create(aZ:Clone(),{Position=UDim2.new(0.5,2,0,228),Size=UDim2.new(0.5,-6,0,20),Parent=aP})local b2=q:Create(b1.Frame:FindFirstChild('TextBox'),{Text='255, 255, 255',PlaceholderText='RGB color',TextColor3=q.FontColor})local b3,b4,b5;if aJ.Transparency then b3=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(4,251),Size=UDim2.new(1,-8,0,15),ZIndex=19,Parent=aP})b4=q:Create('Frame',{BackgroundColor3=aL.Value,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=19,Parent=b3})q:AddToRegistry(b4,{BorderColor3='OutlineColor'})local b6=q:Create('ImageLabel',{BackgroundTransparency=1,Size=UDim2.new(1,0,1,0),Image='http://www.roblox.com/asset/?id=18580630715',ZIndex=20,Parent=b4})b5=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),AnchorPoint=Vector2.new(0.5,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0,1,1,0),ZIndex=21,Parent=b4})end;local b7=q:CreateLabel({Size=UDim2.new(1,0,0,14),Position=UDim2.fromOffset(5,5),TextXAlignment=Enum.TextXAlignment.Left,TextSize=14,Text=aL.Title,TextWrapped=false,ZIndex=16,Parent=aP})local b8={}do b8.Options={}b8.Container=q:Create('Frame',{BorderColor3=Color3.new(),ZIndex=14,Visible=false,Parent=m})b8.Inner=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.fromScale(1,1),ZIndex=15,Parent=b8.Container})q:Create('UIListLayout',{Name='Layout',FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=b8.Inner})q:Create('UIPadding',{Name='Padding',PaddingLeft=UDim.new(0,4),Parent=b8.Inner})local function b9()b8.Container.Position=UDim2.fromOffset(aM.AbsolutePosition.X+aM.AbsoluteSize.X+4,aM.AbsolutePosition.Y+1)end;local function ba()local bb=60;for C,bc in next,b8.Inner:GetChildren()do if bc:IsA('TextLabel')then bb=math.max(bb,bc.TextBounds.X)end end;b8.Container.Size=UDim2.fromOffset(bb+8,b8.Inner.Layout.AbsoluteContentSize.Y+4)end;aM:GetPropertyChangedSignal('AbsolutePosition'):Connect(b9)b8.Inner.Layout:GetPropertyChangedSignal('AbsoluteContentSize'):Connect(ba)task.spawn(b9)task.spawn(ba)q:AddToRegistry(b8.Inner,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})function b8:Show()if q.IsMobile then q.CanDrag=false end;self.Container.Visible=true end;function b8:Hide()if q.IsMobile then q.CanDrag=true end;self.Container.Visible=false end;function b8:AddOption(bd,aG)if type(aG)~='function'then aG=function()end end;local be=q:CreateLabel({Active=false,Size=UDim2.new(1,0,0,15),TextSize=13,Text=bd,ZIndex=16,Parent=self.Inner,TextXAlignment=Enum.TextXAlignment.Left})q:OnHighlight(be,be,{TextColor3='AccentColor'},{TextColor3='FontColor'})be.InputBegan:Connect(function(Q)if Q.UserInputType~=Enum.UserInputType.MouseButton1 or Q.UserInputType~=Enum.UserInputType.Touch then return end;aG()end)end;b8:AddOption('Copy color',function()q.ColorClipboard=aL.Value;q:Notify('Copied color!',2)end)b8:AddOption('Paste color',function()if not q.ColorClipboard then return q:Notify('You have not copied a color!',2)end;aL:SetValueRGB(q.ColorClipboard)end)b8:AddOption('Copy HEX',function()pcall(setclipboard,aL.Value:ToHex())q:Notify('Copied hex code to clipboard!',2)end)b8:AddOption('Copy RGB',function()pcall(setclipboard,table.concat({math.floor(aL.Value.R*255),math.floor(aL.Value.G*255),math.floor(aL.Value.B*255)},', '))q:Notify('Copied RGB values to clipboard!',2)end)end;q:AddToRegistry(aP,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})q:AddToRegistry(aQ,{BackgroundColor3='AccentColor'})q:AddToRegistry(aS,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})q:AddToRegistry(a_,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:AddToRegistry(b1.Frame,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:AddToRegistry(b2,{TextColor3='FontColor'})q:AddToRegistry(b0,{TextColor3='FontColor'})local bf={}for s=0,1,0.1 do table.insert(bf,ColorSequenceKeypoint.new(s,Color3.fromHSV(s,1,1)))end;local bg=q:Create('UIGradient',{Color=ColorSequence.new(bf),Rotation=90,Parent=aX})b0.FocusLost:Connect(function(bh)if bh then local G,bi=pcall(Color3.fromHex,b0.Text)if G and typeof(bi)=='Color3'then aL.Hue,aL.Sat,aL.Vib=Color3.toHSV(bi)end end;aL:Display()end)b2.FocusLost:Connect(function(bh)if bh then local bj,bk,z=b2.Text:match('(%d+),%s*(%d+),%s*(%d+)')if bj and bk and z then aL.Hue,aL.Sat,aL.Vib=Color3.toHSV(Color3.fromRGB(bj,bk,z))end end;aL:Display()end)function aL:Display()aL.Value=Color3.fromHSV(aL.Hue,aL.Sat,aL.Vib)aT.BackgroundColor3=Color3.fromHSV(aL.Hue,1,1)q:Create(aM,{BackgroundColor3=aL.Value,BackgroundTransparency=aL.Transparency,BorderColor3=q:GetDarkerColor(aL.Value)})if b4 then b4.BackgroundColor3=aL.Value;b5.Position=UDim2.new(1-aL.Transparency,0,0,0)end;aU.Position=UDim2.new(aL.Sat,0,1-aL.Vib,0)aY.Position=UDim2.new(0,0,aL.Hue,0)b0.Text='#'..aL.Value:ToHex()b2.Text=table.concat({math.floor(aL.Value.R*255),math.floor(aL.Value.G*255),math.floor(aL.Value.B*255)},', ')q:SafeCallback(aL.Callback,aL.Value)q:SafeCallback(aL.Changed,aL.Value)end;function aL:OnChanged(bl)aL.Changed=bl;bl(aL.Value)end;function aL:Show()for ak,bm in next,q.OpenedFrames do if ak.Name=='Color'then ak.Visible=false;q.OpenedFrames[ak]=nil end end;aO.Visible=true;q.OpenedFrames[aO]=true end;function aL:Hide()aO.Visible=false;q.OpenedFrames[aO]=nil end;function aL:SetValue(bn,a3)local ax=Color3.fromHSV(bn[1],bn[2],bn[3])aL.Transparency=a3 or 0;aL:SetHSVFromRGB(ax)aL:Display()end;function aL:SetValueRGB(ax,a3)aL.Transparency=a3 or 0;aL:SetHSVFromRGB(ax)aL:Display()end;aT.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local bo=aT.AbsolutePosition.X;local bp=bo+aT.AbsoluteSize.X;local bq=math.clamp(k.X,bo,bp)local br=aT.AbsolutePosition.Y;local bs=br+aT.AbsoluteSize.Y;local bt=math.clamp(k.Y,br,bs)aL.Sat=(bq-bo)/(bp-bo)aL.Vib=1-(bt-br)/(bs-br)aL:Display()i:Wait()end;q:AttemptSave()end end)aX.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local br=aX.AbsolutePosition.Y;local bs=br+aX.AbsoluteSize.Y;local bt=math.clamp(k.Y,br,bs)aL.Hue=(bt-br)/(bs-br)aL:Display()i:Wait()end;q:AttemptSave()end end)aM.InputBegan:Connect(function(Q)if q:MouseIsOverOpenedFrame()then return end;if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then if aO.Visible then aL:Hide()else b8:Hide()aL:Show()end elseif Q.UserInputType==Enum.UserInputType.MouseButton2 then b8:Show()aL:Hide()end end)if b4 then b4.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local bo=b4.AbsolutePosition.X;local bp=bo+b4.AbsoluteSize.X;local bq=math.clamp(k.X,bo,bp)aL.Transparency=1-(bq-bo)/(bp-bo)aL:Display()i:Wait()end;q:AttemptSave()end end)end;q:GiveSignal(a.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then local al,am=aO.AbsolutePosition,aO.AbsoluteSize;if k.X<al.X or k.X>al.X+am.X or k.Y<al.Y-20-1 or k.Y>al.Y+am.Y then aL:Hide()end;if not q:IsMouseOverFrame(b8.Container)then b8:Hide()end end;if Q.UserInputType==Enum.UserInputType.MouseButton2 and b8.Container.Visible then if not q:IsMouseOverFrame(b8.Container)and not q:IsMouseOverFrame(aM)then b8:Hide()end end end))aL:Display()aL.DisplayFrame=aM;o[aB]=aL;return self end;function aI:AddKeyPicker(aB,aJ)local bu=self;local aK=self.TextLabel;local bv=self.Container;assert(aJ.Default,'AddKeyPicker: Missing default value.')local bw={Value=aJ.Default,Toggled=false,Mode=aJ.Mode or'Toggle',Type='KeyPicker',Callback=aJ.Callback or function(M)end,ChangedCallback=aJ.ChangedCallback or function(bx)end,SyncToggleState=aJ.SyncToggleState or false}if bw.SyncToggleState then aJ.Modes={'Toggle'}aJ.Mode='Toggle'end;local by=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0,28,0,15),ZIndex=6,Parent=aK})local bz=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=7,Parent=by})q:AddToRegistry(bz,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local b7=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=13,Text=aJ.Default,TextWrapped=true,ZIndex=8,Parent=bz})local bA=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(aK.AbsolutePosition.X+aK.AbsoluteSize.X+4,aK.AbsolutePosition.Y+1),Size=UDim2.new(0,60,0,45+2),Visible=false,ZIndex=14,Parent=m})aK:GetPropertyChangedSignal('AbsolutePosition'):Connect(function()bA.Position=UDim2.fromOffset(aK.AbsolutePosition.X+aK.AbsoluteSize.X+4,aK.AbsolutePosition.Y+1)end)local bB=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=15,Parent=bA})q:AddToRegistry(bB,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bB})local bC=q:CreateLabel({TextXAlignment=Enum.TextXAlignment.Left,Size=UDim2.new(1,0,0,18),TextSize=13,Visible=false,ZIndex=110,Parent=q.KeybindContainer},true)local bD=aJ.Modes or{'Always','Toggle','Hold'}local bE={}for aB,bF in next,bD do local bG={}local ad=q:CreateLabel({Active=false,Size=UDim2.new(1,0,0,15),TextSize=13,Text=bF,ZIndex=16,Parent=bB})function bG:Select()for w,be in next,bE do be:Deselect()end;bw.Mode=bF;ad.TextColor3=q.AccentColor;q.RegistryMap[ad].Properties.TextColor3='AccentColor'bA.Visible=false end;function bG:Deselect()bw.Mode=nil;ad.TextColor3=q.FontColor;q.RegistryMap[ad].Properties.TextColor3='FontColor'end;ad.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 then bG:Select()q:AttemptSave()end end)if bF==bw.Mode then bG:Select()end;bE[bF]=bG end;function bw:Update()if aJ.NoUI then return end;local bH=bw:GetState()bC.Text=string.format('[%s] %s (%s)',bw.Value,aJ.Text,bw.Mode)bC.Visible=true;bC.TextColor3=bH and q.AccentColor or q.FontColor;q.RegistryMap[bC].Properties.TextColor3=bH and'AccentColor'or'FontColor'local bI=0;local bJ=0;for w,ad in next,q.KeybindContainer:GetChildren()do if ad:IsA('TextLabel')and ad.Visible then bI=bI+18;if ad.TextBounds.X>bJ then bJ=ad.TextBounds.X end end end;q.KeybindFrame.Size=UDim2.new(0,math.max(bJ+10,210),0,bI+23)end;function bw:GetState()if bw.Mode=='Always'then return true elseif bw.Mode=='Hold'then if bw.Value=='None'then return false end;local bK=bw.Value;if bK=='MB1'or bK=='MB2'then return bK=='MB1'and a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)or bK=='MB2'and a:IsMouseButtonPressed(Enum.UserInputType.MouseButton2)else return a:IsKeyDown(Enum.KeyCode[bw.Value])end else return bw.Toggled end end;function bw:SetValue(aC)local bK,bF=aC[1],aC[2]b7.Text=bK;bw.Value=bK;bE[bF]:Select()bw:Update()end;function bw:OnClick(aG)bw.Clicked=aG end;function bw:OnChanged(aG)bw.Changed=aG;aG(bw.Value)end;if bu.Addons then table.insert(bu.Addons,bw)end;function bw:DoClick()if bu.Type=='Toggle'and bw.SyncToggleState then bu:SetValue(not bu.Value)end;q:SafeCallback(bw.Callback,bw.Toggled)q:SafeCallback(bw.Clicked,bw.Toggled)end;local bL=false;by.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()then bL=true;b7.Text=''local bM;local as=''task.spawn(function()while not bM do if as=='...'then as=''end;as=as..'.'b7.Text=as;task.wait(0.4)end end)task.wait(0.2)local bN;bN=a.InputBegan:Connect(function(Q)local bK;if Q.UserInputType==Enum.UserInputType.Keyboard then bK=Q.KeyCode.Name elseif Q.UserInputType==Enum.UserInputType.MouseButton1 then bK='MB1'elseif Q.UserInputType==Enum.UserInputType.MouseButton2 then bK='MB2'end;bM=true;bL=false;b7.Text=bK;bw.Value=bK;q:SafeCallback(bw.ChangedCallback,Q.KeyCode or Q.UserInputType)q:SafeCallback(bw.Changed,Q.KeyCode or Q.UserInputType)q:AttemptSave()bN:Disconnect()end)elseif Q.UserInputType==Enum.UserInputType.MouseButton2 and not q:MouseIsOverOpenedFrame()then bA.Visible=true end end)q:GiveSignal(a.InputBegan:Connect(function(Q)if bw.Value=="Unknown"then return end;if not bL and not a:GetFocusedTextBox()then if bw.Mode=='Toggle'then local bK=bw.Value;if bK=='MB1'or bK=='MB2'then if bK=='MB1'and Q.UserInputType==Enum.UserInputType.MouseButton1 or bK=='MB2'and Q.UserInputType==Enum.UserInputType.MouseButton2 then bw.Toggled=not bw.Toggled;bw:DoClick()end elseif Q.UserInputType==Enum.UserInputType.Keyboard then if Q.KeyCode.Name==bK then bw.Toggled=not bw.Toggled;bw:DoClick()end end end;bw:Update()end;if Q.UserInputType==Enum.UserInputType.MouseButton1 then local al,am=bA.AbsolutePosition,bA.AbsoluteSize;if k.X<al.X or k.X>al.X+am.X or k.Y<al.Y-20-1 or k.Y>al.Y+am.Y then bA.Visible=false end end end))q:GiveSignal(a.InputEnded:Connect(function(Q)if not bL then bw:Update()end end))bw:Update()o[aB]=bw;return self end;aH.__index=aI;aH.__namecall=function(bO,bK,...)return aI[bK](...)end end;local bP={}do local aI={}function aI:AddBlank(au)local bQ=self;local bv=bQ.Container;q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,0,au),ZIndex=1,Parent=bv})end;function aI:AddLabel(as,bR)local ad={}local bQ=self;local bv=bQ.Container;local bS=q:CreateLabel({Size=UDim2.new(1,-4,0,15),TextSize=14,Text=as,TextWrapped=bR or false,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=5,Parent=bv})if bR then local ab=select(2,q:GetTextBounds(as,q.Font,14,Vector2.new(bS.AbsoluteSize.X,math.huge)))bS.Size=UDim2.new(1,-4,0,ab)else q:Create('UIListLayout',{Padding=UDim.new(0,4),FillDirection=Enum.FillDirection.Horizontal,HorizontalAlignment=Enum.HorizontalAlignment.Right,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bS})end;ad.TextLabel=bS;ad.Container=bv;function ad:SetText(as)bS.Text=as;if bR then local ab=select(2,q:GetTextBounds(as,q.Font,14,Vector2.new(bS.AbsoluteSize.X,math.huge)))bS.Size=UDim2.new(1,-4,0,ab)end;bQ:Resize()end;if not bR then setmetatable(ad,aH)end;bQ:AddBlank(5)bQ:Resize()return ad end;function aI:AddButton(...)local be={}local function bT(I,bU,...)local bV=select(1,...)if type(bV)=='table'then bU.Text=bV.Text;bU.Func=bV.Func;bU.DoubleClick=bV.DoubleClick;bU.Tooltip=bV.Tooltip else bU.Text=select(1,...)bU.Func=select(2,...)end;assert(type(bU.Func)=='function','AddButton: `Func` callback is missing.')end;bT('Button',be,...)local bQ=self;local bv=bQ.Container;local function bW(be)local bX=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,20),ZIndex=5})local bY=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=bX})local ad=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=14,Text=be.Text,ZIndex=6,Parent=bY})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=bY})q:AddToRegistry(bX,{BorderColor3='Black'})q:AddToRegistry(bY,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:OnHighlight(bX,bX,{BorderColor3='AccentColor'},{BorderColor3='Black'})return bX,bY,ad end;local function bZ(be)local function b_(H,c0,c1)local c2=Instance.new('BindableEvent')local c3=H:Once(function(...)if type(c1)=='function'and c1(...)then c2:Fire(true)else c2:Fire(false)end end)task.delay(c0,function()c3:disconnect()c2:Fire(false)end)return c2.Event:Wait()end;local function c4(Q)if q:MouseIsOverOpenedFrame(Q)then return false end;if Q.UserInputType==Enum.UserInputType.MouseButton1 then return true elseif Q.UserInputType==Enum.UserInputType.Touch then return true else return false end end;be.Outer.InputBegan:Connect(function(Q)if not c4(Q)then return end;if be.Locked then return end;if be.DoubleClick then q:RemoveFromRegistry(be.Label)q:AddToRegistry(be.Label,{TextColor3='AccentColor'})be.Label.TextColor3=q.AccentColor;be.Label.Text='Are you sure?'be.Locked=true;local c5=b_(be.Outer.InputBegan,0.5,c4)q:RemoveFromRegistry(be.Label)q:AddToRegistry(be.Label,{TextColor3='FontColor'})be.Label.TextColor3=q.FontColor;be.Label.Text=be.Text;task.defer(rawset,be,'Locked',false)if c5 then q:SafeCallback(be.Func)end;return end;q:SafeCallback(be.Func)end)end;be.Outer,be.Inner,be.Label=bW(be)be.Outer.Parent=bv;bZ(be)function be:AddTooltip(c6)if type(c6)=='string'then q:AddToolTip(c6,self.Outer)end;return self end;function be:AddButton(...)local c7={}bT('SubButton',c7,...)self.Outer.Size=UDim2.new(0.5,-2,0,20)c7.Outer,c7.Inner,c7.Label=bW(c7)c7.Outer.Position=UDim2.new(1,3,0,0)c7.Outer.Size=UDim2.new(1,-3,1,0)c7.Outer.Parent=self.Outer;function c7:AddTooltip(c6)if type(c6)=='string'then q:AddToolTip(c6,self.Outer)end;return c7 end;if type(c7.Tooltip)=='string'then c7:AddTooltip(c7.Tooltip)end;bZ(c7)return c7 end;if type(be.Tooltip)=='string'then be:AddTooltip(be.Tooltip)end;bQ:AddBlank(5)bQ:Resize()return be end;function aI:AddDivider()local bQ=self;local bv=self.Container;local c8={Type='Divider'}bQ:AddBlank(2)local c9=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,5),ZIndex=5,Parent=bv})local ca=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=c9})q:AddToRegistry(c9,{BorderColor3='Black'})q:AddToRegistry(ca,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})bQ:AddBlank(9)bQ:Resize()end;function aI:AddInput(aB,aJ)assert(aJ.Text,'AddInput: Missing `Text` string.')local cb={Value=aJ.Default or'',Numeric=aJ.Numeric or false,Finished=aJ.Finished or false,Type='Input',Callback=aJ.Callback or function(M)end}local bQ=self;local bv=bQ.Container;local cc=q:CreateLabel({Size=UDim2.new(1,0,0,15),TextSize=14,Text=aJ.Text,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=5,Parent=bv})bQ:AddBlank(1)local cd=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,20),ZIndex=5,Parent=bv})local ce=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=cd})q:AddToRegistry(ce,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:OnHighlight(cd,cd,{BorderColor3='AccentColor'},{BorderColor3='Black'})if type(aJ.Tooltip)=='string'then q:AddToolTip(aJ.Tooltip,cd)end;q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=ce})local bv=q:Create('Frame',{BackgroundTransparency=1,ClipsDescendants=true,Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-5,1,0),ZIndex=7,Parent=ce})local cf=q:Create('TextBox',{BackgroundTransparency=1,Position=UDim2.fromOffset(0,0),Size=UDim2.fromScale(5,1),Font=q.Font,PlaceholderColor3=Color3.fromRGB(190,190,190),PlaceholderText=aJ.Placeholder or'',Text=aJ.Default or'',TextColor3=q.FontColor,TextSize=14,TextStrokeTransparency=0,TextXAlignment=Enum.TextXAlignment.Left,ClearTextOnFocus=typeof(aJ.ClearTextOnFocus)~="boolean"and true or aJ.ClearTextOnFocus,ZIndex=7,Parent=bv})q:ApplyTextStroke(cf)function cb:SetValue(as)if aJ.MaxLength and#as>aJ.MaxLength then as=as:sub(1,aJ.MaxLength)end;if cb.Numeric then if not tonumber(as)and as:len()>0 then as=cb.Value end end;cb.Value=as;cf.Text=as;q:SafeCallback(cb.Callback,cb.Value)q:SafeCallback(cb.Changed,cb.Value)end;if cb.Finished then cf.FocusLost:Connect(function(bh)if not bh then return end;cb:SetValue(cf.Text)q:AttemptSave()end)else cf:GetPropertyChangedSignal('Text'):Connect(function()cb:SetValue(cf.Text)q:AttemptSave()end)end;local function cg()local ch=2;local ci=bv.AbsoluteSize.X;if not cf:IsFocused()or cf.TextBounds.X<=ci-2*ch then cf.Position=UDim2.new(0,ch,0,0)else local cj=cf.CursorPosition;if cj~=-1 then local ck=string.sub(cf.Text,1,cj-1)local cl=b:GetTextSize(ck,cf.TextSize,cf.Font,Vector2.new(math.huge,math.huge)).X;local cm=cf.Position.X.Offset+cl;if cm<ch then cf.Position=UDim2.fromOffset(ch-cl,0)elseif cm>ci-ch-1 then cf.Position=UDim2.fromOffset(ci-cl-ch-1,0)end end end end;task.spawn(cg)cf:GetPropertyChangedSignal('Text'):Connect(cg)cf:GetPropertyChangedSignal('CursorPosition'):Connect(cg)cf.FocusLost:Connect(cg)cf.Focused:Connect(cg)q:AddToRegistry(cf,{TextColor3='FontColor'})function cb:OnChanged(bl)cb.Changed=bl;bl(cb.Value)end;bQ:AddBlank(5)bQ:Resize()o[aB]=cb;return cb end;function aI:AddToggle(aB,aJ)assert(aJ.Text,'AddInput: Missing `Text` string.')local cn={Value=aJ.Default or false,Type='Toggle',Callback=aJ.Callback or function(M)end,Addons={},Risky=aJ.Risky}local bQ=self;local bv=bQ.Container;local co=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0,13,0,13),ZIndex=5,Parent=bv})q:AddToRegistry(co,{BorderColor3='Black'})local cp=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=co})q:AddToRegistry(cp,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local aK=q:CreateLabel({Size=UDim2.new(0,216,1,0),Position=UDim2.new(1,6,0,0),TextSize=14,Text=aJ.Text,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=6,Parent=cp})q:Create('UIListLayout',{Padding=UDim.new(0,4),FillDirection=Enum.FillDirection.Horizontal,HorizontalAlignment=Enum.HorizontalAlignment.Right,SortOrder=Enum.SortOrder.LayoutOrder,Parent=aK})local cq=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(0,170,1,0),ZIndex=8,Parent=co})q:OnHighlight(cq,co,{BorderColor3='AccentColor'},{BorderColor3='Black'})function cn:UpdateColors()cn:Display()end;if type(aJ.Tooltip)=='string'then q:AddToolTip(aJ.Tooltip,cq)end;function cn:Display()cp.BackgroundColor3=cn.Value and q.AccentColor or q.MainColor;cp.BorderColor3=cn.Value and q.AccentColorDark or q.OutlineColor;q.RegistryMap[cp].Properties.BackgroundColor3=cn.Value and'AccentColor'or'MainColor'q.RegistryMap[cp].Properties.BorderColor3=cn.Value and'AccentColorDark'or'OutlineColor'end;function cn:OnChanged(bl)cn.Changed=bl;bl(cn.Value)end;function cn:SetValue(cr)cr=not not cr;if cn.Value==cr then return end;cn.Value=cr;cn:Display()for w,cs in next,cn.Addons do if cs.Type=='KeyPicker'and cs.SyncToggleState then cs.Toggled=cr;cs:Update()end end;q:SafeCallback(cn.Callback,cn.Value)q:SafeCallback(cn.Changed,cn.Value)q:UpdateDependencyBoxes()end;cq.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Q.UserInputType==Enum.UserInputType.Touch then cn:SetValue(not cn.Value)q:AttemptSave()end end)if cn.Risky then q:RemoveFromRegistry(aK)aK.TextColor3=q.RiskColor;q:AddToRegistry(aK,{TextColor3='RiskColor'})end;cn:Display()bQ:AddBlank(aJ.BlankSize or 5+2)bQ:Resize()cn.TextLabel=aK;cn.Container=bv;setmetatable(cn,aH)n[aB]=cn;q:UpdateDependencyBoxes()return cn end;function aI:AddSlider(aB,aJ)assert(aJ.Default,'AddSlider: Missing default value.')assert(aJ.Text,'AddSlider: Missing slider text.')assert(aJ.Min,'AddSlider: Missing minimum value.')assert(aJ.Max,'AddSlider: Missing maximum value.')assert(aJ.Rounding,'AddSlider: Missing rounding value.')local ct={Value=aJ.Default,Min=aJ.Min,Max=aJ.Max,Rounding=aJ.Rounding,MaxSize=232,Type='Slider',Callback=aJ.Callback or function(M)end}local bQ=self;local bv=bQ.Container;if not aJ.Compact then q:CreateLabel({Size=UDim2.new(1,0,0,10),TextSize=14,Text=aJ.Text,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Bottom,ZIndex=5,Parent=bv})bQ:AddBlank(3)end;local cu=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,13),ZIndex=5,Parent=bv})cu:GetPropertyChangedSignal('AbsoluteSize'):Connect(function()ct.MaxSize=cu.AbsoluteSize.X-2 end)q:AddToRegistry(cu,{BorderColor3='Black'})local cv=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=cu})q:AddToRegistry(cv,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local cw=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderColor3=q.AccentColorDark,Size=UDim2.new(0,0,1,0),ZIndex=7,Parent=cv})q:AddToRegistry(cw,{BackgroundColor3='AccentColor',BorderColor3='AccentColorDark'})local cx=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Position=UDim2.new(1,0,0,0),Size=UDim2.new(0,1,1,0),ZIndex=8,Parent=cw})q:AddToRegistry(cx,{BackgroundColor3='AccentColor'})local b7=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=14,Text='Infinite',ZIndex=9,Parent=cv})q:OnHighlight(cu,cu,{BorderColor3='AccentColor'},{BorderColor3='Black'})if type(aJ.Tooltip)=='string'then q:AddToolTip(aJ.Tooltip,cu)end;function ct:UpdateColors()cw.BackgroundColor3=q.AccentColor;cw.BorderColor3=q.AccentColorDark end;function ct:Display()local cy=aJ.Suffix or''if aJ.Compact then b7.Text=aJ.Text..': '..ct.Value..cy elseif aJ.HideMax then b7.Text=string.format('%s',ct.Value..cy)else b7.Text=string.format('%s/%s',ct.Value..cy,ct.Max..cy)end;local aa=q:MapValue(ct.Value,ct.Min,ct.Max,0,1)cw.Size=UDim2.new(aa,0,1,0)cx.Visible=not(aa==1 or aa==0)end;function ct:OnChanged(bl)ct.Changed=bl;bl(ct.Value)end;local function cz(M)if ct.Rounding==0 then return math.floor(M)end;return tonumber(string.format('%.'..ct.Rounding..'f',M))end;function ct:GetValueFromXScale(aa)return cz(q:MapValue(aa,0,1,ct.Min,ct.Max))end;function ct:SetMax(M)assert(M>ct.Min,'Max value cannot be less than the current min value.')ct.Value=math.clamp(ct.Value,ct.Min,M)ct.Max=M;ct:Display()end;function ct:SetMin(M)assert(M<ct.Max,'Min value cannot be greater than the current max value.')ct.Value=math.clamp(ct.Value,M,ct.Max)ct.Min=M;ct:Display()end;function ct:SetValue(bd)local cA=tonumber(bd)if not cA then return end;cA=math.clamp(cA,ct.Min,ct.Max)ct.Value=cA;ct:Display()q:SafeCallback(ct.Callback,ct.Value)q:SafeCallback(ct.Changed,ct.Value)end;cv.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Q.UserInputType==Enum.UserInputType.Touch then if q.IsMobile then q.CanDrag=false end;local cB={}if q.Window then cB=q.Window.Tabs[q.ActiveTab]:GetSides()end;for w,cC in pairs(cB)do if typeof(cC)=="Instance"then if cC:IsA("ScrollingFrame")then cC.ScrollingEnabled=false end end end;local cD=k.X;local cE=cw.AbsoluteSize.X;local cF=cD-(cw.AbsolutePosition.X+cE)while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local cG=k.X;local cH=math.clamp(cE+cG-cD+cF,0,ct.MaxSize)local cI=q:MapValue(cH,0,ct.MaxSize,0,1)local cJ=ct:GetValueFromXScale(cI)local cK=ct.Value;ct.Value=cJ;ct:Display()if cJ~=cK then q:SafeCallback(ct.Callback,ct.Value)q:SafeCallback(ct.Changed,ct.Value)end;i:Wait()end;if q.IsMobile then q.CanDrag=true end;for w,cC in pairs(cB)do if typeof(cC)=="Instance"then if cC:IsA("ScrollingFrame")then cC.ScrollingEnabled=true end end end;q:AttemptSave()end end)ct:Display()bQ:AddBlank(aJ.BlankSize or 6)bQ:Resize()o[aB]=ct;return ct end;local function cL(cM,cN)for C,cO in ipairs(cM)do if cO==cN then return C end end;return nil end;local function cP(cQ,cR)local cS=string.gsub(cQ,' ','')local cT=string.gsub(cR,' ','')local cU=string.lower(cS)local cV=string.lower(cT)return string.sub(cU,1,#cV)==cV end;function aI:AddDropdown(aB,aJ)if aJ.SpecialType=='Player'then aJ.Values=u()aJ.AllowNull=true elseif aJ.SpecialType=='Team'then aJ.Values=A()aJ.AllowNull=true end;assert(aJ.Values,'AddDropdown: Missing dropdown value list.')assert(aJ.AllowNull or aJ.Default,'AddDropdown: Missing default value. Pass `AllowNull` as true if this was intentional.')if not aJ.Text then aJ.Compact=true end;local cW={Values=aJ.Values,Value=aJ.Multi and{},Multi=aJ.Multi,Type='Dropdown',SpecialType=aJ.SpecialType,Callback=aJ.Callback or function(M)end}local bQ=self;local bv=bQ.Container;local cX=0;if not aJ.Compact then local cY=q:CreateLabel({Size=UDim2.new(1,0,0,10),TextSize=14,Text=aJ.Text,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Bottom,ZIndex=5,Parent=bv,Font=q.Font})bQ:AddBlank(3)end;for w,cZ in next,bv:GetChildren()do if not cZ:IsA('UIListLayout')then cX=cX+cZ.Size.Y.Offset end end;local c_=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,20),ZIndex=5,Parent=bv})q:AddToRegistry(c_,{BorderColor3='Black'})local d0=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=c_})q:AddToRegistry(d0,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=d0})local d1=q:Create('ImageLabel',{AnchorPoint=Vector2.new(0,0.5),BackgroundTransparency=1,Position=UDim2.new(1,-16,0.5,0),Size=UDim2.new(0,12,0,12),Image='http://www.roblox.com/asset/?id=18580628464',ZIndex=8,Parent=d0})local d2=q:CreateLabel({Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-5,1,0),TextSize=14,Text='--',TextXAlignment=Enum.TextXAlignment.Left,TextWrapped=true,ZIndex=7,Parent=d0,Font=q.Font})q:OnHighlight(c_,c_,{BorderColor3='AccentColor'},{BorderColor3='Black'})if type(aJ.Tooltip)=='string'then q:AddToolTip(aJ.Tooltip,c_)end;local d3=5;local d4=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),ZIndex=20,Visible=false,Parent=m})local function d5()d4.Position=UDim2.fromOffset(c_.AbsolutePosition.X,c_.AbsolutePosition.Y+c_.Size.Y.Offset+1)end;c_:GetPropertyChangedSignal('AbsolutePosition'):Connect(d5)local d6=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=d4})q:AddToRegistry(d6,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local d7=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,CanvasSize=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=d6,TopImage='rbxasset://textures/ui/Scroll/scroll-middle.png',BottomImage='rbxasset://textures/ui/Scroll/scroll-middle.png',ScrollBarThickness=12,ScrollBarImageColor3=q.AccentColor})q:AddToRegistry(d7,{ScrollBarImageColor3='AccentColor'})local d8=q:Create('UIListLayout',{Padding=UDim.new(0,0),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=d7})local function d9()local da=d8.AbsoluteContentSize.Y;d7.CanvasSize=UDim2.fromOffset(0,da)d4.Size=UDim2.fromOffset(c_.AbsoluteSize.X+0.5,math.min(da,d3*20)+1)end;function cW:Display()local db=cW.Values;local bd=''if aJ.Multi then for aB,M in next,db do if cW.Value[M]then bd=bd..M..', 'end end;bd=bd:sub(1,#bd-2)else bd=cW.Value or''end;d2.Text=bd==''and'--'or bd end;function cW:GetActiveValues()if aJ.Multi then local dc={}for M,cr in next,cW.Value do table.insert(dc,M)end;return dc else return cW.Value and 1 or 0 end end;function cW:RebuildListWithValues(dd)local de={}for w,cZ in next,d7:GetChildren()do if not cZ:IsA('UIListLayout')and cZ~=cW.SearchBar then cZ:Destroy()end end;local df=0;for aB,M in next,dd do local bO={}df=df+1;local be=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Middle,Size=UDim2.new(1,-1,0,20),ZIndex=23,Active=true,Parent=d7,LayoutOrder=df})q:AddToRegistry(be,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local dg=q:CreateLabel({Active=false,Size=UDim2.new(1,-6,1,0),Position=UDim2.new(0,6,0,0),TextSize=14,Text=M,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=25,Parent=be,Font=q.Font})q:AddToRegistry(dg,{TextColor3='FontColor'})q:OnHighlight(be,be,{BorderColor3='AccentColor',ZIndex=24},{BorderColor3='OutlineColor',ZIndex=23})local dh;if aJ.Multi then dh=cW.Value[M]else dh=cW.Value==M end;function bO:UpdateButton()if aJ.Multi then dh=cW.Value[M]else dh=cW.Value==M end;dg.TextColor3=dh and q.AccentColor or q.FontColor;pcall(function()q.RegistryMap[dg].Properties.TextColor3=dh and'AccentColor'or'FontColor'end)end;dg.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then local di=not dh;if cW:GetActiveValues()==1 and not di and not aJ.AllowNull then else if aJ.Multi then dh=di;if dh then cW.Value[M]=true else cW.Value[M]=nil end else dh=di;if dh then cW.Value=M else cW.Value=nil end;cW:BuildDropdownList()end;bO:UpdateButton()cW:Display()q:SafeCallback(cW.Callback,cW.Value)q:SafeCallback(cW.Changed,cW.Value)q:AttemptSave()end end end)bO:UpdateButton()cW:Display()de[be]=bO end;d9()end;function cW:BuildDropdownList()local db=cW.Values;for w,cZ in next,d7:GetChildren()do if not cZ:IsA('UIListLayout')then cZ:Destroy()end end;if aJ.SearchBar then local dj=q:Create('TextBox',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,Size=UDim2.new(1,-6,0,20),Position=UDim2.new(10,6,0,0),PlaceholderText='Search...',Text=cW.SearchBar and cW.SearchBar.Text or'',TextColor3=q.FontColor,PlaceholderColor3=q.FontColor,TextSize=14,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Center,ZIndex=22,Parent=d7,LayoutOrder=-1,Font=q.Font})q:AddToRegistry(dj,{BackgroundColor3='MainColor',BorderColor3='OutlineColor',TextColor3='FontColor',PlaceholderColor3='FontColor'})dj.Changed:Connect(function(dk)if dk=='Text'then local dl=dj.Text:lower()local dm={}for w,cN in next,cW.Values do if cP(cN,dl)then table.insert(dm,cN)end end;cW:RebuildListWithValues(dm)end end)cW.SearchBar=dj;if dj.Text~=''then local dl=dj.Text:lower()local dm={}for w,cN in next,cW.Values do if cP(cN,dl)then table.insert(dm,cN)end end;cW:RebuildListWithValues(dm)else cW:RebuildListWithValues(db)end else cW:RebuildListWithValues(db)end end;function cW:SetValues(dn)if dn then cW.Values=dn end;if cW.SearchBar then cW.SearchBar.Text=''end;cW:BuildDropdownList()end;function cW:OpenDropdown()if q.IsMobile then q.CanDrag=false end;d4.Visible=true;q.OpenedFrames[d4]=true;d1.Rotation=180;d9()end;function cW:CloseDropdown()if q.IsMobile then q.CanDrag=true end;d4.Visible=false;q.OpenedFrames[d4]=nil;d1.Rotation=0 end;function cW:OnChanged(bl)cW.Changed=bl;bl(cW.Value)end;function cW:SetValue(bm)if cW.Multi then local dp={}for M,cr in next,bm do if cL(cW.Values,M)then dp[M]=true end end;cW.Value=dp else if not bm then cW.Value=nil elseif cL(cW.Values,bm)then cW.Value=bm end end;cW:BuildDropdownList()q:SafeCallback(cW.Callback,cW.Value)q:SafeCallback(cW.Changed,cW.Value)end;c_.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Q.UserInputType==Enum.UserInputType.Touch then if d4.Visible then cW:CloseDropdown()else cW:OpenDropdown()end end end)a.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then local al,am=d4.AbsolutePosition,d4.AbsoluteSize;if k.X<al.X or k.X>al.X+am.X or k.Y<al.Y-20-1 or k.Y>al.Y+am.Y then cW:CloseDropdown()end end end)cW:BuildDropdownList()cW:Display()local dq={}if type(aJ.Default)=='string'then local aB=cL(cW.Values,aJ.Default)if aB then table.insert(dq,aB)end elseif type(aJ.Default)=='table'then for w,M in next,aJ.Default do local aB=cL(cW.Values,M)if aB then table.insert(dq,aB)end end elseif type(aJ.Default)=='number'and cW.Values[aJ.Default]~=nil then table.insert(dq,aJ.Default)end;if next(dq)then for C=1,#dq do local dr=dq[C]if aJ.Multi then cW.Value[cW.Values[dr]]=true else cW.Value=cW.Values[dr]end;if not aJ.Multi then break end end;cW:BuildDropdownList()cW:Display()end;bQ:AddBlank(aJ.BlankSize or 5)bQ:Resize()o[aB]=cW;return cW end;function aI:AddPriorityDropdown(aB,aJ)assert(aJ.Values,'AddPriorityDropdown: Missing priority value list.')local ds={Values=aJ.Values,Type='PriorityDropdown',Callback=aJ.Callback or function(db)end}local bQ=self;local bv=bQ.Container;if not aJ.Compact then local cY=q:CreateLabel({Size=UDim2.new(1,0,0,10),TextSize=14,Text=aJ.Text,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Bottom,ZIndex=5,Parent=bv,Font=q.Font})bQ:AddBlank(3)end;local c_=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,20),ZIndex=5,Parent=bv})q:AddToRegistry(c_,{BorderColor3='Black'})local d0=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=c_})q:AddToRegistry(d0,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=d0})local d1=q:Create('ImageLabel',{AnchorPoint=Vector2.new(0,0.5),BackgroundTransparency=1,Position=UDim2.new(1,-16,0.5,0),Size=UDim2.new(0,12,0,12),Image='http://www.roblox.com/asset/?id=18580628464',ZIndex=8,Parent=d0})local d2=q:CreateLabel({Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-7,1,0),TextSize=14,Text='--',TextXAlignment=Enum.TextXAlignment.Left,TextWrapped=true,ZIndex=7,Parent=d0,Font=q.Font})q:OnHighlight(c_,c_,{BorderColor3='AccentColor'},{BorderColor3='Black'})local d3=8;local d4=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),ZIndex=20,Visible=false,Parent=m})local function d5()d4.Position=UDim2.fromOffset(c_.AbsolutePosition.X,c_.AbsolutePosition.Y+c_.Size.Y.Offset+1)end;c_:GetPropertyChangedSignal('AbsolutePosition'):Connect(d5)local d6=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=d4})q:AddToRegistry(d6,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local d7=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,CanvasSize=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=d6,TopImage='rbxasset://textures/ui/Scroll/scroll-middle.png',BottomImage='rbxasset://textures/ui/Scroll/scroll-middle.png',ScrollBarThickness=12,ScrollBarImageColor3=q.AccentColor})q:AddToRegistry(d7,{ScrollBarImageColor3='AccentColor'})local d8=q:Create('UIListLayout',{Padding=UDim.new(0,0),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=d7})local function d9()local da=d8.AbsoluteContentSize.Y;d7.CanvasSize=UDim2.fromOffset(0,da)d4.Size=UDim2.fromOffset(c_.AbsoluteSize.X+0.5,math.min(da,d3*20)+1)end;function ds:RebuildList()for w,cZ in next,d7:GetChildren()do if not cZ:IsA('UIListLayout')then cZ:Destroy()end end;for dr,M in ipairs(ds.Values)do local be=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Middle,Size=UDim2.new(1,-1,0,20),ZIndex=23,Parent=d7,LayoutOrder=dr})q:AddToRegistry(be,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local dg=q:CreateLabel({Active=false,Size=UDim2.new(1,-7,1,0),Position=UDim2.new(0,6,0,0),TextSize=14,Text=M,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=25,Parent=be,Font=q.Font})q:AddToRegistry(dg,{TextColor3='FontColor'})q:OnHighlight(be,be,{BorderColor3='AccentColor',ZIndex=24},{BorderColor3='OutlineColor',ZIndex=23})local dt=q:Create('ImageButton',{AnchorPoint=Vector2.new(0.5,0.5),Position=UDim2.new(1,-12,0.5,0),Size=UDim2.new(0,12,0,12),Image='rbxassetid://18580628464',BackgroundTransparency=1,ZIndex=26,Parent=be,ImageColor3=q.AccentColor})q:AddToRegistry(dt,{ImageColor3='AccentColor'})dt.Rotation=180;dt.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then local du=table.find(ds.Values,M)if not du then return end;if du>1 then local dv=ds.Values[du-1]ds.Values[du-1]=M;ds.Values[du]=dv else local dw=table.remove(ds.Values,du)table.insert(ds.Values,#ds.Values+1,dw)end;ds:RebuildList()d9()ds:Display()q:SafeCallback(ds.Callback,ds.Values)if ds.Changed then ds.Changed(ds.Values)end;q:AttemptSave()end end)local dx=q:Create('ImageButton',{AnchorPoint=Vector2.new(0.5,0.5),Position=UDim2.new(1,-28,0.5,0),Size=UDim2.new(0,12,0,12),Image='rbxassetid://18580628464',BackgroundTransparency=1,ZIndex=26,Parent=be,ImageColor3=q.AccentColor})q:AddToRegistry(dx,{ImageColor3='AccentColor'})dx.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then local du=table.find(ds.Values,M)if not du then return end;if du<#ds.Values then local dy=ds.Values[du+1]ds.Values[du+1]=M;ds.Values[du]=dy else local dz=table.remove(ds.Values,du)table.insert(ds.Values,1,dz)end;ds:RebuildList()d9()ds:Display()q:SafeCallback(ds.Callback,ds.Values)if ds.Changed then ds.Changed(ds.Values)end;q:AttemptSave()end end)end;d9()end;function ds:Display()d2.Text=table.concat(ds.Values,', ')end;function ds:SetValues(dn)if dn then ds.Values=dn end;ds:RebuildList()ds:Display()q:SafeCallback(ds.Callback,ds.Values)if ds.Changed then ds.Changed(ds.Values)end end;function ds:OpenDropdown()if q.IsMobile then q.CanDrag=false end;d4.Visible=true;q.OpenedFrames[d4]=true;d1.Rotation=180;d9()end;function ds:CloseDropdown()if q.IsMobile then q.CanDrag=true end;d4.Visible=false;q.OpenedFrames[d4]=nil;d1.Rotation=0 end;function ds:OnChanged(bl)ds.Changed=bl;bl(ds.Values)end;c_.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Q.UserInputType==Enum.UserInputType.Touch then if d4.Visible then ds:CloseDropdown()else ds:OpenDropdown()end end end)a.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then local al,am=d4.AbsolutePosition,d4.AbsoluteSize;if k.X<al.X or k.X>al.X+am.X or k.Y<al.Y-20-1 or k.Y>al.Y+am.Y then ds:CloseDropdown()end end end)ds:RebuildList()ds:Display()bQ:AddBlank(aJ.BlankSize or 5)bQ:Resize()o[aB]=ds;return ds end;function aI:AddDependencyBox()local an={Dependencies={}}local bQ=self;local bv=bQ.Container;local dA=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,0,0),Visible=false,Parent=bv})local ak=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,1,0),Visible=true,Parent=dA})local dB=q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=ak})function an:Resize()dA.Size=UDim2.new(1,0,0,dB.AbsoluteContentSize.Y)bQ:Resize()end;dB:GetPropertyChangedSignal('AbsoluteContentSize'):Connect(function()an:Resize()end)dA:GetPropertyChangedSignal('Visible'):Connect(function()an:Resize()end)function an:Update()for w,dC in next,an.Dependencies do local dD=dC[1]local M=dC[2]if dD.Type=='Toggle'and dD.Value~=M then dA.Visible=false;an:Resize()return end end;dA.Visible=true;an:Resize()end;function an:SetupDependencies(dE)for w,dC in next,dE do assert(type(dC)=='table','SetupDependencies: Dependency is not of type `table`.')assert(dC[1],'SetupDependencies: Dependency is missing element argument.')assert(dC[2]~=nil,'SetupDependencies: Dependency is missing value argument.')end;an.Dependencies=dE;an:Update()end;an.Container=ak;setmetatable(an,bP)table.insert(q.DependencyBoxes,an)return an end;bP.__index=aI;bP.__namecall=function(bO,bK,...)return aI[bK](...)end end;getgenv().defniwndwodnwod='Infinite | World Zero                     Made by @InfiniteKill'getgenv().boink='https://discord.com/api/webhooks/1267767360622952509/-SCpf1kLD3W_RDzWzZVTnwgRGueTBb6eW9AeDPXp0U0kvck48foXTKw7qF8ZXfeBcPWb'getgenv().boink2='https://discord.com/api/webhooks/1273950554296549397/JX2aZgkPkgWIqJ43RiGSXvOg685MMupGr5NdcHHFyiG656VSsMViNc5rcoPecraE878L'getgenv().boink3='https://discord.com/api/webhooks/1269773054553362452/DHH9XgUWkExFlbghxzp-hXHDUiDFs2sGEqWRY32yo6Cn4olVmwA9hVx0R_YJftztEmFV'getgenv().eternal='ip'getgenv().blissful='Country'getgenv().peepo='https://ipinfo.io/json'getgenv().leviathan={["AF"]="Afghanistan",["AX"]="Aland Islands",["AL"]="Albania",["DZ"]="Algeria",["AS"]="American Samoa",["AD"]="Andorra",["AO"]="Angola",["AI"]="Anguilla",["AQ"]="Antarctica",["AG"]="Antigua and Barbuda",["AR"]="Argentina",["AM"]="Armenia",["AW"]="Aruba",["AU"]="Australia",["AT"]="Austria",["AZ"]="Azerbaijan",["BS"]="Bahamas",["BH"]="Bahrain",["BD"]="Bangladesh",["BB"]="Barbados",["BY"]="Belarus",["BE"]="Belgium",["BZ"]="Belize",["BJ"]="Benin",["BM"]="Bermuda",["BT"]="Bhutan",["BO"]="Bolivia",["BQ"]="Bonaire, Sint Eustatius and Saba",["BA"]="Bosnia and Herzegovina",["BW"]="Botswana",["BV"]="Bouvet Island",["BR"]="Brazil",["IO"]="British Indian Ocean Territory",["BN"]="Brunei Darussalam",["BG"]="Bulgaria",["BF"]="Burkina Faso",["BI"]="Burundi",["CV"]="Cabo Verde",["KH"]="Cambodia",["CM"]="Cameroon",["CA"]="Canada",["KY"]="Cayman Islands",["CF"]="Central African Republic",["TD"]="Chad",["CL"]="Chile",["CN"]="China",["CX"]="Christmas Island",["CC"]="Cocos (Keeling) Islands",["CO"]="Colombia",["KM"]="Comoros",["CG"]="Congo",["CD"]="Congo, Democratic Republic of the",["CK"]="Cook Islands",["CR"]="Costa Rica",["HR"]="Croatia",["CU"]="Cuba",["CW"]="Curacao",["CY"]="Cyprus",["CZ"]="Czech Republic",["DK"]="Denmark",["DJ"]="Djibouti",["DM"]="Dominica",["DO"]="Dominican Republic",["EC"]="Ecuador",["EG"]="Egypt",["SV"]="El Salvador",["GQ"]="Equatorial Guinea",["ER"]="Eritrea",["EE"]="Estonia",["SZ"]="Eswatini",["ET"]="Ethiopia",["FK"]="Falkland Islands (Malvinas)",["FO"]="Faroe Islands",["FJ"]="Fiji",["FI"]="Finland",["FR"]="France",["GF"]="French Guiana",["PF"]="French Polynesia",["TF"]="French Southern Territories",["GA"]="Gabon",["GM"]="Gambia",["GE"]="Georgia",["DE"]="Germany",["GH"]="Ghana",["GI"]="Gibraltar",["GR"]="Greece",["GL"]="Greenland",["GD"]="Grenada",["GP"]="Guadeloupe",["GU"]="Guam",["GT"]="Guatemala",["GG"]="Guernsey",["GN"]="Guinea",["GW"]="Guinea-Bissau",["GY"]="Guyana",["HT"]="Haiti",["HM"]="Heard Island and McDonald Islands",["VA"]="Holy See",["HN"]="Honduras",["HK"]="Hong Kong",["HU"]="Hungary",["IS"]="Iceland",["IN"]="India",["ID"]="Indonesia",["IR"]="Iran (Islamic Republic of)",["IQ"]="Iraq",["IE"]="Ireland",["IM"]="Isle of Man",["IL"]="Israel",["IT"]="Italy",["JM"]="Jamaica",["JP"]="Japan",["JE"]="Jersey",["JO"]="Jordan",["KZ"]="Kazakhstan",["KE"]="Kenya",["KI"]="Kiribati",["KP"]="Korea (Democratic People's Republic of)",["KR"]="Korea (Republic of)",["KW"]="Kuwait",["KG"]="Kyrgyzstan",["LA"]="Lao People's Democratic Republic",["LV"]="Latvia",["LB"]="Lebanon",["LS"]="Lesotho",["LR"]="Liberia",["LY"]="Libya",["LI"]="Liechtenstein",["LT"]="Lithuania",["LU"]="Luxembourg",["MO"]="Macao",["MG"]="Madagascar",["MW"]="Malawi",["MY"]="Malaysia",["MV"]="Maldives",["ML"]="Mali",["MT"]="Malta",["MH"]="Marshall Islands",["MQ"]="Martinique",["MR"]="Mauritania",["MU"]="Mauritius",["YT"]="Mayotte",["MX"]="Mexico",["FM"]="Micronesia (Federated States of)",["MD"]="Moldova (Republic of)",["MC"]="Monaco",["MN"]="Mongolia",["ME"]="Montenegro",["MS"]="Montserrat",["MA"]="Morocco",["MZ"]="Mozambique",["MM"]="Myanmar",["NA"]="Namibia",["NR"]="Nauru",["NP"]="Nepal",["NL"]="Netherlands",["NC"]="New Caledonia",["NZ"]="New Zealand",["NI"]="Nicaragua",["NE"]="Niger",["NG"]="Nigeria",["NU"]="Niue",["NF"]="Norfolk Island",["MP"]="Northern Mariana Islands",["NO"]="Norway",["OM"]="Oman",["PK"]="Pakistan",["PW"]="Palau",["PS"]="Palestine, State of",["PA"]="Panama",["PG"]="Papua New Guinea",["PY"]="Paraguay",["PE"]="Peru",["PH"]="Philippines",["PN"]="Pitcairn",["PL"]="Poland",["PT"]="Portugal",["PR"]="Puerto Rico",["QA"]="Qatar",["MK"]="Republic of North Macedonia",["RO"]="Romania",["RU"]="Russian Federation",["RW"]="Rwanda",["RE"]="Reunion",["BL"]="Saint Barthelemy",["SH"]="Saint Helena, Ascension and Tristan da Cunha",["KN"]="Saint Kitts and Nevis",["LC"]="Saint Lucia",["MF"]="Saint Martin (French part)",["PM"]="Saint Pierre and Miquelon",["VC"]="Saint Vincent and the Grenadines",["WS"]="Samoa",["SM"]="San Marino",["ST"]="Sao Tome and Principe",["SA"]="Saudi Arabia",["SN"]="Senegal",["RS"]="Serbia",["SC"]="Seychelles",["SL"]="Sierra Leone",["SG"]="Singapore",["SX"]="Sint Maarten (Dutch part)",["SK"]="Slovakia",["SI"]="Slovenia",["SB"]="Solomon Islands",["SO"]="Somalia",["ZA"]="South Africa",["GS"]="South Georgia and the South Sandwich Islands",["SS"]="South Sudan",["ES"]="Spain",["LK"]="Sri Lanka",["SD"]="Sudan",["SR"]="Suriname",["SJ"]="Svalbard and Jan Mayen",["SE"]="Sweden",["CH"]="Switzerland",["SY"]="Syrian Arab Republic",["TW"]="Taiwan",["TJ"]="Tajikistan",["TZ"]="Tanzania, United Republic of",["TH"]="Thailand",["TL"]="Timor-Leste",["TG"]="Togo",["TK"]="Tokelau",["TO"]="Tonga",["TT"]="Trinidad and Tobago",["TN"]="Tunisia",["TR"]="Turkey",["TM"]="Turkmenistan",["TC"]="Turks and Caicos Islands",["TV"]="Tuvalu",["UG"]="Uganda",["UA"]="Ukraine",["AE"]="United Arab Emirates",["GB"]="United Kingdom",["US"]="United States of America",["UM"]="United States Minor Outlying Islands",["UY"]="Uruguay",["UZ"]="Uzbekistan",["VU"]="Vanuatu",["VE"]="Venezuela (Bolivarian Republic of)",["VN"]="Viet Nam",["VG"]="Virgin Islands (British)",["VI"]="Virgin Islands (U.S.)",["WF"]="Wallis and Futuna",["EH"]="Western Sahara",["YE"]="Yemen",["ZM"]="Zambia",["ZW"]="Zimbabwe"}do q.NotificationArea=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,0,0,40),Size=UDim2.new(0,300,0,200),ZIndex=100,Parent=m})q:Create('UIListLayout',{Padding=UDim.new(0,4),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=q.NotificationArea})local dF=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,100,0,-25),Size=UDim2.new(0,213,0,20),ZIndex=200,Visible=false,Parent=m})local dG=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.AccentColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=201,Parent=dF})q:AddToRegistry(dG,{BorderColor3='AccentColor'})local dH=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),ZIndex=202,Parent=dG})local dI=q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)}),Rotation=-90,Parent=dH})q:AddToRegistry(dI,{Color=function()return ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)})end})local dJ=q:CreateLabel({Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-4,1,0),TextSize=14,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=203,Parent=dH})q.Watermark=dF;q.WatermarkText=dJ;q:MakeDraggable(q.Watermark)local dK=q:Create('Frame',{AnchorPoint=Vector2.new(0,0.5),BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,10,0.5,0),Size=UDim2.new(0,210,0,20),Visible=false,ZIndex=100,Parent=m})local dL=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=101,Parent=dK})q:AddToRegistry(dL,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'},true)local dM=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=102,Parent=dL})q:AddToRegistry(dM,{BackgroundColor3='AccentColor'},true)local dN=q:CreateLabel({Size=UDim2.new(1,0,0,20),Position=UDim2.fromOffset(5,2),TextXAlignment=Enum.TextXAlignment.Left,Text='Keybinds',ZIndex=104,Parent=dL})local dO=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,1,-20),Position=UDim2.new(0,0,0,20),ZIndex=1,Parent=dL})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=dO})q:Create('UIPadding',{PaddingLeft=UDim.new(0,5),Parent=dO})q.KeybindFrame=dK;q.KeybindContainer=dO;q:MakeDraggable(dK)end;function q:SetWatermarkVisibility(cr)q.Watermark.Visible=cr end;function q:SetWatermark(as)local aa,ab=q:GetTextBounds(as,q.Font,14)q.Watermark.Size=UDim2.new(0,aa+15,0,ab*1.5+3)q:SetWatermarkVisibility(true)q.WatermarkText.Text=as end;function q:Notify(as,dP,dQ)local bJ,bI=q:GetTextBounds(as,q.Font,14)bI=bI+7;local dR=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,100,0,10),Size=UDim2.new(0,0,0,bI),ClipsDescendants=true,ZIndex=100,Parent=q.NotificationArea})local dS=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=101,Parent=dR})q:AddToRegistry(dS,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'},true)local dH=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),ZIndex=102,Parent=dS})local dI=q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)}),Rotation=-90,Parent=dH})q:AddToRegistry(dI,{Color=function()return ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)})end})local dT=q:CreateLabel({Position=UDim2.new(0,4,0,0),Size=UDim2.new(1,-4,1,0),Text=as,TextXAlignment=Enum.TextXAlignment.Left,TextSize=14,ZIndex=103,Parent=dH})local dU=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Position=UDim2.new(0,-1,0,-1),Size=UDim2.new(0,3,1,2),ZIndex=104,Parent=dR})q:AddToRegistry(dU,{BackgroundColor3='AccentColor'},true)local dV=q:Create('Sound',{SoundId=dQ~=nil and"rbxassetid://"..tostring(dQ):gsub("rbxassetid://","")or"rbxassetid://4590657391",Volume=3,Parent=game:GetService("SoundService")})dV:Play()pcall(dR.TweenSize,dR,UDim2.new(0,bJ+8+4,0,bI),'Out','Quad',0.4,true)task.spawn(function()if typeof(dP)=="Instance"then dP.Destroying:Wait()else task.wait(dP or 5)end;pcall(dR.TweenSize,dR,UDim2.new(0,0,0,bI),'Out','Quad',0.4,true)task.wait(0.4)dR:Destroy()if dV.Playing==true then dV.Stopped:Wait()end;dV:Destroy()end)end;function q:CreateWindow(...)local dW={...}local dX={AnchorPoint=Vector2.zero}if type(...)=='table'then dX=...else dX.Title=dW[1]dX.AutoShow=dW[2]or false end;if type(dX.Title)~='string'then dX.Title='No title'end;if type(dX.TabPadding)~='number'then dX.TabPadding=0 end;if type(dX.MenuFadeTime)~='number'then dX.MenuFadeTime=0.2 end;if typeof(dX.Position)~='UDim2'then dX.Position=UDim2.fromOffset(175,50)end;if typeof(dX.Size)~='UDim2'then dX.Size=UDim2.fromOffset(550,600)if q.IsMobile then dX.Size=UDim2.fromOffset(550,400)end end;if type(dX.CornerRadius)~='number'then dX.CornerRadius=4 end;if dX.Center then dX.Position=UDim2.new(0.5,-dX.Size.X.Offset/2,0.5,-dX.Size.Y.Offset/2)end;local dY={Tabs={}}local bX=q:Create('Frame',{AnchorPoint=dX.AnchorPoint,BackgroundColor3=q.AccentColor,BorderSizePixel=0,Position=dX.Position,Size=dX.Size,Visible=false,ZIndex=1,Parent=m})q:AddToRegistry(bX,{BackgroundColor3='AccentColor'})q:Create('UICorner',{CornerRadius=UDim.new(0,dX.CornerRadius),Parent=bX})p=bX;q:MakeDraggable(bX,25)if dX.Resizable then q:MakeResizable(bX,q.MinSize)end;local dZ=2;local bY=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderSizePixel=0,Position=UDim2.new(0,dZ,0,dZ),Size=UDim2.new(1,-2*dZ,1,-2*dZ),ZIndex=1,Parent=bX})q:Create('UICorner',{CornerRadius=UDim.new(0,dX.CornerRadius),Parent=bY})q:AddToRegistry(bY,{BackgroundColor3='MainColor'})local d_=q:CreateLabel({Position=UDim2.new(0,7,0,0),Size=UDim2.new(0,0,0,25),Text=dX.Title or'',TextXAlignment=Enum.TextXAlignment.Left,ZIndex=1,Parent=bY})local e0=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,Position=UDim2.new(0,8,0,25),Size=UDim2.new(1,-16,1,-33),ZIndex=1,Parent=bY})q:AddToRegistry(e0,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local e1=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=Color3.new(0,0,0),BorderMode=Enum.BorderMode.Inset,Position=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),ZIndex=1,Parent=e0})q:AddToRegistry(e1,{BackgroundColor3='BackgroundColor'})local e2=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,8,0,8),Size=UDim2.new(1,-16,0,21),ZIndex=1,Parent=e1})local e3=q:Create('UIListLayout',{Padding=UDim.new(0,dX.TabPadding),FillDirection=Enum.FillDirection.Horizontal,SortOrder=Enum.SortOrder.LayoutOrder,Parent=e2})local e4=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,Position=UDim2.new(0,8,0,30),Size=UDim2.new(1,-16,1,-38),ZIndex=2,Parent=e1})q:AddToRegistry(e4,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})function dY:SetWindowTitle(e5)d_.Text=e5 end;function dY:AddTab(e6)local e7={Groupboxes={},Tabboxes={}}local e8=q:GetTextBounds(e6,q.Font,16)local e9=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,Size=UDim2.new(0,e8+8+4,1,0),ZIndex=1,Parent=e2})q:AddToRegistry(e9,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local ea=q:CreateLabel({Position=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,-1),Text=e6,ZIndex=1,Parent=e9})local eb=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderSizePixel=0,Position=UDim2.new(0,0,1,0),Size=UDim2.new(1,0,0,1),BackgroundTransparency=1,ZIndex=3,Parent=e9})q:AddToRegistry(eb,{BackgroundColor3='MainColor'})local ec=q:Create('Frame',{Name='TabFrame',BackgroundTransparency=1,Position=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),Visible=false,ZIndex=2,Parent=e4})local ed=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,Position=UDim2.new(0,8-1,0,8-1),Size=UDim2.new(0.5,-12+2,0,507+2),CanvasSize=UDim2.new(0,0,0,0),BottomImage='',TopImage='',ScrollBarThickness=0,ZIndex=2,Parent=ec})local ee=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,Position=UDim2.new(0.5,4+1,0,8-1),Size=UDim2.new(0.5,-12+2,0,507+2),CanvasSize=UDim2.new(0,0,0,0),BottomImage='',TopImage='',ScrollBarThickness=0,ZIndex=2,Parent=ec})q:Create('UIListLayout',{Padding=UDim.new(0,8),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,HorizontalAlignment=Enum.HorizontalAlignment.Center,Parent=ed})q:Create('UIListLayout',{Padding=UDim.new(0,8),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,HorizontalAlignment=Enum.HorizontalAlignment.Center,Parent=ee})if q.IsMobile then local ef={["Left"]=tick(),["Right"]=tick()}ed:GetPropertyChangedSignal('CanvasPosition'):Connect(function()q.CanDrag=false;local eg=tick()ef.Left=eg;task.wait(0.15)if ef.Left==eg then q.CanDrag=true end end)ee:GetPropertyChangedSignal('CanvasPosition'):Connect(function()q.CanDrag=false;local eg=tick()ef.Right=eg;task.wait(0.15)if ef.Right==eg then q.CanDrag=true end end)end;for w,cC in next,{ed,ee}do cC:WaitForChild('UIListLayout'):GetPropertyChangedSignal('AbsoluteContentSize'):Connect(function()cC.CanvasSize=UDim2.fromOffset(0,cC.UIListLayout.AbsoluteContentSize.Y)end)end;function e7:ShowTab()q.ActiveTab=e6;for w,e7 in next,dY.Tabs do e7:HideTab()end;eb.BackgroundTransparency=0;e9.BackgroundColor3=q.MainColor;q.RegistryMap[e9].Properties.BackgroundColor3='MainColor'ec.Visible=true end;function e7:HideTab()eb.BackgroundTransparency=1;e9.BackgroundColor3=q.BackgroundColor;q.RegistryMap[e9].Properties.BackgroundColor3='BackgroundColor'ec.Visible=false end;function e7:SetLayoutOrder(eh)e9.LayoutOrder=eh;e3:ApplyLayout()end;function e7:GetSides()return{["Left"]=ed,["Right"]=ee}end;function e7:AddGroupbox(aJ)local bQ={}local ei=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,0,507+2),ZIndex=2,Parent=aJ.Side==1 and ed or ee})q:AddToRegistry(ei,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local ej=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-2,1,-2),Position=UDim2.new(0,1,0,1),ZIndex=4,Parent=ei})q:AddToRegistry(ej,{BackgroundColor3='BackgroundColor'})local aQ=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=5,Parent=ej})q:AddToRegistry(aQ,{BackgroundColor3='AccentColor'})local ek=q:CreateLabel({Size=UDim2.new(1,0,0,18),Position=UDim2.new(0,4,0,2),TextSize=14,Text=aJ.Name,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=5,Parent=ej})local bv=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,4,0,20),Size=UDim2.new(1,-4,1,-20),ZIndex=1,Parent=ej})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bv})function bQ:Resize()local au=0;for w,cZ in next,bQ.Container:GetChildren()do if not cZ:IsA('UIListLayout')and cZ.Visible then au=au+cZ.Size.Y.Offset end end;ei.Size=UDim2.new(1,0,0,20+au+2+2)end;bQ.Container=bv;setmetatable(bQ,bP)bQ:AddBlank(3)bQ:Resize()e7.Groupboxes[aJ.Name]=bQ;return bQ end;function e7:AddLeftGroupbox(e6)return e7:AddGroupbox({Side=1,Name=e6})end;function e7:AddRightGroupbox(e6)return e7:AddGroupbox({Side=2,Name=e6})end;function e7:AddTabbox(aJ)local el={Tabs={}}local ei=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,0,0),ZIndex=2,Parent=aJ.Side==1 and ed or ee})q:AddToRegistry(ei,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local ej=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-2,1,-2),Position=UDim2.new(0,1,0,1),ZIndex=4,Parent=ei})q:AddToRegistry(ej,{BackgroundColor3='BackgroundColor'})local aQ=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=10,Parent=ej})q:AddToRegistry(aQ,{BackgroundColor3='AccentColor'})local em=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,0,0,1),Size=UDim2.new(1,0,0,18),ZIndex=5,Parent=ej})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Horizontal,HorizontalAlignment=Enum.HorizontalAlignment.Left,SortOrder=Enum.SortOrder.LayoutOrder,Parent=em})function el:AddTab(e6)local e7={}local be=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0.5,0,1,0),ZIndex=6,Parent=em})q:AddToRegistry(be,{BackgroundColor3='MainColor'})local dg=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=14,Text=e6,TextXAlignment=Enum.TextXAlignment.Center,ZIndex=7,Parent=be})local en=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderSizePixel=0,Position=UDim2.new(0,0,1,0),Size=UDim2.new(1,0,0,1),Visible=false,ZIndex=9,Parent=be})q:AddToRegistry(en,{BackgroundColor3='BackgroundColor'})local bv=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,4,0,20),Size=UDim2.new(1,-4,1,-20),ZIndex=1,Visible=false,Parent=ej})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bv})function e7:Show()for w,e7 in next,el.Tabs do e7:Hide()end;bv.Visible=true;en.Visible=true;be.BackgroundColor3=q.BackgroundColor;q.RegistryMap[be].Properties.BackgroundColor3='BackgroundColor'e7:Resize()end;function e7:Hide()bv.Visible=false;en.Visible=false;be.BackgroundColor3=q.MainColor;q.RegistryMap[be].Properties.BackgroundColor3='MainColor'end;function e7:Resize()local eo=0;for w,e7 in next,el.Tabs do eo=eo+1 end;for w,be in next,em:GetChildren()do if not be:IsA('UIListLayout')then be.Size=UDim2.new(1/eo,0,1,0)end end;if not bv.Visible then return end;local au=0;for w,cZ in next,e7.Container:GetChildren()do if not cZ:IsA('UIListLayout')and cZ.Visible then au=au+cZ.Size.Y.Offset end end;ei.Size=UDim2.new(1,0,0,20+au+2+2)end;be.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Q.UserInputType==Enum.UserInputType.Touch then e7:Show()e7:Resize()end end)e7.Container=bv;el.Tabs[e6]=e7;setmetatable(e7,bP)e7:AddBlank(3)e7:Resize()if#em:GetChildren()==2 then e7:Show()end;return e7 end;e7.Tabboxes[aJ.Name or'']=el;return el end;function e7:AddLeftTabbox(e6)return e7:AddTabbox({Name=e6,Side=1})end;function e7:AddRightTabbox(e6)return e7:AddTabbox({Name=e6,Side=2})end;e9.InputBegan:Connect(function(Q)if Q.UserInputType==Enum.UserInputType.MouseButton1 or Q.UserInputType==Enum.UserInputType.Touch then e7:ShowTab()end end)q.TotalTabs=q.TotalTabs+1;if q.TotalTabs==1 then e7:ShowTab()end;dY.Tabs[e6]=e7;return e7 end;local ep=q:Create('TextButton',{BackgroundTransparency=1,Size=UDim2.new(0,0,0,0),Visible=true,Text='',Modal=false,Parent=m})local eq={}local er=false;local es=false;function q:Toggle()if es then return end;local et=dX.MenuFadeTime;es=true;er=not er;q.Toggled=er;ep.Modal=er;if er then bX.Visible=true;task.spawn(function()local bH=a.MouseIconEnabled;local eu,ev;if q.ShowCustomCursor then local ew,ex=pcall(function()eu=Drawing.new('Triangle')eu.Thickness=1;eu.Filled=true;eu.Visible=true;ev=Drawing.new('Triangle')ev.Thickness=1;ev.Filled=false;ev.Color=Color3.new(0,0,0)ev.Visible=true;while er and m.Parent and q.ShowCustomCursor do a.MouseIconEnabled=false;local cD=a:GetMouseLocation()eu.Color=q.AccentColor;eu.PointA=Vector2.new(cD.X,cD.Y)eu.PointB=Vector2.new(cD.X+16,cD.Y+6)eu.PointC=Vector2.new(cD.X+6,cD.Y+16)ev.PointA=eu.PointA;ev.PointB=eu.PointB;ev.PointC=eu.PointC;i:Wait()end end)if eu then eu:Remove()end;if ev then ev:Remove()end end;a.MouseIconEnabled=bH end)end;for w,ey in next,bX:GetDescendants()do local J={}if ey:IsA('ImageLabel')then table.insert(J,'ImageTransparency')table.insert(J,'BackgroundTransparency')elseif ey:IsA('TextLabel')or ey:IsA('TextBox')then table.insert(J,'TextTransparency')elseif ey:IsA('Frame')or ey:IsA('ScrollingFrame')then table.insert(J,'BackgroundTransparency')elseif ey:IsA('UIStroke')then table.insert(J,'Transparency')end;local ez=eq[ey]if not ez then ez={}eq[ey]=ez end;for w,eA in next,J do if not ez[eA]then ez[eA]=ey[eA]end;if ez[eA]~=1 then g:Create(ey,TweenInfo.new(et,Enum.EasingStyle.Linear),{[eA]=er and ez[eA]or 1}):Play()end end end;task.wait(et)bX.Visible=er;es=false end;q:GiveSignal(a.InputBegan:Connect(function(Q,eB)if type(q.ToggleKeybind)=='table'and q.ToggleKeybind.Type=='KeyPicker'then if Q.UserInputType==Enum.UserInputType.Keyboard and Q.KeyCode.Name==q.ToggleKeybind.Value then task.spawn(q.Toggle)end elseif Q.KeyCode==Enum.KeyCode.RightControl or Q.KeyCode==Enum.KeyCode.RightShift and not eB then task.spawn(q.Toggle)end end))if q.IsMobile or true then local eC=q.IsMobile and 30 or 40;local eD=q.IsMobile and 0.27 or 0.17;local eE=q.IsMobile and-0.075 or-0.045;local eF=eC*77/30;local eG=math.floor(eC*14/30)local eH=q.IsMobile and 4 or 8;local eI=q.IsMobile and 0 or-2;local eJ=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(eD,0,eE,0),Size=UDim2.new(0,eF,0,eC),ZIndex=200,Visible=true,Parent=m})local eK=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.AccentColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=201,Parent=eJ})q:AddToRegistry(eK,{BorderColor3='AccentColor'})local eL=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),ZIndex=202,Parent=eK})local eM=q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)}),Rotation=-90,Parent=eL})q:AddToRegistry(eM,{Color=function()return ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)})end})local eN=q:Create('TextButton',{Position=UDim2.new(0,eH,0,eI),Size=UDim2.new(1,-4,1,0),BackgroundTransparency=1,Font=q.Font,Text="Toggle UI",TextColor3=q.FontColor,TextSize=eG,TextXAlignment=Enum.TextXAlignment.Left,TextStrokeTransparency=0,ZIndex=203,Parent=eL})q:AddToRegistry(eN,{TextColor3='FontColor'})eN.MouseButton1Down:Connect(function()task.spawn(q.Toggle)end)end;if dX.AutoShow then task.spawn(q.Toggle)end;dY.Holder=bX;q.Window=dY;return dY end;local function eO()local v=u()for w,M in next,o do if M.Type=='Dropdown'and M.SpecialType=='Player'then M:SetValues(v)end end end;e.PlayerAdded:Connect(eO)e.PlayerRemoving:Connect(eO)getgenv().Library=q;local eP={}do eP.Folder='LinoriaLibSettings'eP.Ignore={}eP.Parser={Toggle={Save=function(eQ,eR)return{type='Toggle',idx=eQ,value=eR.Value}end,Load=function(eQ,eS)if n[eQ]then n[eQ]:SetValue(eS.value)end end},Slider={Save=function(eQ,eR)return{type='Slider',idx=eQ,value=tostring(eR.Value)}end,Load=function(eQ,eS)if o[eQ]then o[eQ]:SetValue(eS.value)end end},Dropdown={Save=function(eQ,eR)return{type='Dropdown',idx=eQ,value=eR.Value,multi=eR.Multi}end,Load=function(eQ,eS)local eT;if typeof(eS.value)=='table'then eT={}for C,cO in ipairs(o[eQ].Values)do if eS.value[cO]then eT[cO]=true end end end;if o[eQ]then o[eQ]:SetValue(eT or eS.value)end end},PriorityDropdown={Save=function(eQ,eR)return{type='PriorityDropdown',idx=eQ,value=eR.Values}end,Load=function(eQ,eS)if o[eQ]and o[eQ].Type=='PriorityDropdown'then local eU=o[eQ].Values;local eV=eS.value;local eW={}local eX={}for C,cN in ipairs(eU)do eX[cN]=true end;for w,eY in ipairs(eV)do if eX[eY]then table.insert(eW,eY)end end;for C,eZ in ipairs(eU)do local e_=false;for w,cN in ipairs(eV)do if cN==eZ then e_=true;break end end;if not e_ then local f0=C;if C>#eW+1 then f0=#eW+1 end;table.insert(eW,f0,eZ)end end;o[eQ]:SetValues(eW)end end},ColorPicker={Save=function(eQ,eR)return{type='ColorPicker',idx=eQ,value=eR.Value:ToHex(),transparency=eR.Transparency}end,Load=function(eQ,eS)if o[eQ]then o[eQ]:SetValueRGB(Color3.fromHex(eS.value),eS.transparency)end end},KeyPicker={Save=function(eQ,eR)return{type='KeyPicker',idx=eQ,mode=eR.Mode,key=eR.Value}end,Load=function(eQ,eS)if o[eQ]then o[eQ]:SetValue({eS.key,eS.mode})end end},Input={Save=function(eQ,eR)return{type='Input',idx=eQ,text=eR.Value}end,Load=function(eQ,eS)if o[eQ]and type(eS.text)=='string'then o[eQ]:SetValue(eS.text)end end}}function eP:SetIgnoreIndexes(f1)for w,f2 in next,f1 do self.Ignore[f2]=true end end;function eP:SetFolder(f3)self.Folder=f3;self:BuildFolderTree()end;function eP:Save(f4)if not f4 then return false,'no config file is selected'end;local f5=self.Folder..'/settings/'..f4 ..'.json'local eS={objects={}}for eQ,f6 in next,n do if not self.Ignore[eQ]then table.insert(eS.objects,self.Parser[f6.Type].Save(eQ,f6))end end;for eQ,f7 in next,o do if self.Parser[f7.Type]and not self.Ignore[eQ]then table.insert(eS.objects,self.Parser[f7.Type].Save(eQ,f7))end end;local G,f8=pcall(h.JSONEncode,h,eS)if not G then return false,'failed to encode data'end;writefile(f5,f8)return true end;function eP:Load(f4)if not f4 then return false,'no config file is selected'end;local f9=self.Folder..'/settings/'..f4 ..'.json'if not isfile(f9)then return false,'invalid file'end;local G,fa=pcall(h.JSONDecode,h,readfile(f9))if not G then return false,'decode error'end;getgenv().ConfigAutoLoaded=true;for w,f7 in next,fa.objects do if self.Parser[f7.type]then task.spawn(function()self.Parser[f7.type].Load(f7.idx,f7)end)end end;return true end;function eP:Delete(f4)if not f4 then return false,'no config file is selected'end;local f9=self.Folder..'/settings/'..f4 ..'.json'if not isfile(f9)then return false,'invalid file'end;local G,fa=pcall(delfile,f9)if not G then return false,'delete file error'end;return true end;function eP:SetAutoload(f4)if not f4 then return false,'no config file is selected'end;local f9=self.Folder..'/settings/'..f4 ..'.json'if not isfile(f9)then return false,'invalid file'end;local G,fa=pcall(writefile,self.Folder..'/settings/autoload.txt',f4)if not G then return false,'write file error'end;eP.AutoloadLabel:SetText('Current autoload config: '..f4)return true end;function eP:ResetAutoload()local f9=self.Folder..'/settings/autoload.txt'if not isfile(f9)then return false,'no config file is selected'end;local G=pcall(delfile,self.Folder..'/settings/autoload.txt')if not G then return false,'delete file error'end;eP.AutoloadLabel:SetText('Current autoload config: none')return true end;function eP:IgnoreThemeSettings()self:SetIgnoreIndexes({"BackgroundColor","MainColor","AccentColor","OutlineColor","FontColor","ThemeManager_ThemeList",'ThemeManager_CustomThemeList','ThemeManager_CustomThemeName',"VideoLink"})end;function eP:BuildFolderTree()local fb={self.Folder,self.Folder..'/themes',self.Folder..'/settings'}for C=1,#fb do local cQ=fb[C]if not isfolder(cQ)then makefolder(cQ)end end end;function eP:RefreshConfigList()local f1=listfiles(self.Folder..'/settings')local fc={}for C=1,#f1 do local f9=f1[C]if f9:sub(-5)=='.json'then local fd=f9:find('.json',1,true)local fe=fd;local ff=f9:sub(fd,fd)while ff~='/'and ff~='\\'and ff~=''do fd=fd-1;ff=f9:sub(fd,fd)end;if ff=='/'or ff=='\\'then table.insert(fc,f9:sub(fd+1,fe-1))end end end;return fc end;function eP:SetLibrary(fg)self.Library=fg end;function eP:LoadAutoloadConfig()if isfile(self.Folder..'/settings/autoload.txt')then local f4=readfile(self.Folder..'/settings/autoload.txt')local G,fh=self:Load(f4)if not G then return self.Library:Notify('Failed to load autoload config: '..fh)end;self.Library:Notify(string.format('Auto loaded config %q',f4))end end;function eP:BuildConfigSection(fi)assert(self.Library,'Must set SaveManager.Library')local fj=fi:AddRightGroupbox('Configuration')fj:AddInput('SaveManager_ConfigName',{Text='Config name'})fj:AddButton('Create config',function()local f4=o.SaveManager_ConfigName.Value;if f4:gsub(' ','')==''then return self.Library:Notify('Invalid config name (empty)',2)end;local G,fh=self:Save(f4)if not G then return self.Library:Notify('Failed to create config: '..fh)end;self.Library:Notify(string.format('Created config %q',f4))o.SaveManager_ConfigList:SetValue()o.SaveManager_ConfigList:SetValues(self:RefreshConfigList())end)fj:AddDivider()fj:AddDropdown('SaveManager_ConfigList',{Text='Config list',Values=self:RefreshConfigList(),AllowNull=true})fj:AddButton('Overwrite config',function()local f4=o.SaveManager_ConfigList.Value;local G,fh=self:Save(f4)if not G then return self.Library:Notify('Failed to overwrite config: '..fh)end;self.Library:Notify(string.format('Overwrote config %q',f4))end):AddButton('Load config',function()local f4=o.SaveManager_ConfigList.Value;local G,fh=self:Load(f4)if not G then return self.Library:Notify('Failed to load config: '..fh)end;self.Library:Notify(string.format('Loaded config %q',f4))end)fj:AddButton('Delete config',function()local f4=o.SaveManager_ConfigList.Value;local G,fh=self:Delete(f4)if not G then return self.Library:Notify('Failed to delete config: '..fh)end;self.Library:Notify(string.format('Deleted config %q',f4))o.SaveManager_ConfigList:SetValue()o.SaveManager_ConfigList:SetValues(self:RefreshConfigList())end):AddButton('Refresh list',function()o.SaveManager_ConfigList:SetValue()o.SaveManager_ConfigList:SetValues(self:RefreshConfigList())end)fj:AddButton('Set autoload',function()local f4=o.SaveManager_ConfigList.Value;local G,fh=self:SetAutoload(f4)if not G then return self.Library:Notify('Failed to set autoload: '..fh)end;self.Library:Notify(string.format('Set %q to auto load',f4))end):AddButton('Reset autoload',function()local G,fh=self:ResetAutoload()if not G then return self.Library:Notify('Failed to reset autoload: '..fh)end;self.Library:Notify('Reset autoload')end)eP.AutoloadLabel=fj:AddLabel('Current autoload config: none',true)if isfile(self.Folder..'/settings/autoload.txt')then local f4=readfile(self.Folder..'/settings/autoload.txt')eP.AutoloadLabel:SetText('Current autoload config: '..f4)end;eP:SetIgnoreIndexes({'SaveManager_ConfigList','SaveManager_ConfigName'})end;eP:BuildFolderTree()end;local fk={}do fk.Folder='LinoriaLibSettings'fk.Library=nil;fk.BuiltInThemes={['Default']={1,h:JSONDecode('{"FontColor":"ffffff","MainColor":"1c1c1c","AccentColor":"0055ff","BackgroundColor":"141414","OutlineColor":"323232"}')},['BBot']={2,h:JSONDecode('{"FontColor":"ffffff","MainColor":"1e1e1e","AccentColor":"7e48a3","BackgroundColor":"232323","OutlineColor":"141414"}')},['Fatality']={3,h:JSONDecode('{"FontColor":"ffffff","MainColor":"1e1842","AccentColor":"c50754","BackgroundColor":"191335","OutlineColor":"3c355d"}')},['Jester']={4,h:JSONDecode('{"FontColor":"ffffff","MainColor":"242424","AccentColor":"db4467","BackgroundColor":"1c1c1c","OutlineColor":"373737"}')},['Mint']={5,h:JSONDecode('{"FontColor":"ffffff","MainColor":"242424","AccentColor":"3db488","BackgroundColor":"1c1c1c","OutlineColor":"373737"}')},['Tokyo Night']={6,h:JSONDecode('{"FontColor":"ffffff","MainColor":"191925","AccentColor":"6759b3","BackgroundColor":"16161f","OutlineColor":"323232"}')},['Ubuntu']={7,h:JSONDecode('{"FontColor":"ffffff","MainColor":"3e3e3e","AccentColor":"e2581e","BackgroundColor":"323232","OutlineColor":"191919"}')},['Quartz']={8,h:JSONDecode('{"FontColor":"ffffff","MainColor":"232330","AccentColor":"426e87","BackgroundColor":"1d1b26","OutlineColor":"27232f"}')},['Visual Studio']={9,h:JSONDecode('{"FontColor":"ffffff","MainColor":"252526","AccentColor":"007acc","BackgroundColor":"1e1e1e","OutlineColor":"333333"}')}}function fk:ApplyTheme(fl)local fm=self:GetCustomTheme(fl)local eS=fm or self.BuiltInThemes[fl]if not eS then return end;local fn=eS[2]for eQ,fo in next,fm or fn do self.Library[eQ]=Color3.fromHex(fo)if o[eQ]then o[eQ]:SetValueRGB(Color3.fromHex(fo))end end;self:ThemeUpdate()end;function fk:ThemeUpdate()local fp={"FontColor","MainColor","AccentColor","BackgroundColor","OutlineColor"}for C,fq in next,fp do if o and o[fq]then self.Library[fq]=o[fq].Value end end;self.Library.AccentColorDark=self.Library:GetDarkerColor(self.Library.AccentColor)self.Library:UpdateColorsUsingRegistry()end;function fk:LoadDefault()local fl='Default'local fr=isfile(self.Folder..'/themes/default.txt')and readfile(self.Folder..'/themes/default.txt')local fs=true;if fr then if self.BuiltInThemes[fr]then fl=fr elseif self:GetCustomTheme(fr)then fl=fr;fs=false end elseif self.BuiltInThemes[self.DefaultTheme]then fl=self.DefaultTheme end;if fs then o.ThemeManager_ThemeList:SetValue(fl)else self:ApplyTheme(fl)end end;function fk:SaveDefault(fl)writefile(self.Folder..'/themes/default.txt',fl)end;function fk:CreateThemeManager(ft)ft:AddLabel('Background color'):AddColorPicker('BackgroundColor',{Default=self.Library.BackgroundColor})ft:AddLabel('Main color'):AddColorPicker('MainColor',{Default=self.Library.MainColor})ft:AddLabel('Accent color'):AddColorPicker('AccentColor',{Default=self.Library.AccentColor})ft:AddLabel('Outline color'):AddColorPicker('OutlineColor',{Default=self.Library.OutlineColor})ft:AddLabel('Font color'):AddColorPicker('FontColor',{Default=self.Library.FontColor})local fu={}for e6,fv in next,self.BuiltInThemes do table.insert(fu,e6)end;table.sort(fu,function(y,z)return self.BuiltInThemes[y][1]<self.BuiltInThemes[z][1]end)ft:AddDivider()ft:AddDropdown('ThemeManager_ThemeList',{Text='Theme list',Values=fu,Default=1})ft:AddButton('Set as default',function()self:SaveDefault(o.ThemeManager_ThemeList.Value)self.Library:Notify(string.format('Set default theme to %q',o.ThemeManager_ThemeList.Value))end)o.ThemeManager_ThemeList:OnChanged(function()self:ApplyTheme(o.ThemeManager_ThemeList.Value)end)ft:AddDivider()ft:AddInput('ThemeManager_CustomThemeName',{Text='Custom theme name'})ft:AddDropdown('ThemeManager_CustomThemeList',{Text='Custom themes',Values=self:ReloadCustomThemes(),AllowNull=true,Default=1})ft:AddDivider()ft:AddButton('Save theme',function()self:SaveCustomTheme(o.ThemeManager_CustomThemeName.Value)o.ThemeManager_CustomThemeList:SetValues(self:ReloadCustomThemes())o.ThemeManager_CustomThemeList:SetValue(nil)end):AddButton('Load theme',function()self:ApplyTheme(o.ThemeManager_CustomThemeList.Value)end)ft:AddButton('Refresh list',function()o.ThemeManager_CustomThemeList:SetValues(self:ReloadCustomThemes())o.ThemeManager_CustomThemeList:SetValue(nil)end)ft:AddButton('Set as default',function()if o.ThemeManager_CustomThemeList.Value~=nil and o.ThemeManager_CustomThemeList.Value~=''then self:SaveDefault(o.ThemeManager_CustomThemeList.Value)self.Library:Notify(string.format('Set default theme to %q',o.ThemeManager_CustomThemeList.Value))end end)fk:LoadDefault()local function fw()self:ThemeUpdate()end;o.BackgroundColor:OnChanged(fw)o.MainColor:OnChanged(fw)o.AccentColor:OnChanged(fw)o.OutlineColor:OnChanged(fw)o.FontColor:OnChanged(fw)end;function fk:GetCustomTheme(f9)local fx=self.Folder..'/themes/'..f9;if not isfile(fx)then return nil end;local eS=readfile(fx)local G,fa=pcall(h.JSONDecode,h,eS)if not G then return nil end;return fa end;function fk:SaveCustomTheme(f9)if f9:gsub(' ','')==''then return self.Library:Notify('Invalid file name for theme (empty)',3)end;local fl={}local fy={"FontColor","MainColor","AccentColor","BackgroundColor","OutlineColor"}for w,fq in next,fy do fl[fq]=o[fq].Value:ToHex()end;writefile(self.Folder..'/themes/'..f9 ..'.json',h:JSONEncode(fl))end;function fk:ReloadCustomThemes()local f1=listfiles(self.Folder..'/themes')local fc={}for C=1,#f1 do local f9=f1[C]if f9:sub(-5)=='.json'then local fd=f9:find('.json',1,true)local ff=f9:sub(fd,fd)while ff~='/'and ff~='\\'and ff~=''do fd=fd-1;ff=f9:sub(fd,fd)end;if ff=='/'or ff=='\\'then table.insert(fc,f9:sub(fd+1))end end end;return fc end;function fk:SetLibrary(fz)self.Library=fz end;function fk:BuildFolderTree()local fb={}local fA=self.Folder:split('/')for eQ=1,#fA do fb[#fb+1]=table.concat(fA,'/',1,eQ)end;table.insert(fb,self.Folder..'/themes')table.insert(fb,self.Folder..'/settings')for C=1,#fb do local cQ=fb[C]if not isfolder(cQ)then makefolder(cQ)end end end;function fk:SetFolder(f3)self.Folder=f3;self:BuildFolderTree()end;function fk:CreateGroupBox(fi)assert(self.Library,'Must set ThemeManager.Library first!')return fi:AddLeftGroupbox('Themes')end;function fk:ApplyToTab(fi)assert(self.Library,'Must set ThemeManager.Library first!')local ft=self:CreateGroupBox(fi)self:CreateThemeManager(ft)end;function fk:ApplyToGroupbox(ft)assert(self.Library,'Must set ThemeManager.Library first!')self:CreateThemeManager(ft)end;fk:BuildFolderTree()end;return q,eP,fk
