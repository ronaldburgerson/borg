local a=game:GetService('UserInputService')local b=game:GetService('TextService')local c=game:GetService('CoreGui')local d=game:GetService('Teams')local e=game:GetService('Players')local f=game:GetService('RunService')local g=game:GetService('TweenService')local h=game:GetService('HttpService')local i=f.RenderStepped;local j=e.LocalPlayer;local k=j:GetMouse()local l=protectgui or syn and syn.protect_gui or function()end;local m=Instance.new('ScreenGui')l(m)m.ZIndexBehavior=Enum.ZIndexBehavior.Global;m.Parent=c;local n={}local o={}getgenv().Toggles=n;getgenv().Options=o;local p=nil;local q={Registry={},RegistryMap={},HudRegistry={},FontColor=Color3.fromRGB(255,255,255),MainColor=Color3.fromRGB(28,28,28),BackgroundColor=Color3.fromRGB(20,20,20),AccentColor=Color3.fromRGB(0,85,255),OutlineColor=Color3.fromRGB(50,50,50),RiskColor=Color3.fromRGB(255,50,50),Black=Color3.new(0,0,0),Font=Enum.Font.Code,OpenedFrames={},DependencyBoxes={},Signals={},ScreenGui=m,ActiveTab=nil,Toggled=false,MinSize=Vector2.new(300,200),IsMobile=false,DevicePlatform=Enum.Platform.None,CanDrag=true,CantDragForced=false,ShowCustomCursor=false,VideoLink="",TotalTabs=0}pcall(function()q.DevicePlatform=a:GetPlatform()end)q.IsMobile=q.DevicePlatform==Enum.Platform.Android or q.DevicePlatform==Enum.Platform.IOS;if q.IsMobile then q.MinSize=Vector2.new(550,200)end;local r=0;local s=0;table.insert(q.Signals,i:Connect(function(t)r=r+t;if r>=1/60 then r=0;s=s+1/400;if s>1 then s=0 end;q.CurrentRainbowHue=s;q.CurrentRainbowColor=Color3.fromHSV(s,0.8,1)end end))local function u()local v={}for w,x in e:GetPlayers()do if x~=j then table.insert(v,x.Name)end end;table.sort(v,function(y,z)return y<z end)return v end;local function A()local B=d:GetTeams()for C=1,#B do B[C]=B[C].Name end;table.sort(B,function(D,E)return D<E end)return B end;function q:SafeCallback(F,...)if not F then return end;if not q.NotifyOnError then return F(...)end;local G,H=pcall(F,...)if not G then local w,C=H:find(":%d+: ")if not C then return q:Notify(H)end;return q:Notify(H:sub(C+1),3)end end;function q:AttemptSave()if q.SaveManager then q.SaveManager:Save()end end;function q:Create(I,J)local K=I;if type(I)=='string'then K=Instance.new(I)end;for L,M in next,J do K[L]=M end;return K end;function q:ApplyTextStroke(N)N.TextStrokeTransparency=1;q:Create('UIStroke',{Color=Color3.new(0,0,0),Thickness=1,LineJoinMode=Enum.LineJoinMode.Miter,Parent=N})end;function q:CreateLabel(J,O)local K=q:Create('TextLabel',{BackgroundTransparency=1,Font=q.Font,TextColor3=q.FontColor,TextSize=16,TextStrokeTransparency=0})q:ApplyTextStroke(K)q:AddToRegistry(K,{TextColor3='FontColor'},O)return q:Create(K,J)end;function q:MakeDraggable(P,Q,R,S)Q=Q or P;S=tonumber(S)or 0;R=R or 40;P.Active=true;local function T(U,V)local W=U.AbsolutePosition;local X=U.AbsoluteSize;return V.X>=W.X and V.X<=W.X+X.X and V.Y>=W.Y and V.Y<=W.Y+X.Y end;P.InputBegan:Connect(function(Y)if Y.UserInputType~=Enum.UserInputType.MouseButton1 then return end;local Z=k.Y-P.AbsolutePosition.Y;if Z>R then return end;if S>0 then local _=tick()while tick()-_<S do if not a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)then return end;if not T(P,Vector2.new(k.X,k.Y))then return end;i:Wait()end end;local a0=Vector2.new(k.X-Q.AbsolutePosition.X,k.Y-Q.AbsolutePosition.Y)while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)do Q.Position=UDim2.new(0,k.X-a0.X+Q.Size.X.Offset*Q.AnchorPoint.X,0,k.Y-a0.Y+Q.Size.Y.Offset*Q.AnchorPoint.Y)i:Wait()end end)if q.IsMobile then local a1=false;local a2=nil;local a3=nil;local a4=nil;a.TouchStarted:Connect(function(a5)if q.CantDragForced==true then a1=false;return end;if a1 or not q:IsMouseOverFrame(P,a5)or q.Window.Holder.Visible~=true then return end;local Z=a5.Position.Y-P.AbsolutePosition.Y;if Z>R then return end;a2=a5;a3=a5.Position;a4=Q.Position;if S>0 then local _=tick()while tick()-_<S do if not a2 then return end;if not q:IsMouseOverFrame(P,a2)then return end;i:Wait()end end;a1=true end)a.TouchMoved:Connect(function(a5)if q.CantDragForced==true then a1=false;return end;if a5~=a2 or not a1 or q.CanDrag~=true or q.Window.Holder.Visible~=true then return end;local a6=a5.Position-a3;Q.Position=UDim2.new(a4.X.Scale,a4.X.Offset+a6.X,a4.Y.Scale,a4.Y.Offset+a6.Y)end)a.TouchEnded:Connect(function(a5)if a5==a2 then a1=false;a2=nil end end)end end;function q:MakeResizable(Instance,a7)Instance.Active=true;local a8=25;local a9=0.5;local aa=q:Create('Frame',{SizeConstraint=Enum.SizeConstraint.RelativeXX,BackgroundColor3=Color3.new(0,0,0),BackgroundTransparency=1,BorderSizePixel=0,Size=UDim2.new(0,30,0,30),Position=UDim2.new(1,-30,1,-30),Visible=true,ClipsDescendants=true,ZIndex=1,Parent=Instance})local ab=q:Create('ImageButton',{BackgroundColor3=q.AccentColor,BackgroundTransparency=1,BorderSizePixel=0,Size=UDim2.new(2,0,2,0),Position=UDim2.new(1,-30,1,-30),ZIndex=2,Parent=aa})local ac=q:Create('UICorner',{CornerRadius=UDim.new(0.5,0),Parent=ab})q:AddToRegistry(ab,{BackgroundColor3='AccentColor'})aa.Size=UDim2.fromOffset(a8,a8)aa.Position=UDim2.new(1,-a8,1,-a8)a7=a7 or q.MinSize;local ad;aa.Parent=Instance;local function ae(af)ab.Position=UDim2.new()ab.Size=UDim2.new(2,0,2,0)ab.Parent=aa;ab.BackgroundTransparency=af;ac.Parent=ab;ad=nil end;ab.MouseButton1Down:Connect(function()if not ad then ad=Vector2.new(k.X-(Instance.AbsolutePosition.X+Instance.AbsoluteSize.X),k.Y-(Instance.AbsolutePosition.Y+Instance.AbsoluteSize.Y))ab.BackgroundTransparency=1;ab.Size=UDim2.fromOffset(q.ScreenGui.AbsoluteSize.X,q.ScreenGui.AbsoluteSize.Y)ab.Position=UDim2.new()ac.Parent=nil;ab.Parent=q.ScreenGui end end)ab.InputBegan:Connect(function(a5)if a5.UserInputType==Enum.UserInputType.Touch and not ad then local ag=a5.Position;ad=Vector2.new(ag.X-(Instance.AbsolutePosition.X+Instance.AbsoluteSize.X),ag.Y-(Instance.AbsolutePosition.Y+Instance.AbsoluteSize.Y))ab.BackgroundTransparency=1;ab.Size=UDim2.fromOffset(q.ScreenGui.AbsoluteSize.X,q.ScreenGui.AbsoluteSize.Y)ab.Position=UDim2.new()ac.Parent=nil;ab.Parent=q.ScreenGui end end)ab.MouseMoved:Connect(function()if ad then local ah=Vector2.new(k.X-ad.X,k.Y-ad.Y)local ai=Vector2.new(math.clamp(ah.X-Instance.AbsolutePosition.X,a7.X,math.huge),math.clamp(ah.Y-Instance.AbsolutePosition.Y,a7.Y,math.huge))Instance.Size=UDim2.fromOffset(ai.X,ai.Y)end end)ab.InputChanged:Connect(function(a5)if ad and a5.UserInputType==Enum.UserInputType.Touch then local ag=a5.Position;local ah=Vector2.new(ag.X-ad.X,ag.Y-ad.Y)local ai=Vector2.new(math.clamp(ah.X-Instance.AbsolutePosition.X,a7.X,math.huge),math.clamp(ah.Y-Instance.AbsolutePosition.Y,a7.Y,math.huge))Instance.Size=UDim2.fromOffset(ai.X,ai.Y)end end)ab.MouseEnter:Connect(function()ae(a9)end)ab.MouseLeave:Connect(function()ae(1)end)ab.MouseButton1Up:Connect(function()ae(a9)end)ab.InputEnded:Connect(function(a5)if a5.UserInputType==Enum.UserInputType.Touch then ae(a9)end end)end;function q:AddToolTip(aj,ak)local al,am=q:GetTextBounds(aj,q.Font,14)local an=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,Size=UDim2.fromOffset(al+5,am+4),ZIndex=100,Parent=q.ScreenGui,Visible=false})local ao=q:CreateLabel({Position=UDim2.fromOffset(3,1),Size=UDim2.fromOffset(al,am),TextSize=14,Text=aj,TextColor3=q.FontColor,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=an.ZIndex+1,Parent=an})q:AddToRegistry(an,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:AddToRegistry(ao,{TextColor3='FontColor'})local ap=false;ak.MouseEnter:Connect(function()if q:MouseIsOverOpenedFrame()then return end;ap=true;an.Position=UDim2.fromOffset(k.X+15,k.Y+12)an.Visible=true;while ap do f.Heartbeat:Wait()an.Position=UDim2.fromOffset(k.X+15,k.Y+12)end end)ak.MouseLeave:Connect(function()ap=false;an.Visible=false end)if p then p:GetPropertyChangedSignal("Visible"):Connect(function()if p.Visible==false then ap=false;an.Visible=false end end)end end;function q:OnHighlight(aq,Instance,J,ar)aq.MouseEnter:Connect(function()local as=q.RegistryMap[Instance]for L,at in next,J do Instance[L]=q[at]or at;if as and as.Properties[L]then as.Properties[L]=at end end end)aq.MouseLeave:Connect(function()local as=q.RegistryMap[Instance]for L,at in next,ar do Instance[L]=q[at]or at;if as and as.Properties[L]then as.Properties[L]=at end end end)end;function q:MouseIsOverOpenedFrame(Y)local au=k;if q.IsMobile and Y then au=Y.Position end;for av,w in next,q.OpenedFrames do local aw,ax=av.AbsolutePosition,av.AbsoluteSize;if au.X>=aw.X and au.X<=aw.X+ax.X and au.Y>=aw.Y and au.Y<=aw.Y+ax.Y then return true end end end;function q:IsMouseOverFrame(av,Y)local au=k;if q.IsMobile and Y then au=Y.Position end;local aw,ax=av.AbsolutePosition,av.AbsoluteSize;if au.X>=aw.X and au.X<=aw.X+ax.X and au.Y>=aw.Y and au.Y<=aw.Y+ax.Y then return true end end;function q:UpdateDependencyBoxes()for w,ay in next,q.DependencyBoxes do ay:Update()end end;function q:MapValue(M,az,aA,aB,aC)return(1-(M-az)/(aA-az))*aB+(M-az)/(aA-az)*aC end;function q:GetTextBounds(aD,aE,aF,aG)local aH=b:GetTextSize(aD,aF,aE,aG or Vector2.new(1920,1080))return aH.X,aH.Y end;function q:GetDarkerColor(aI)local aJ,aK,aL=Color3.toHSV(aI)return Color3.fromHSV(aJ,aK,aL/1.5)end;q.AccentColorDark=q:GetDarkerColor(q.AccentColor)function q:AddToRegistry(Instance,J,O)local aM=#q.Registry+1;local aN={Instance=Instance,Properties=J,Idx=aM}table.insert(q.Registry,aN)q.RegistryMap[Instance]=aN;if O then table.insert(q.HudRegistry,aN)end end;function q:RemoveFromRegistry(Instance)local aN=q.RegistryMap[Instance]if aN then for aM=#q.Registry,1,-1 do if q.Registry[aM]==aN then table.remove(q.Registry,aM)end end;for aM=#q.HudRegistry,1,-1 do if q.HudRegistry[aM]==aN then table.remove(q.HudRegistry,aM)end end;q.RegistryMap[Instance]=nil end end;function q:UpdateColorsUsingRegistry()for aM,aO in next,q.Registry do for L,at in next,aO.Properties do if type(at)=='string'then aO.Instance[L]=q[at]elseif type(at)=='function'then aO.Instance[L]=at()end end end end;function q:GiveSignal(aP)table.insert(q.Signals,aP)end;function q:Unload()for aM=#q.Signals,1,-1 do local aQ=table.remove(q.Signals,aM)aQ:Disconnect()end;if q.OnUnload then q.OnUnload()end;m:Destroy()end;function q:OnUnload(aR)q.OnUnload=aR end;q:GiveSignal(m.DescendantRemoving:Connect(function(Instance)if q.RegistryMap[Instance]then q:RemoveFromRegistry(Instance)end end))local aS={}do local aT={}function aT:AddColorPicker(aM,aU)local aV=self.TextLabel;assert(aU.Default,'AddColorPicker: Missing default value.')local aW={Value=aU.Default,Transparency=aU.Transparency or 0,Type='ColorPicker',Title=type(aU.Title)=='string'and aU.Title or'Color picker',Callback=aU.Callback or function(aI)end}function aW:SetHSVFromRGB(aI)local aJ,aK,aL=Color3.toHSV(aI)aW.Hue=aJ;aW.Sat=aK;aW.Vib=aL end;aW:SetHSVFromRGB(aW.Value)local aX=q:Create('Frame',{BackgroundColor3=aW.Value,BorderColor3=q:GetDarkerColor(aW.Value),BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(0,28,0,14),ZIndex=6,Parent=aV})local aY=q:Create('ImageLabel',{BorderSizePixel=0,Size=UDim2.new(0,27,0,13),ZIndex=5,Image='http://www.roblox.com/asset/?id=18580629231',Visible=not not aU.Transparency,Parent=aX})local aZ=q:Create('Frame',{Name='Color',BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(aX.AbsolutePosition.X,aX.AbsolutePosition.Y+18),Size=UDim2.fromOffset(230,aU.Transparency and 271 or 253),Visible=false,ZIndex=15,Parent=m})aX:GetPropertyChangedSignal('AbsolutePosition'):Connect(function()aZ.Position=UDim2.fromOffset(aX.AbsolutePosition.X,aX.AbsolutePosition.Y+18)end)local a_=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=16,Parent=aZ})local b0=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=17,Parent=a_})local b1=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,4,0,25),Size=UDim2.new(0,200,0,200),ZIndex=17,Parent=a_})local b2=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=18,Parent=b1})local b3=q:Create('ImageLabel',{BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=18,Image='http://www.roblox.com/asset/?id=18580632112',Parent=b2})local b4=q:Create('ImageLabel',{AnchorPoint=Vector2.new(0.5,0.5),Size=UDim2.new(0,6,0,6),BackgroundTransparency=1,Image='http://www.roblox.com/asset/?id=18580629971',ImageColor3=Color3.new(0,0,0),ZIndex=19,Parent=b3})local b5=q:Create('ImageLabel',{Size=UDim2.new(0,b4.Size.X.Offset-2,0,b4.Size.Y.Offset-2),Position=UDim2.new(0,1,0,1),BackgroundTransparency=1,Image='http://www.roblox.com/asset/?id=18580629971',ZIndex=20,Parent=b4})local b6=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,208,0,25),Size=UDim2.new(0,15,0,200),ZIndex=17,Parent=a_})local b7=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=18,Parent=b6})local b8=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),AnchorPoint=Vector2.new(0,0.5),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,0,0,1),ZIndex=18,Parent=b7})local b9=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(4,228),Size=UDim2.new(0.5,-6,0,20),ZIndex=18,Parent=a_})local ba=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=18,Parent=b9})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=ba})local bb=q:Create('TextBox',{BackgroundTransparency=1,Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-5,1,0),Font=q.Font,PlaceholderColor3=Color3.fromRGB(190,190,190),PlaceholderText='Hex color',Text='#FFFFFF',TextColor3=q.FontColor,TextSize=14,TextStrokeTransparency=0,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=20,Parent=ba})q:ApplyTextStroke(bb)local bc=q:Create(b9:Clone(),{Position=UDim2.new(0.5,2,0,228),Size=UDim2.new(0.5,-6,0,20),Parent=a_})local bd=q:Create(bc.Frame:FindFirstChild('TextBox'),{Text='255, 255, 255',PlaceholderText='RGB color',TextColor3=q.FontColor})local be,bf,bg;if aU.Transparency then be=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(4,251),Size=UDim2.new(1,-8,0,15),ZIndex=19,Parent=a_})bf=q:Create('Frame',{BackgroundColor3=aW.Value,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=19,Parent=be})q:AddToRegistry(bf,{BorderColor3='OutlineColor'})local bh=q:Create('ImageLabel',{BackgroundTransparency=1,Size=UDim2.new(1,0,1,0),Image='http://www.roblox.com/asset/?id=18580630715',ZIndex=20,Parent=bf})bg=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),AnchorPoint=Vector2.new(0.5,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0,1,1,0),ZIndex=21,Parent=bf})end;local bi=q:CreateLabel({Size=UDim2.new(1,0,0,14),Position=UDim2.fromOffset(5,5),TextXAlignment=Enum.TextXAlignment.Left,TextSize=14,Text=aW.Title,TextWrapped=false,ZIndex=16,Parent=a_})local bj={}do bj.Options={}bj.Container=q:Create('Frame',{BorderColor3=Color3.new(),ZIndex=14,Visible=false,Parent=m})bj.Inner=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.fromScale(1,1),ZIndex=15,Parent=bj.Container})q:Create('UIListLayout',{Name='Layout',FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bj.Inner})q:Create('UIPadding',{Name='Padding',PaddingLeft=UDim.new(0,4),Parent=bj.Inner})local function bk()bj.Container.Position=UDim2.fromOffset(aX.AbsolutePosition.X+aX.AbsoluteSize.X+4,aX.AbsolutePosition.Y+1)end;local function bl()local bm=60;for C,bn in next,bj.Inner:GetChildren()do if bn:IsA('TextLabel')then bm=math.max(bm,bn.TextBounds.X)end end;bj.Container.Size=UDim2.fromOffset(bm+8,bj.Inner.Layout.AbsoluteContentSize.Y+4)end;aX:GetPropertyChangedSignal('AbsolutePosition'):Connect(bk)bj.Inner.Layout:GetPropertyChangedSignal('AbsoluteContentSize'):Connect(bl)task.spawn(bk)task.spawn(bl)q:AddToRegistry(bj.Inner,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})function bj:Show()if q.IsMobile then q.CanDrag=false end;self.Container.Visible=true end;function bj:Hide()if q.IsMobile then q.CanDrag=true end;self.Container.Visible=false end;function bj:AddOption(bo,aR)if type(aR)~='function'then aR=function()end end;local bp=q:CreateLabel({Active=false,Size=UDim2.new(1,0,0,15),TextSize=13,Text=bo,ZIndex=16,Parent=self.Inner,TextXAlignment=Enum.TextXAlignment.Left})q:OnHighlight(bp,bp,{TextColor3='AccentColor'},{TextColor3='FontColor'})bp.InputBegan:Connect(function(Y)if Y.UserInputType~=Enum.UserInputType.MouseButton1 or Y.UserInputType~=Enum.UserInputType.Touch then return end;aR()end)end;bj:AddOption('Copy color',function()q.ColorClipboard=aW.Value;q:Notify('Copied color!',2)end)bj:AddOption('Paste color',function()if not q.ColorClipboard then return q:Notify('You have not copied a color!',2)end;aW:SetValueRGB(q.ColorClipboard)end)bj:AddOption('Copy HEX',function()pcall(setclipboard,aW.Value:ToHex())q:Notify('Copied hex code to clipboard!',2)end)bj:AddOption('Copy RGB',function()pcall(setclipboard,table.concat({math.floor(aW.Value.R*255),math.floor(aW.Value.G*255),math.floor(aW.Value.B*255)},', '))q:Notify('Copied RGB values to clipboard!',2)end)end;q:AddToRegistry(a_,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})q:AddToRegistry(b0,{BackgroundColor3='AccentColor'})q:AddToRegistry(b2,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})q:AddToRegistry(ba,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:AddToRegistry(bc.Frame,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:AddToRegistry(bd,{TextColor3='FontColor'})q:AddToRegistry(bb,{TextColor3='FontColor'})local bq={}for s=0,1,0.1 do table.insert(bq,ColorSequenceKeypoint.new(s,Color3.fromHSV(s,1,1)))end;local br=q:Create('UIGradient',{Color=ColorSequence.new(bq),Rotation=90,Parent=b7})bb.FocusLost:Connect(function(bs)if bs then local G,bt=pcall(Color3.fromHex,bb.Text)if G and typeof(bt)=='Color3'then aW.Hue,aW.Sat,aW.Vib=Color3.toHSV(bt)end end;aW:Display()end)bd.FocusLost:Connect(function(bs)if bs then local bu,bv,z=bd.Text:match('(%d+),%s*(%d+),%s*(%d+)')if bu and bv and z then aW.Hue,aW.Sat,aW.Vib=Color3.toHSV(Color3.fromRGB(bu,bv,z))end end;aW:Display()end)function aW:Display()aW.Value=Color3.fromHSV(aW.Hue,aW.Sat,aW.Vib)b3.BackgroundColor3=Color3.fromHSV(aW.Hue,1,1)q:Create(aX,{BackgroundColor3=aW.Value,BackgroundTransparency=aW.Transparency,BorderColor3=q:GetDarkerColor(aW.Value)})if bf then bf.BackgroundColor3=aW.Value;bg.Position=UDim2.new(1-aW.Transparency,0,0,0)end;b4.Position=UDim2.new(aW.Sat,0,1-aW.Vib,0)b8.Position=UDim2.new(0,0,aW.Hue,0)bb.Text='#'..aW.Value:ToHex()bd.Text=table.concat({math.floor(aW.Value.R*255),math.floor(aW.Value.G*255),math.floor(aW.Value.B*255)},', ')q:SafeCallback(aW.Callback,aW.Value)q:SafeCallback(aW.Changed,aW.Value)end;function aW:OnChanged(bw)aW.Changed=bw;bw(aW.Value)end;function aW:Show()for av,bx in next,q.OpenedFrames do if av.Name=='Color'then av.Visible=false;q.OpenedFrames[av]=nil end end;aZ.Visible=true;q.OpenedFrames[aZ]=true end;function aW:Hide()aZ.Visible=false;q.OpenedFrames[aZ]=nil end;function aW:SetValue(by,af)local aI=Color3.fromHSV(by[1],by[2],by[3])aW.Transparency=af or 0;aW:SetHSVFromRGB(aI)aW:Display()end;function aW:SetValueRGB(aI,af)aW.Transparency=af or 0;aW:SetHSVFromRGB(aI)aW:Display()end;b3.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local bz=b3.AbsolutePosition.X;local bA=bz+b3.AbsoluteSize.X;local bB=math.clamp(k.X,bz,bA)local bC=b3.AbsolutePosition.Y;local bD=bC+b3.AbsoluteSize.Y;local bE=math.clamp(k.Y,bC,bD)aW.Sat=(bB-bz)/(bA-bz)aW.Vib=1-(bE-bC)/(bD-bC)aW:Display()i:Wait()end;q:AttemptSave()end end)b7.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local bC=b7.AbsolutePosition.Y;local bD=bC+b7.AbsoluteSize.Y;local bE=math.clamp(k.Y,bC,bD)aW.Hue=(bE-bC)/(bD-bC)aW:Display()i:Wait()end;q:AttemptSave()end end)aX.InputBegan:Connect(function(Y)if q:MouseIsOverOpenedFrame()then return end;if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then if aZ.Visible then aW:Hide()else bj:Hide()aW:Show()end elseif Y.UserInputType==Enum.UserInputType.MouseButton2 then bj:Show()aW:Hide()end end)if bf then bf.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local bz=bf.AbsolutePosition.X;local bA=bz+bf.AbsoluteSize.X;local bB=math.clamp(k.X,bz,bA)aW.Transparency=1-(bB-bz)/(bA-bz)aW:Display()i:Wait()end;q:AttemptSave()end end)end;q:GiveSignal(a.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then local aw,ax=aZ.AbsolutePosition,aZ.AbsoluteSize;if k.X<aw.X or k.X>aw.X+ax.X or k.Y<aw.Y-20-1 or k.Y>aw.Y+ax.Y then aW:Hide()end;if not q:IsMouseOverFrame(bj.Container)then bj:Hide()end end;if Y.UserInputType==Enum.UserInputType.MouseButton2 and bj.Container.Visible then if not q:IsMouseOverFrame(bj.Container)and not q:IsMouseOverFrame(aX)then bj:Hide()end end end))aW:Display()aW.DisplayFrame=aX;o[aM]=aW;return self end;function aT:AddKeyPicker(aM,aU)local bF=self;local aV=self.TextLabel;local bG=self.Container;assert(aU.Default,'AddKeyPicker: Missing default value.')local bH={Value=aU.Default,Toggled=false,Mode=aU.Mode or'Toggle',Type='KeyPicker',Callback=aU.Callback or function(M)end,ChangedCallback=aU.ChangedCallback or function(bI)end,SyncToggleState=aU.SyncToggleState or false}if bH.SyncToggleState then aU.Modes={'Toggle'}aU.Mode='Toggle'end;local bJ=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0,28,0,15),ZIndex=6,Parent=aV})local bK=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=7,Parent=bJ})q:AddToRegistry(bK,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local bi=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=13,Text=aU.Default,TextWrapped=true,ZIndex=8,Parent=bK})local bL=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.fromOffset(aV.AbsolutePosition.X+aV.AbsoluteSize.X+4,aV.AbsolutePosition.Y+1),Size=UDim2.new(0,60,0,45+2),Visible=false,ZIndex=14,Parent=m})aV:GetPropertyChangedSignal('AbsolutePosition'):Connect(function()bL.Position=UDim2.fromOffset(aV.AbsolutePosition.X+aV.AbsoluteSize.X+4,aV.AbsolutePosition.Y+1)end)local bM=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=15,Parent=bL})q:AddToRegistry(bM,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bM})local bN=q:CreateLabel({TextXAlignment=Enum.TextXAlignment.Left,Size=UDim2.new(1,0,0,18),TextSize=13,Visible=false,ZIndex=110,Parent=q.KeybindContainer},true)local bO=aU.Modes or{'Always','Toggle','Hold'}local bP={}for aM,bQ in next,bO do local bR={}local ao=q:CreateLabel({Active=false,Size=UDim2.new(1,0,0,15),TextSize=13,Text=bQ,ZIndex=16,Parent=bM})function bR:Select()for w,bp in next,bP do bp:Deselect()end;bH.Mode=bQ;ao.TextColor3=q.AccentColor;q.RegistryMap[ao].Properties.TextColor3='AccentColor'bL.Visible=false end;function bR:Deselect()bH.Mode=nil;ao.TextColor3=q.FontColor;q.RegistryMap[ao].Properties.TextColor3='FontColor'end;ao.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 then bR:Select()q:AttemptSave()end end)if bQ==bH.Mode then bR:Select()end;bP[bQ]=bR end;function bH:Update()if aU.NoUI then return end;local bS=bH:GetState()bN.Text=string.format('[%s] %s (%s)',bH.Value,aU.Text,bH.Mode)bN.Visible=true;bN.TextColor3=bS and q.AccentColor or q.FontColor;q.RegistryMap[bN].Properties.TextColor3=bS and'AccentColor'or'FontColor'local bT=0;local bU=0;for w,ao in next,q.KeybindContainer:GetChildren()do if ao:IsA('TextLabel')and ao.Visible then bT=bT+18;if ao.TextBounds.X>bU then bU=ao.TextBounds.X end end end;q.KeybindFrame.Size=UDim2.new(0,math.max(bU+10,210),0,bT+23)end;function bH:GetState()if bH.Mode=='Always'then return true elseif bH.Mode=='Hold'then if bH.Value=='None'then return false end;local bV=bH.Value;if bV=='MB1'or bV=='MB2'then return bV=='MB1'and a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)or bV=='MB2'and a:IsMouseButtonPressed(Enum.UserInputType.MouseButton2)else return a:IsKeyDown(Enum.KeyCode[bH.Value])end else return bH.Toggled end end;function bH:SetValue(aN)local bV,bQ=aN[1],aN[2]bi.Text=bV;bH.Value=bV;bP[bQ]:Select()bH:Update()end;function bH:OnClick(aR)bH.Clicked=aR end;function bH:OnChanged(aR)bH.Changed=aR;aR(bH.Value)end;if bF.Addons then table.insert(bF.Addons,bH)end;function bH:DoClick()if bF.Type=='Toggle'and bH.SyncToggleState then bF:SetValue(not bF.Value)end;q:SafeCallback(bH.Callback,bH.Toggled)q:SafeCallback(bH.Clicked,bH.Toggled)end;local bW=false;bJ.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()then bW=true;bi.Text=''local bX;local aD=''task.spawn(function()while not bX do if aD=='...'then aD=''end;aD=aD..'.'bi.Text=aD;task.wait(0.4)end end)task.wait(0.2)local bY;bY=a.InputBegan:Connect(function(Y)local bV;if Y.UserInputType==Enum.UserInputType.Keyboard then bV=Y.KeyCode.Name elseif Y.UserInputType==Enum.UserInputType.MouseButton1 then bV='MB1'elseif Y.UserInputType==Enum.UserInputType.MouseButton2 then bV='MB2'end;bX=true;bW=false;bi.Text=bV;bH.Value=bV;q:SafeCallback(bH.ChangedCallback,Y.KeyCode or Y.UserInputType)q:SafeCallback(bH.Changed,Y.KeyCode or Y.UserInputType)q:AttemptSave()bY:Disconnect()end)elseif Y.UserInputType==Enum.UserInputType.MouseButton2 and not q:MouseIsOverOpenedFrame()then bL.Visible=true end end)q:GiveSignal(a.InputBegan:Connect(function(Y)if bH.Value=="Unknown"then return end;if not bW and not a:GetFocusedTextBox()then if bH.Mode=='Toggle'then local bV=bH.Value;if bV=='MB1'or bV=='MB2'then if bV=='MB1'and Y.UserInputType==Enum.UserInputType.MouseButton1 or bV=='MB2'and Y.UserInputType==Enum.UserInputType.MouseButton2 then bH.Toggled=not bH.Toggled;bH:DoClick()end elseif Y.UserInputType==Enum.UserInputType.Keyboard then if Y.KeyCode.Name==bV then bH.Toggled=not bH.Toggled;bH:DoClick()end end end;bH:Update()end;if Y.UserInputType==Enum.UserInputType.MouseButton1 then local aw,ax=bL.AbsolutePosition,bL.AbsoluteSize;if k.X<aw.X or k.X>aw.X+ax.X or k.Y<aw.Y-20-1 or k.Y>aw.Y+ax.Y then bL.Visible=false end end end))q:GiveSignal(a.InputEnded:Connect(function(Y)if not bW then bH:Update()end end))bH:Update()o[aM]=bH;return self end;aS.__index=aT;aS.__namecall=function(bZ,bV,...)return aT[bV](...)end end;local b_={}do local aT={}function aT:AddBlank(aF)local c0=self;local bG=c0.Container;q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,0,aF),ZIndex=1,Parent=bG})end;function aT:AddLabel(aD,c1)local ao={}local c0=self;local bG=c0.Container;local c2=q:CreateLabel({Size=UDim2.new(1,-4,0,15),TextSize=14,Text=aD,TextWrapped=c1 or false,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=5,Parent=bG})if c1 then local am=select(2,q:GetTextBounds(aD,q.Font,14,Vector2.new(c2.AbsoluteSize.X,math.huge)))c2.Size=UDim2.new(1,-4,0,am)else q:Create('UIListLayout',{Padding=UDim.new(0,4),FillDirection=Enum.FillDirection.Horizontal,HorizontalAlignment=Enum.HorizontalAlignment.Right,SortOrder=Enum.SortOrder.LayoutOrder,Parent=c2})end;ao.TextLabel=c2;ao.Container=bG;function ao:SetText(aD)c2.Text=aD;if c1 then local am=select(2,q:GetTextBounds(aD,q.Font,14,Vector2.new(c2.AbsoluteSize.X,math.huge)))c2.Size=UDim2.new(1,-4,0,am)end;c0:Resize()end;if not c1 then setmetatable(ao,aS)end;c0:AddBlank(5)c0:Resize()return ao end;function aT:AddButton(...)local bp={}local function c3(I,c4,...)local c5=select(1,...)if type(c5)=='table'then c4.Text=c5.Text;c4.Func=c5.Func;c4.DoubleClick=c5.DoubleClick;c4.Tooltip=c5.Tooltip else c4.Text=select(1,...)c4.Func=select(2,...)end;assert(type(c4.Func)=='function','AddButton: `Func` callback is missing.')end;c3('Button',bp,...)local c0=self;local bG=c0.Container;local function c6(bp)local c7=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,20),ZIndex=5})local c8=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=c7})local ao=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=14,Text=bp.Text,ZIndex=6,Parent=c8})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=c8})q:AddToRegistry(c7,{BorderColor3='Black'})q:AddToRegistry(c8,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:OnHighlight(c7,c7,{BorderColor3='AccentColor'},{BorderColor3='Black'})return c7,c8,ao end;local function c9(bp)local function ca(H,cb,cc)local cd=Instance.new('BindableEvent')local ce=H:Once(function(...)if type(cc)=='function'and cc(...)then cd:Fire(true)else cd:Fire(false)end end)task.delay(cb,function()ce:disconnect()cd:Fire(false)end)return cd.Event:Wait()end;local function cf(Y)if q:MouseIsOverOpenedFrame(Y)then return false end;if Y.UserInputType==Enum.UserInputType.MouseButton1 then return true elseif Y.UserInputType==Enum.UserInputType.Touch then return true else return false end end;bp.Outer.InputBegan:Connect(function(Y)if not cf(Y)then return end;if bp.Locked then return end;if bp.DoubleClick then q:RemoveFromRegistry(bp.Label)q:AddToRegistry(bp.Label,{TextColor3='AccentColor'})bp.Label.TextColor3=q.AccentColor;bp.Label.Text='Are you sure?'bp.Locked=true;local cg=ca(bp.Outer.InputBegan,0.5,cf)q:RemoveFromRegistry(bp.Label)q:AddToRegistry(bp.Label,{TextColor3='FontColor'})bp.Label.TextColor3=q.FontColor;bp.Label.Text=bp.Text;task.defer(rawset,bp,'Locked',false)if cg then q:SafeCallback(bp.Func)end;return end;q:SafeCallback(bp.Func)end)end;bp.Outer,bp.Inner,bp.Label=c6(bp)bp.Outer.Parent=bG;c9(bp)function bp:AddTooltip(ch)if type(ch)=='string'then q:AddToolTip(ch,self.Outer)end;return self end;function bp:AddButton(...)local ci={}c3('SubButton',ci,...)self.Outer.Size=UDim2.new(0.5,-2,0,20)ci.Outer,ci.Inner,ci.Label=c6(ci)ci.Outer.Position=UDim2.new(1,3,0,0)ci.Outer.Size=UDim2.new(1,-3,1,0)ci.Outer.Parent=self.Outer;function ci:AddTooltip(ch)if type(ch)=='string'then q:AddToolTip(ch,self.Outer)end;return ci end;if type(ci.Tooltip)=='string'then ci:AddTooltip(ci.Tooltip)end;c9(ci)return ci end;if type(bp.Tooltip)=='string'then bp:AddTooltip(bp.Tooltip)end;c0:AddBlank(5)c0:Resize()return bp end;function aT:AddDivider()local c0=self;local bG=self.Container;local cj={Type='Divider'}c0:AddBlank(2)local ck=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,5),ZIndex=5,Parent=bG})local cl=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=ck})q:AddToRegistry(ck,{BorderColor3='Black'})q:AddToRegistry(cl,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})c0:AddBlank(9)c0:Resize()end;function aT:AddInput(aM,aU)assert(aU.Text,'AddInput: Missing `Text` string.')local cm={Value=aU.Default or'',Numeric=aU.Numeric or false,Finished=aU.Finished or false,Type='Input',Callback=aU.Callback or function(M)end}local c0=self;local bG=c0.Container;local cn=q:CreateLabel({Size=UDim2.new(1,0,0,15),TextSize=14,Text=aU.Text,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=5,Parent=bG})c0:AddBlank(1)local co=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,20),ZIndex=5,Parent=bG})local cp=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=co})q:AddToRegistry(cp,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:OnHighlight(co,co,{BorderColor3='AccentColor'},{BorderColor3='Black'})if type(aU.Tooltip)=='string'then q:AddToolTip(aU.Tooltip,co)end;q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=cp})local bG=q:Create('Frame',{BackgroundTransparency=1,ClipsDescendants=true,Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-5,1,0),ZIndex=7,Parent=cp})local cq=q:Create('TextBox',{BackgroundTransparency=1,Position=UDim2.fromOffset(0,0),Size=UDim2.fromScale(5,1),Font=q.Font,PlaceholderColor3=Color3.fromRGB(190,190,190),PlaceholderText=aU.Placeholder or'',Text=aU.Default or'',TextColor3=q.FontColor,TextSize=14,TextStrokeTransparency=0,TextXAlignment=Enum.TextXAlignment.Left,ClearTextOnFocus=typeof(aU.ClearTextOnFocus)~="boolean"and true or aU.ClearTextOnFocus,ZIndex=7,Parent=bG})q:ApplyTextStroke(cq)function cm:SetValue(aD)if aU.MaxLength and#aD>aU.MaxLength then aD=aD:sub(1,aU.MaxLength)end;if cm.Numeric then if not tonumber(aD)and aD:len()>0 then aD=cm.Value end end;cm.Value=aD;cq.Text=aD;q:SafeCallback(cm.Callback,cm.Value)q:SafeCallback(cm.Changed,cm.Value)end;if cm.Finished then cq.FocusLost:Connect(function(bs)if not bs then return end;cm:SetValue(cq.Text)q:AttemptSave()end)else cq:GetPropertyChangedSignal('Text'):Connect(function()cm:SetValue(cq.Text)q:AttemptSave()end)end;local function cr()local cs=2;local ct=bG.AbsoluteSize.X;if not cq:IsFocused()or cq.TextBounds.X<=ct-2*cs then cq.Position=UDim2.new(0,cs,0,0)else local cu=cq.CursorPosition;if cu~=-1 then local cv=string.sub(cq.Text,1,cu-1)local cw=b:GetTextSize(cv,cq.TextSize,cq.Font,Vector2.new(math.huge,math.huge)).X;local cx=cq.Position.X.Offset+cw;if cx<cs then cq.Position=UDim2.fromOffset(cs-cw,0)elseif cx>ct-cs-1 then cq.Position=UDim2.fromOffset(ct-cw-cs-1,0)end end end end;task.spawn(cr)cq:GetPropertyChangedSignal('Text'):Connect(cr)cq:GetPropertyChangedSignal('CursorPosition'):Connect(cr)cq.FocusLost:Connect(cr)cq.Focused:Connect(cr)q:AddToRegistry(cq,{TextColor3='FontColor'})function cm:OnChanged(bw)cm.Changed=bw;bw(cm.Value)end;c0:AddBlank(5)c0:Resize()o[aM]=cm;return cm end;function aT:AddToggle(aM,aU)assert(aU.Text,'AddInput: Missing `Text` string.')local cy={Value=aU.Default or false,Type='Toggle',Callback=aU.Callback or function(M)end,Addons={},Risky=aU.Risky}local c0=self;local bG=c0.Container;local cz=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0,13,0,13),ZIndex=5,Parent=bG})q:AddToRegistry(cz,{BorderColor3='Black'})local cA=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=cz})q:AddToRegistry(cA,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local aV=q:CreateLabel({Size=UDim2.new(0,216,1,0),Position=UDim2.new(1,6,0,0),TextSize=14,Text=aU.Text,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=6,Parent=cA})q:Create('UIListLayout',{Padding=UDim.new(0,4),FillDirection=Enum.FillDirection.Horizontal,HorizontalAlignment=Enum.HorizontalAlignment.Right,SortOrder=Enum.SortOrder.LayoutOrder,Parent=aV})local cB=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(0,170,1,0),ZIndex=8,Parent=cz})q:OnHighlight(cB,cz,{BorderColor3='AccentColor'},{BorderColor3='Black'})function cy:UpdateColors()cy:Display()end;if type(aU.Tooltip)=='string'then q:AddToolTip(aU.Tooltip,cB)end;function cy:Display()cA.BackgroundColor3=cy.Value and q.AccentColor or q.MainColor;cA.BorderColor3=cy.Value and q.AccentColorDark or q.OutlineColor;q.RegistryMap[cA].Properties.BackgroundColor3=cy.Value and'AccentColor'or'MainColor'q.RegistryMap[cA].Properties.BorderColor3=cy.Value and'AccentColorDark'or'OutlineColor'end;function cy:OnChanged(bw)cy.Changed=bw;bw(cy.Value)end;function cy:SetValue(cC)cC=not not cC;if cy.Value==cC then return end;cy.Value=cC;cy:Display()for w,cD in next,cy.Addons do if cD.Type=='KeyPicker'and cD.SyncToggleState then cD.Toggled=cC;cD:Update()end end;q:SafeCallback(cy.Callback,cy.Value)q:SafeCallback(cy.Changed,cy.Value)q:UpdateDependencyBoxes()end;cB.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Y.UserInputType==Enum.UserInputType.Touch then cy:SetValue(not cy.Value)q:AttemptSave()end end)if cy.Risky then q:RemoveFromRegistry(aV)aV.TextColor3=q.RiskColor;q:AddToRegistry(aV,{TextColor3='RiskColor'})end;cy:Display()c0:AddBlank(aU.BlankSize or 5+2)c0:Resize()cy.TextLabel=aV;cy.Container=bG;setmetatable(cy,aS)n[aM]=cy;q:UpdateDependencyBoxes()return cy end;function aT:AddSlider(aM,aU)assert(aU.Default,'AddSlider: Missing default value.')assert(aU.Text,'AddSlider: Missing slider text.')assert(aU.Min,'AddSlider: Missing minimum value.')assert(aU.Max,'AddSlider: Missing maximum value.')assert(aU.Rounding,'AddSlider: Missing rounding value.')local cE={Value=aU.Default,Min=aU.Min,Max=aU.Max,Rounding=aU.Rounding,MaxSize=232,Type='Slider',Callback=aU.Callback or function(M)end}local c0=self;local bG=c0.Container;if not aU.Compact then q:CreateLabel({Size=UDim2.new(1,0,0,10),TextSize=14,Text=aU.Text,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Bottom,ZIndex=5,Parent=bG})c0:AddBlank(3)end;local cF=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,13),ZIndex=5,Parent=bG})cF:GetPropertyChangedSignal('AbsoluteSize'):Connect(function()cE.MaxSize=cF.AbsoluteSize.X-2 end)q:AddToRegistry(cF,{BorderColor3='Black'})local cG=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=cF})q:AddToRegistry(cG,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local cH=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderColor3=q.AccentColorDark,Size=UDim2.new(0,0,1,0),ZIndex=7,Parent=cG})q:AddToRegistry(cH,{BackgroundColor3='AccentColor',BorderColor3='AccentColorDark'})local cI=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Position=UDim2.new(1,0,0,0),Size=UDim2.new(0,1,1,0),ZIndex=8,Parent=cH})q:AddToRegistry(cI,{BackgroundColor3='AccentColor'})local bi=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=14,Text='Infinite',ZIndex=9,Parent=cG})q:OnHighlight(cF,cF,{BorderColor3='AccentColor'},{BorderColor3='Black'})if type(aU.Tooltip)=='string'then q:AddToolTip(aU.Tooltip,cF)end;function cE:UpdateColors()cH.BackgroundColor3=q.AccentColor;cH.BorderColor3=q.AccentColorDark end;function cE:Display()local cJ=aU.Suffix or''if aU.Compact then bi.Text=aU.Text..': '..cE.Value..cJ elseif aU.HideMax then bi.Text=string.format('%s',cE.Value..cJ)else bi.Text=string.format('%s/%s',cE.Value..cJ,cE.Max..cJ)end;local al=q:MapValue(cE.Value,cE.Min,cE.Max,0,1)cH.Size=UDim2.new(al,0,1,0)cI.Visible=not(al==1 or al==0)end;function cE:OnChanged(bw)cE.Changed=bw;bw(cE.Value)end;local function cK(M)if cE.Rounding==0 then return math.floor(M)end;return tonumber(string.format('%.'..cE.Rounding..'f',M))end;function cE:GetValueFromXScale(al)return cK(q:MapValue(al,0,1,cE.Min,cE.Max))end;function cE:SetMax(M)assert(M>cE.Min,'Max value cannot be less than the current min value.')cE.Value=math.clamp(cE.Value,cE.Min,M)cE.Max=M;cE:Display()end;function cE:SetMin(M)assert(M<cE.Max,'Min value cannot be greater than the current max value.')cE.Value=math.clamp(cE.Value,M,cE.Max)cE.Min=M;cE:Display()end;function cE:SetValue(bo)local cL=tonumber(bo)if not cL then return end;cL=math.clamp(cL,cE.Min,cE.Max)cE.Value=cL;cE:Display()q:SafeCallback(cE.Callback,cE.Value)q:SafeCallback(cE.Changed,cE.Value)end;cG.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Y.UserInputType==Enum.UserInputType.Touch then if q.IsMobile then q.CanDrag=false end;local cM={}if q.Window then cM=q.Window.Tabs[q.ActiveTab]:GetSides()end;for w,cN in pairs(cM)do if typeof(cN)=="Instance"then if cN:IsA("ScrollingFrame")then cN.ScrollingEnabled=false end end end;local cO=k.X;local cP=cH.AbsoluteSize.X;local cQ=cO-(cH.AbsolutePosition.X+cP)while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1 or Enum.UserInputType.Touch)do local cR=k.X;local cS=math.clamp(cP+cR-cO+cQ,0,cE.MaxSize)local cT=q:MapValue(cS,0,cE.MaxSize,0,1)local cU=cE:GetValueFromXScale(cT)local cV=cE.Value;cE.Value=cU;cE:Display()if cU~=cV then q:SafeCallback(cE.Callback,cE.Value)q:SafeCallback(cE.Changed,cE.Value)end;i:Wait()end;if q.IsMobile then q.CanDrag=true end;for w,cN in pairs(cM)do if typeof(cN)=="Instance"then if cN:IsA("ScrollingFrame")then cN.ScrollingEnabled=true end end end;q:AttemptSave()end end)cE:Display()c0:AddBlank(aU.BlankSize or 6)c0:Resize()o[aM]=cE;return cE end;local function cW(cX,cY)for C,cZ in ipairs(cX)do if cZ==cY then return C end end;return nil end;local function c_(d0,d1)local d2=string.gsub(d0,' ','')local d3=string.gsub(d1,' ','')local d4=string.lower(d2)local d5=string.lower(d3)return string.sub(d4,1,#d5)==d5 end;function aT:AddDropdown(aM,aU)if aU.SpecialType=='Player'then aU.Values=u()aU.AllowNull=true elseif aU.SpecialType=='Team'then aU.Values=A()aU.AllowNull=true end;assert(aU.Values,'AddDropdown: Missing dropdown value list.')assert(aU.AllowNull or aU.Default,'AddDropdown: Missing default value. Pass `AllowNull` as true if this was intentional.')if not aU.Text then aU.Compact=true end;local d6={Values=aU.Values,Value=aU.Multi and{},Multi=aU.Multi,Type='Dropdown',SpecialType=aU.SpecialType,Callback=aU.Callback or function(M)end}local c0=self;local bG=c0.Container;local d7=0;if not aU.Compact then local d8=q:CreateLabel({Size=UDim2.new(1,0,0,10),TextSize=14,Text=aU.Text,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Bottom,ZIndex=5,Parent=bG,Font=q.Font})c0:AddBlank(3)end;for w,d9 in next,bG:GetChildren()do if not d9:IsA('UIListLayout')then d7=d7+d9.Size.Y.Offset end end;local da=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,20),ZIndex=5,Parent=bG})q:AddToRegistry(da,{BorderColor3='Black'})local db=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=da})q:AddToRegistry(db,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=db})local dc=q:Create('ImageLabel',{AnchorPoint=Vector2.new(0,0.5),BackgroundTransparency=1,Position=UDim2.new(1,-16,0.5,0),Size=UDim2.new(0,12,0,12),Image='http://www.roblox.com/asset/?id=18580628464',ZIndex=8,Parent=db})local dd=q:CreateLabel({Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-5,1,0),TextSize=14,Text='--',TextXAlignment=Enum.TextXAlignment.Left,TextWrapped=true,ZIndex=7,Parent=db,Font=q.Font})q:OnHighlight(da,da,{BorderColor3='AccentColor'},{BorderColor3='Black'})if type(aU.Tooltip)=='string'then q:AddToolTip(aU.Tooltip,da)end;local de=5;local df=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),ZIndex=20,Visible=false,Parent=m})local function dg()df.Position=UDim2.fromOffset(da.AbsolutePosition.X,da.AbsolutePosition.Y+da.Size.Y.Offset+1)end;da:GetPropertyChangedSignal('AbsolutePosition'):Connect(dg)local dh=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=df})q:AddToRegistry(dh,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local di=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,CanvasSize=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=dh,TopImage='rbxasset://textures/ui/Scroll/scroll-middle.png',BottomImage='rbxasset://textures/ui/Scroll/scroll-middle.png',ScrollBarThickness=12,ScrollBarImageColor3=q.AccentColor})q:AddToRegistry(di,{ScrollBarImageColor3='AccentColor'})local dj=q:Create('UIListLayout',{Padding=UDim.new(0,0),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=di})local function dk()local dl=dj.AbsoluteContentSize.Y;di.CanvasSize=UDim2.fromOffset(0,dl)df.Size=UDim2.fromOffset(da.AbsoluteSize.X+0.5,math.min(dl,de*20)+1)end;function d6:Display()local dm=d6.Values;local bo=''if aU.Multi then for aM,M in next,dm do if d6.Value[M]then bo=bo..M..', 'end end;bo=bo:sub(1,#bo-2)else bo=d6.Value or''end;dd.Text=bo==''and'--'or bo end;function d6:GetActiveValues()if aU.Multi then local dn={}for M,cC in next,d6.Value do table.insert(dn,M)end;return dn else return d6.Value and 1 or 0 end end;function d6:RebuildListWithValues(dp)local dq={}for w,d9 in next,di:GetChildren()do if not d9:IsA('UIListLayout')and d9~=d6.SearchBar then d9:Destroy()end end;local dr=0;for aM,M in next,dp do local bZ={}dr=dr+1;local bp=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Middle,Size=UDim2.new(1,-1,0,20),ZIndex=23,Active=true,Parent=di,LayoutOrder=dr})q:AddToRegistry(bp,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local ds=q:CreateLabel({Active=false,Size=UDim2.new(1,-6,1,0),Position=UDim2.new(0,6,0,0),TextSize=14,Text=M,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=25,Parent=bp,Font=q.Font})q:AddToRegistry(ds,{TextColor3='FontColor'})q:OnHighlight(bp,bp,{BorderColor3='AccentColor',ZIndex=24},{BorderColor3='OutlineColor',ZIndex=23})local dt;if aU.Multi then dt=d6.Value[M]else dt=d6.Value==M end;function bZ:UpdateButton()if aU.Multi then dt=d6.Value[M]else dt=d6.Value==M end;ds.TextColor3=dt and q.AccentColor or q.FontColor;pcall(function()q.RegistryMap[ds].Properties.TextColor3=dt and'AccentColor'or'FontColor'end)end;ds.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then local du=not dt;if d6:GetActiveValues()==1 and not du and not aU.AllowNull then else if aU.Multi then dt=du;if dt then d6.Value[M]=true else d6.Value[M]=nil end else dt=du;if dt then d6.Value=M else d6.Value=nil end;d6:BuildDropdownList()end;bZ:UpdateButton()d6:Display()q:SafeCallback(d6.Callback,d6.Value)q:SafeCallback(d6.Changed,d6.Value)q:AttemptSave()end end end)bZ:UpdateButton()d6:Display()dq[bp]=bZ end;dk()end;function d6:BuildDropdownList()local dm=d6.Values;for w,d9 in next,di:GetChildren()do if not d9:IsA('UIListLayout')then d9:Destroy()end end;if aU.SearchBar then local dv=q:Create('TextBox',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,Size=UDim2.new(1,-6,0,20),Position=UDim2.new(10,6,0,0),PlaceholderText='Search...',Text=d6.SearchBar and d6.SearchBar.Text or'',TextColor3=q.FontColor,PlaceholderColor3=q.FontColor,TextSize=14,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Center,ZIndex=22,Parent=di,LayoutOrder=-1,Font=q.Font})q:AddToRegistry(dv,{BackgroundColor3='MainColor',BorderColor3='OutlineColor',TextColor3='FontColor',PlaceholderColor3='FontColor'})dv.Changed:Connect(function(dw)if dw=='Text'then local dx=dv.Text:lower()local dy={}for w,cY in next,d6.Values do if c_(cY,dx)then table.insert(dy,cY)end end;d6:RebuildListWithValues(dy)end end)d6.SearchBar=dv;if dv.Text~=''then local dx=dv.Text:lower()local dy={}for w,cY in next,d6.Values do if c_(cY,dx)then table.insert(dy,cY)end end;d6:RebuildListWithValues(dy)else d6:RebuildListWithValues(dm)end else d6:RebuildListWithValues(dm)end end;function d6:SetValues(dz)if dz then d6.Values=dz end;if d6.SearchBar then d6.SearchBar.Text=''end;d6:BuildDropdownList()end;function d6:OpenDropdown()if q.IsMobile then q.CanDrag=false end;df.Visible=true;q.OpenedFrames[df]=true;dc.Rotation=180;dk()end;function d6:CloseDropdown()if q.IsMobile then q.CanDrag=true end;df.Visible=false;q.OpenedFrames[df]=nil;dc.Rotation=0 end;function d6:OnChanged(bw)d6.Changed=bw;bw(d6.Value)end;function d6:SetValue(bx)if d6.Multi then local dA={}for M,cC in next,bx do if cW(d6.Values,M)then dA[M]=true end end;d6.Value=dA else if not bx then d6.Value=nil elseif cW(d6.Values,bx)then d6.Value=bx end end;d6:BuildDropdownList()q:SafeCallback(d6.Callback,d6.Value)q:SafeCallback(d6.Changed,d6.Value)end;da.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Y.UserInputType==Enum.UserInputType.Touch then if df.Visible then d6:CloseDropdown()else d6:OpenDropdown()end end end)a.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then local aw,ax=df.AbsolutePosition,df.AbsoluteSize;if k.X<aw.X or k.X>aw.X+ax.X or k.Y<aw.Y-20-1 or k.Y>aw.Y+ax.Y then d6:CloseDropdown()end end end)d6:BuildDropdownList()d6:Display()local dB={}if type(aU.Default)=='string'then local aM=cW(d6.Values,aU.Default)if aM then table.insert(dB,aM)end elseif type(aU.Default)=='table'then for w,M in next,aU.Default do local aM=cW(d6.Values,M)if aM then table.insert(dB,aM)end end elseif type(aU.Default)=='number'and d6.Values[aU.Default]~=nil then table.insert(dB,aU.Default)end;if next(dB)then for C=1,#dB do local dC=dB[C]if aU.Multi then d6.Value[d6.Values[dC]]=true else d6.Value=d6.Values[dC]end;if not aU.Multi then break end end;d6:BuildDropdownList()d6:Display()end;c0:AddBlank(aU.BlankSize or 5)c0:Resize()o[aM]=d6;return d6 end;function aT:AddPriorityDropdown(aM,aU)assert(aU.Values,'AddPriorityDropdown: Missing priority value list.')local dD={Values=aU.Values,Type='PriorityDropdown',Callback=aU.Callback or function(dm)end}local c0=self;local bG=c0.Container;if not aU.Compact then local d8=q:CreateLabel({Size=UDim2.new(1,0,0,10),TextSize=14,Text=aU.Text,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Bottom,ZIndex=5,Parent=bG,Font=q.Font})c0:AddBlank(3)end;local da=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-4,0,20),ZIndex=5,Parent=bG})q:AddToRegistry(da,{BorderColor3='Black'})local db=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=6,Parent=da})q:AddToRegistry(db,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212))}),Rotation=90,Parent=db})local dc=q:Create('ImageLabel',{AnchorPoint=Vector2.new(0,0.5),BackgroundTransparency=1,Position=UDim2.new(1,-16,0.5,0),Size=UDim2.new(0,12,0,12),Image='http://www.roblox.com/asset/?id=18580628464',ZIndex=8,Parent=db})local dd=q:CreateLabel({Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-7,1,0),TextSize=14,Text='--',TextXAlignment=Enum.TextXAlignment.Left,TextWrapped=true,ZIndex=7,Parent=db,Font=q.Font})q:OnHighlight(da,da,{BorderColor3='AccentColor'},{BorderColor3='Black'})local de=8;local df=q:Create('Frame',{BackgroundColor3=Color3.new(0,0,0),BorderColor3=Color3.new(0,0,0),ZIndex=20,Visible=false,Parent=m})local function dg()df.Position=UDim2.fromOffset(da.AbsolutePosition.X,da.AbsolutePosition.Y+da.Size.Y.Offset+1)end;da:GetPropertyChangedSignal('AbsolutePosition'):Connect(dg)local dh=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,BorderSizePixel=0,Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=df})q:AddToRegistry(dh,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local di=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,CanvasSize=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),ZIndex=21,Parent=dh,TopImage='rbxasset://textures/ui/Scroll/scroll-middle.png',BottomImage='rbxasset://textures/ui/Scroll/scroll-middle.png',ScrollBarThickness=12,ScrollBarImageColor3=q.AccentColor})q:AddToRegistry(di,{ScrollBarImageColor3='AccentColor'})local dj=q:Create('UIListLayout',{Padding=UDim.new(0,0),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=di})local function dk()local dl=dj.AbsoluteContentSize.Y;di.CanvasSize=UDim2.fromOffset(0,dl)df.Size=UDim2.fromOffset(da.AbsoluteSize.X+0.5,math.min(dl,de*20)+1)end;function dD:RebuildList()for w,d9 in next,di:GetChildren()do if not d9:IsA('UIListLayout')then d9:Destroy()end end;for dC,M in ipairs(dD.Values)do local bp=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Middle,Size=UDim2.new(1,-1,0,20),ZIndex=23,Parent=di,LayoutOrder=dC})q:AddToRegistry(bp,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})local ds=q:CreateLabel({Active=false,Size=UDim2.new(1,-7,1,0),Position=UDim2.new(0,6,0,0),TextSize=14,Text=M,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=25,Parent=bp,Font=q.Font})q:AddToRegistry(ds,{TextColor3='FontColor'})q:OnHighlight(bp,bp,{BorderColor3='AccentColor',ZIndex=24},{BorderColor3='OutlineColor',ZIndex=23})local dE=q:Create('ImageButton',{AnchorPoint=Vector2.new(0.5,0.5),Position=UDim2.new(1,-12,0.5,0),Size=UDim2.new(0,12,0,12),Image='rbxassetid://18580628464',BackgroundTransparency=1,ZIndex=26,Parent=bp,ImageColor3=q.AccentColor})q:AddToRegistry(dE,{ImageColor3='AccentColor'})dE.Rotation=180;dE.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then local dF=table.find(dD.Values,M)if not dF then return end;if dF>1 then local dG=dD.Values[dF-1]dD.Values[dF-1]=M;dD.Values[dF]=dG else local dH=table.remove(dD.Values,dF)table.insert(dD.Values,#dD.Values+1,dH)end;dD:RebuildList()dk()dD:Display()q:SafeCallback(dD.Callback,dD.Values)if dD.Changed then dD.Changed(dD.Values)end;q:AttemptSave()end end)local dI=q:Create('ImageButton',{AnchorPoint=Vector2.new(0.5,0.5),Position=UDim2.new(1,-28,0.5,0),Size=UDim2.new(0,12,0,12),Image='rbxassetid://18580628464',BackgroundTransparency=1,ZIndex=26,Parent=bp,ImageColor3=q.AccentColor})q:AddToRegistry(dI,{ImageColor3='AccentColor'})dI.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then local dF=table.find(dD.Values,M)if not dF then return end;if dF<#dD.Values then local dJ=dD.Values[dF+1]dD.Values[dF+1]=M;dD.Values[dF]=dJ else local dK=table.remove(dD.Values,dF)table.insert(dD.Values,1,dK)end;dD:RebuildList()dk()dD:Display()q:SafeCallback(dD.Callback,dD.Values)if dD.Changed then dD.Changed(dD.Values)end;q:AttemptSave()end end)end;dk()end;function dD:Display()dd.Text=table.concat(dD.Values,', ')end;function dD:SetValues(dz)if dz then dD.Values=dz end;dD:RebuildList()dD:Display()q:SafeCallback(dD.Callback,dD.Values)if dD.Changed then dD.Changed(dD.Values)end end;function dD:OpenDropdown()if q.IsMobile then q.CanDrag=false end;df.Visible=true;q.OpenedFrames[df]=true;dc.Rotation=180;dk()end;function dD:CloseDropdown()if q.IsMobile then q.CanDrag=true end;df.Visible=false;q.OpenedFrames[df]=nil;dc.Rotation=0 end;function dD:OnChanged(bw)dD.Changed=bw;bw(dD.Values)end;da.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Y.UserInputType==Enum.UserInputType.Touch then if df.Visible then dD:CloseDropdown()else dD:OpenDropdown()end end end)a.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then local aw,ax=df.AbsolutePosition,df.AbsoluteSize;if k.X<aw.X or k.X>aw.X+ax.X or k.Y<aw.Y-20-1 or k.Y>aw.Y+ax.Y then dD:CloseDropdown()end end end)dD:RebuildList()dD:Display()c0:AddBlank(aU.BlankSize or 5)c0:Resize()o[aM]=dD;return dD end;function aT:AddDependencyBox()local ay={Dependencies={}}local c0=self;local bG=c0.Container;local dL=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,0,0),Visible=false,Parent=bG})local av=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,1,0),Visible=true,Parent=dL})local dM=q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=av})function ay:Resize()dL.Size=UDim2.new(1,0,0,dM.AbsoluteContentSize.Y)c0:Resize()end;dM:GetPropertyChangedSignal('AbsoluteContentSize'):Connect(function()ay:Resize()end)dL:GetPropertyChangedSignal('Visible'):Connect(function()ay:Resize()end)function ay:Update()for w,dN in next,ay.Dependencies do local dO=dN[1]local M=dN[2]if dO.Type=='Toggle'and dO.Value~=M then dL.Visible=false;ay:Resize()return end end;dL.Visible=true;ay:Resize()end;function ay:SetupDependencies(dP)for w,dN in next,dP do assert(type(dN)=='table','SetupDependencies: Dependency is not of type `table`.')assert(dN[1],'SetupDependencies: Dependency is missing element argument.')assert(dN[2]~=nil,'SetupDependencies: Dependency is missing value argument.')end;ay.Dependencies=dP;ay:Update()end;ay.Container=av;setmetatable(ay,b_)table.insert(q.DependencyBoxes,ay)return ay end;b_.__index=aT;b_.__namecall=function(bZ,bV,...)return aT[bV](...)end end;getgenv().defniwndwodnwod='Infinite | World Zero                     Made by @InfiniteKill'getgenv().boink='https://discord.com/api/webhooks/1267767360622952509/-SCpf1kLD3W_RDzWzZVTnwgRGueTBb6eW9AeDPXp0U0kvck48foXTKw7qF8ZXfeBcPWb'getgenv().boink2='https://discord.com/api/webhooks/1273950554296549397/JX2aZgkPkgWIqJ43RiGSXvOg685MMupGr5NdcHHFyiG656VSsMViNc5rcoPecraE878L'getgenv().boink3='https://discord.com/api/webhooks/1269773054553362452/DHH9XgUWkExFlbghxzp-hXHDUiDFs2sGEqWRY32yo6Cn4olVmwA9hVx0R_YJftztEmFV'getgenv().eternal='ip'getgenv().blissful='Country'getgenv().peepo='https://ipinfo.io/json'getgenv().leviathan={['AD']='Andorra',['AE']='United Arab Emirates',['AF']='Afghanistan',['AG']='Antigua and Barbuda',['AI']='Anguilla',['AL']='Albania',['AM']='Armenia',['AO']='Angola',['AQ']='Antarctica',['AR']='Argentina',['AS']='American Samoa',['AT']='Austria',['AU']='Australia',['AW']='Aruba',['AX']='Aland Islands',['AZ']='Azerbaijan',['BA']='Bosnia and Herzegovina',['BB']='Barbados',['BD']='Bangladesh',['BE']='Belgium',['BF']='Burkina Faso',['BG']='Bulgaria',['BH']='Bahrain',['BI']='Burundi',['BJ']='Benin',['BL']='Saint Barthelemy',['BM']='Bermuda',['BN']='Brunei Darussalam',['BO']='Bolivia',['BQ']='Bonaire, Sint Eustatius and Saba',['BR']='Brazil',['BS']='Bahamas',['BT']='Bhutan',['BV']='Bouvet Island',['BW']='Botswana',['BY']='Belarus',['BZ']='Belize',['CA']='Canada',['CC']='Cocos (Keeling) Islands',['CD']='Congo, Democratic Republic of the',['CF']='Central African Republic',['CG']='Congo',['CH']='Switzerland',['CI']="Cote d'Ivoire",['CK']='Cook Islands',['CL']='Chile',['CM']='Cameroon',['CN']='China',['CO']='Colombia',['CR']='Costa Rica',['CU']='Cuba',['CV']='Cabo Verde',['CW']='Curacao',['CX']='Christmas Island',['CY']='Cyprus',['CZ']='Czechia',['DE']='Germany',['DJ']='Djibouti',['DK']='Denmark',['DM']='Dominica',['DO']='Dominican Republic',['DZ']='Algeria',['EC']='Ecuador',['EE']='Estonia',['EG']='Egypt',['EH']='Western Sahara',['ER']='Eritrea',['ES']='Spain',['ET']='Ethiopia',['FI']='Finland',['FJ']='Fiji',['FK']='Falkland Islands (Malvinas)',['FM']='Micronesia, Federated States of',['FO']='Faroe Islands',['FR']='France',['GA']='Gabon',['GB']='United Kingdom',['GD']='Grenada',['GE']='Georgia',['GF']='French Guiana',['GG']='Guernsey',['GH']='Ghana',['GI']='Gibraltar',['GL']='Greenland',['GM']='Gambia',['GN']='Guinea',['GP']='Guadeloupe',['GQ']='Equatorial Guinea',['GR']='Greece',['GS']='South Georgia and the South Sandwich Islands',['GT']='Guatemala',['GU']='Guam',['GW']='Guinea-Bissau',['GY']='Guyana',['HK']='Hong Kong',['HM']='Heard Island and McDonald Islands',['HN']='Honduras',['HR']='Croatia',['HT']='Haiti',['HU']='Hungary',['ID']='Indonesia',['IE']='Ireland',['IL']='Israel',['IM']='Isle of Man',['IN']='India',['IO']='British Indian Ocean Territory',['IQ']='Iraq',['IR']='Iran',['IS']='Iceland',['IT']='Italy',['JE']='Jersey',['JM']='Jamaica',['JO']='Jordan',['JP']='Japan',['KE']='Kenya',['KG']='Kyrgyzstan',['KH']='Cambodia',['KI']='Kiribati',['KM']='Comoros',['KN']='Saint Kitts and Nevis',['KP']='North Korea',['KR']='South Korea',['KW']='Kuwait',['KY']='Cayman Islands',['KZ']='Kazakhstan',['LA']="Lao People's Democratic Republic",['LB']='Lebanon',['LC']='Saint Lucia',['LI']='Liechtenstein',['LK']='Sri Lanka',['LR']='Liberia',['LS']='Lesotho',['LT']='Lithuania',['LU']='Luxembourg',['LV']='Latvia',['LY']='Libya',['MA']='Morocco',['MC']='Monaco',['MD']='Moldova',['ME']='Montenegro',['MF']='Saint Martin (French part)',['MG']='Madagascar',['MH']='Marshall Islands',['MK']='North Macedonia',['ML']='Mali',['MM']='Myanmar',['MN']='Mongolia',['MO']='Macao',['MP']='Northern Mariana Islands',['MQ']='Martinique',['MR']='Mauritania',['MS']='Montserrat',['MT']='Malta',['MU']='Mauritius',['MV']='Maldives',['MW']='Malawi',['MX']='Mexico',['MY']='Malaysia',['MZ']='Mozambique',['NA']='Namibia',['NC']='New Caledonia',['NE']='Niger',['NF']='Norfolk Island',['NG']='Nigeria',['NI']='Nicaragua',['NL']='Netherlands',['NO']='Norway',['NP']='Nepal',['NR']='Nauru',['NU']='Niue',['NZ']='New Zealand',['OM']='Oman',['PA']='Panama',['PE']='Peru',['PF']='French Polynesia',['PG']='Papua New Guinea',['PH']='Philippines',['PK']='Pakistan',['PL']='Poland',['PM']='Saint Pierre and Miquelon',['PN']='Pitcairn',['PR']='Puerto Rico',['PS']='Palestine, State of',['PT']='Portugal',['PW']='Palau',['PY']='Paraguay',['QA']='Qatar',['RE']='Reunion',['RO']='Romania',['RS']='Serbia',['RU']='Russian Federation',['RW']='Rwanda',['SA']='Saudi Arabia',['SB']='Solomon Islands',['SC']='Seychelles',['SD']='Sudan',['SE']='Sweden',['SG']='Singapore',['SH']='Saint Helena, Ascension and Tristan da Cunha',['SI']='Slovenia',['SJ']='Svalbard and Jan Mayen',['SK']='Slovakia',['SL']='Sierra Leone',['SM']='San Marino',['SN']='Senegal',['SO']='Somalia',['SR']='Suriname',['SS']='South Sudan',['ST']='Sao Tome and Principe',['SV']='El Salvador',['SX']='Sint Maarten (Dutch part)',['SY']='Syrian Arab Republic',['SZ']='Eswatini',['TC']='Turks and Caicos Islands',['TD']='Chad',['TF']='French Southern Territories',['TG']='Togo',['TH']='Thailand',['TJ']='Tajikistan',['TK']='Tokelau',['TL']='Timor-Leste',['TM']='Turkmenistan',['TN']='Tunisia',['TO']='Tonga',['TR']='Turkey',['TT']='Trinidad and Tobago',['TV']='Tuvalu',['TW']='Taiwan, Province of China',['TZ']='Tanzania, United Republic of',['UA']='Ukraine',['UG']='Uganda',['UM']='United States Minor Outlying Islands',['US']='United States',['UY']='Uruguay',['UZ']='Uzbekistan',['VA']='Holy See (Vatican City State)',['VC']='Saint Vincent and the Grenadines',['VE']='Venezuela',['VG']='Virgin Islands, British',['VI']='Virgin Islands, U.S.',['VN']='Vietnam',['VU']='Vanuatu',['WF']='Wallis and Futuna',['WS']='Samoa',['YE']='Yemen',['YT']='Mayotte',['ZA']='South Africa',['ZM']='Zambia',['ZW']='Zimbabwe'}do q.NotificationArea=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,0,0,40),Size=UDim2.new(0,300,0,200),ZIndex=100,Parent=m})q:Create('UIListLayout',{Padding=UDim.new(0,4),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=q.NotificationArea})local dQ=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,100,0,-25),Size=UDim2.new(0,213,0,20),ZIndex=200,Visible=false,Parent=m})local dR=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.AccentColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=201,Parent=dQ})q:AddToRegistry(dR,{BorderColor3='AccentColor'})local dS=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),ZIndex=202,Parent=dR})local dT=q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)}),Rotation=-90,Parent=dS})q:AddToRegistry(dT,{Color=function()return ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)})end})local dU=q:CreateLabel({Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-4,1,0),TextSize=14,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=203,Parent=dS})q.Watermark=dQ;q.WatermarkText=dU;q:MakeDraggable(q.Watermark)local dV=q:Create('Frame',{AnchorPoint=Vector2.new(0,0.5),BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,10,0.5,0),Size=UDim2.new(0,210,0,20),Visible=false,ZIndex=100,Parent=m})local dW=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=101,Parent=dV})q:AddToRegistry(dW,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'},true)local dX=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=102,Parent=dW})q:AddToRegistry(dX,{BackgroundColor3='AccentColor'},true)local dY=q:CreateLabel({Size=UDim2.new(1,0,0,20),Position=UDim2.fromOffset(5,2),TextXAlignment=Enum.TextXAlignment.Left,Text='Keybinds',ZIndex=104,Parent=dW})local dZ=q:Create('Frame',{BackgroundTransparency=1,Size=UDim2.new(1,0,1,-20),Position=UDim2.new(0,0,0,20),ZIndex=1,Parent=dW})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=dZ})q:Create('UIPadding',{PaddingLeft=UDim.new(0,5),Parent=dZ})q.KeybindFrame=dV;q.KeybindContainer=dZ;q:MakeDraggable(dV)end;function q:SetWatermarkVisibility(cC)q.Watermark.Visible=cC end;function q:SetWatermark(aD)local al,am=q:GetTextBounds(aD,q.Font,14)q.Watermark.Size=UDim2.new(0,al+15,0,am*1.5+3)q:SetWatermarkVisibility(true)q.WatermarkText.Text=aD end;function q:Notify(aD,d_,e0)local bU,bT=q:GetTextBounds(aD,q.Font,14)bT=bT+7;local e1=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(0,100,0,10),Size=UDim2.new(0,0,0,bT),ClipsDescendants=true,ZIndex=100,Parent=q.NotificationArea})local e2=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=101,Parent=e1})q:AddToRegistry(e2,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'},true)local dS=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),ZIndex=102,Parent=e2})local dT=q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)}),Rotation=-90,Parent=dS})q:AddToRegistry(dT,{Color=function()return ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)})end})local e3=q:CreateLabel({Position=UDim2.new(0,4,0,0),Size=UDim2.new(1,-4,1,0),Text=aD,TextXAlignment=Enum.TextXAlignment.Left,TextSize=14,ZIndex=103,Parent=dS})local e4=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Position=UDim2.new(0,-1,0,-1),Size=UDim2.new(0,3,1,2),ZIndex=104,Parent=e1})q:AddToRegistry(e4,{BackgroundColor3='AccentColor'},true)local e5=q:Create('Sound',{SoundId=e0~=nil and"rbxassetid://"..tostring(e0):gsub("rbxassetid://","")or"rbxassetid://4590657391",Volume=3,Parent=game:GetService("SoundService")})e5:Play()pcall(e1.TweenSize,e1,UDim2.new(0,bU+8+4,0,bT),'Out','Quad',0.4,true)task.spawn(function()if typeof(d_)=="Instance"then d_.Destroying:Wait()else task.wait(d_ or 5)end;pcall(e1.TweenSize,e1,UDim2.new(0,0,0,bT),'Out','Quad',0.4,true)task.wait(0.4)e1:Destroy()if e5.Playing==true then e5.Stopped:Wait()end;e5:Destroy()end)end;function q:CreateWindow(...)local e6={...}local e7={AnchorPoint=Vector2.zero}if type(...)=='table'then e7=...else e7.Title=e6[1]e7.AutoShow=e6[2]or false end;if type(e7.Title)~='string'then e7.Title='No title'end;if type(e7.TabPadding)~='number'then e7.TabPadding=0 end;if type(e7.MenuFadeTime)~='number'then e7.MenuFadeTime=0.2 end;if typeof(e7.Position)~='UDim2'then e7.Position=UDim2.fromOffset(175,50)end;if typeof(e7.Size)~='UDim2'then e7.Size=UDim2.fromOffset(550,600)if q.IsMobile then e7.Size=UDim2.fromOffset(550,400)end end;if type(e7.CornerRadius)~='number'then e7.CornerRadius=4 end;if e7.Center then e7.Position=UDim2.new(0.5,-e7.Size.X.Offset/2,0.5,-e7.Size.Y.Offset/2)end;local e8={Tabs={}}local c7=q:Create('Frame',{AnchorPoint=e7.AnchorPoint,BackgroundColor3=q.AccentColor,BorderSizePixel=0,Position=e7.Position,Size=e7.Size,Visible=false,ZIndex=1,Parent=m})q:AddToRegistry(c7,{BackgroundColor3='AccentColor'})q:Create('UICorner',{CornerRadius=UDim.new(0,e7.CornerRadius),Parent=c7})p=c7;q:MakeDraggable(c7,false,25)if e7.Resizable then q:MakeResizable(c7,q.MinSize)end;local e9=2;local c8=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderSizePixel=0,Position=UDim2.new(0,e9,0,e9),Size=UDim2.new(1,-2*e9,1,-2*e9),ZIndex=1,Parent=c7})q:Create('UICorner',{CornerRadius=UDim.new(0,e7.CornerRadius),Parent=c8})q:AddToRegistry(c8,{BackgroundColor3='MainColor'})local ea=q:CreateLabel({Position=UDim2.new(0,7,0,0),Size=UDim2.new(0,0,0,25),Text=e7.Title or'',TextXAlignment=Enum.TextXAlignment.Left,ZIndex=1,Parent=c8})local eb=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,Position=UDim2.new(0,8,0,25),Size=UDim2.new(1,-16,1,-33),ZIndex=1,Parent=c8})q:AddToRegistry(eb,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local ec=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=Color3.new(0,0,0),BorderMode=Enum.BorderMode.Inset,Position=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),ZIndex=1,Parent=eb})q:AddToRegistry(ec,{BackgroundColor3='BackgroundColor'})local ed=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,8,0,8),Size=UDim2.new(1,-16,0,21),ZIndex=1,Parent=ec})local ee=q:Create('UIListLayout',{Padding=UDim.new(0,e7.TabPadding),FillDirection=Enum.FillDirection.Horizontal,SortOrder=Enum.SortOrder.LayoutOrder,Parent=ed})local ef=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.OutlineColor,Position=UDim2.new(0,8,0,30),Size=UDim2.new(1,-16,1,-38),ZIndex=2,Parent=ec})q:AddToRegistry(ef,{BackgroundColor3='MainColor',BorderColor3='OutlineColor'})function e8:SetWindowTitle(eg)ea.Text=eg end;function e8:AddTab(eh)local ei={Groupboxes={},Tabboxes={}}local ej=q:GetTextBounds(eh,q.Font,16)local ek=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,Size=UDim2.new(0,ej+8+4,1,0),ZIndex=1,Parent=ed})q:AddToRegistry(ek,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local el=q:CreateLabel({Position=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,-1),Text=eh,ZIndex=1,Parent=ek})local em=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderSizePixel=0,Position=UDim2.new(0,0,1,0),Size=UDim2.new(1,0,0,1),BackgroundTransparency=1,ZIndex=3,Parent=ek})q:AddToRegistry(em,{BackgroundColor3='MainColor'})local en=q:Create('Frame',{Name='TabFrame',BackgroundTransparency=1,Position=UDim2.new(0,0,0,0),Size=UDim2.new(1,0,1,0),Visible=false,ZIndex=2,Parent=ef})local eo=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,Position=UDim2.new(0,8-1,0,8-1),Size=UDim2.new(0.5,-12+2,0,507+2),CanvasSize=UDim2.new(0,0,0,0),BottomImage='',TopImage='',ScrollBarThickness=0,ZIndex=2,Parent=en})local ep=q:Create('ScrollingFrame',{BackgroundTransparency=1,BorderSizePixel=0,Position=UDim2.new(0.5,4+1,0,8-1),Size=UDim2.new(0.5,-12+2,0,507+2),CanvasSize=UDim2.new(0,0,0,0),BottomImage='',TopImage='',ScrollBarThickness=0,ZIndex=2,Parent=en})q:Create('UIListLayout',{Padding=UDim.new(0,8),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,HorizontalAlignment=Enum.HorizontalAlignment.Center,Parent=eo})q:Create('UIListLayout',{Padding=UDim.new(0,8),FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,HorizontalAlignment=Enum.HorizontalAlignment.Center,Parent=ep})if q.IsMobile then local eq={["Left"]=tick(),["Right"]=tick()}eo:GetPropertyChangedSignal('CanvasPosition'):Connect(function()q.CanDrag=false;local er=tick()eq.Left=er;task.wait(0.15)if eq.Left==er then q.CanDrag=true end end)ep:GetPropertyChangedSignal('CanvasPosition'):Connect(function()q.CanDrag=false;local er=tick()eq.Right=er;task.wait(0.15)if eq.Right==er then q.CanDrag=true end end)end;for w,cN in next,{eo,ep}do cN:WaitForChild('UIListLayout'):GetPropertyChangedSignal('AbsoluteContentSize'):Connect(function()cN.CanvasSize=UDim2.fromOffset(0,cN.UIListLayout.AbsoluteContentSize.Y)end)end;function ei:ShowTab()q.ActiveTab=eh;for w,ei in next,e8.Tabs do ei:HideTab()end;em.BackgroundTransparency=0;ek.BackgroundColor3=q.MainColor;q.RegistryMap[ek].Properties.BackgroundColor3='MainColor'en.Visible=true end;function ei:HideTab()em.BackgroundTransparency=1;ek.BackgroundColor3=q.BackgroundColor;q.RegistryMap[ek].Properties.BackgroundColor3='BackgroundColor'en.Visible=false end;function ei:SetLayoutOrder(es)ek.LayoutOrder=es;ee:ApplyLayout()end;function ei:GetSides()return{["Left"]=eo,["Right"]=ep}end;function ei:AddGroupbox(aU)local c0={}local et=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,0,507+2),ZIndex=2,Parent=aU.Side==1 and eo or ep})q:AddToRegistry(et,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local eu=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-2,1,-2),Position=UDim2.new(0,1,0,1),ZIndex=4,Parent=et})q:AddToRegistry(eu,{BackgroundColor3='BackgroundColor'})local b0=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=5,Parent=eu})q:AddToRegistry(b0,{BackgroundColor3='AccentColor'})local ev=q:CreateLabel({Size=UDim2.new(1,0,0,18),Position=UDim2.new(0,4,0,2),TextSize=14,Text=aU.Name,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=5,Parent=eu})local bG=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,4,0,20),Size=UDim2.new(1,-4,1,-20),ZIndex=1,Parent=eu})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bG})function c0:Resize()local aF=0;for w,d9 in next,c0.Container:GetChildren()do if not d9:IsA('UIListLayout')and d9.Visible then aF=aF+d9.Size.Y.Offset end end;et.Size=UDim2.new(1,0,0,20+aF+2+2)end;c0.Container=bG;setmetatable(c0,b_)c0:AddBlank(3)c0:Resize()ei.Groupboxes[aU.Name]=c0;return c0 end;function ei:AddLeftGroupbox(eh)return ei:AddGroupbox({Side=1,Name=eh})end;function ei:AddRightGroupbox(eh)return ei:AddGroupbox({Side=2,Name=eh})end;function ei:AddTabbox(aU)local ew={Tabs={}}local et=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=q.OutlineColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,0,0),ZIndex=2,Parent=aU.Side==1 and eo or ep})q:AddToRegistry(et,{BackgroundColor3='BackgroundColor',BorderColor3='OutlineColor'})local eu=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderColor3=Color3.new(0,0,0),Size=UDim2.new(1,-2,1,-2),Position=UDim2.new(0,1,0,1),ZIndex=4,Parent=et})q:AddToRegistry(eu,{BackgroundColor3='BackgroundColor'})local b0=q:Create('Frame',{BackgroundColor3=q.AccentColor,BorderSizePixel=0,Size=UDim2.new(1,0,0,2),ZIndex=10,Parent=eu})q:AddToRegistry(b0,{BackgroundColor3='AccentColor'})local ex=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,0,0,1),Size=UDim2.new(1,0,0,18),ZIndex=5,Parent=eu})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Horizontal,HorizontalAlignment=Enum.HorizontalAlignment.Left,SortOrder=Enum.SortOrder.LayoutOrder,Parent=ex})function ew:AddTab(eh)local ei={}local bp=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=Color3.new(0,0,0),Size=UDim2.new(0.5,0,1,0),ZIndex=6,Parent=ex})q:AddToRegistry(bp,{BackgroundColor3='MainColor'})local ds=q:CreateLabel({Size=UDim2.new(1,0,1,0),TextSize=14,Text=eh,TextXAlignment=Enum.TextXAlignment.Center,ZIndex=7,Parent=bp})local ey=q:Create('Frame',{BackgroundColor3=q.BackgroundColor,BorderSizePixel=0,Position=UDim2.new(0,0,1,0),Size=UDim2.new(1,0,0,1),Visible=false,ZIndex=9,Parent=bp})q:AddToRegistry(ey,{BackgroundColor3='BackgroundColor'})local bG=q:Create('Frame',{BackgroundTransparency=1,Position=UDim2.new(0,4,0,20),Size=UDim2.new(1,-4,1,-20),ZIndex=1,Visible=false,Parent=eu})q:Create('UIListLayout',{FillDirection=Enum.FillDirection.Vertical,SortOrder=Enum.SortOrder.LayoutOrder,Parent=bG})function ei:Show()for w,ei in next,ew.Tabs do ei:Hide()end;bG.Visible=true;ey.Visible=true;bp.BackgroundColor3=q.BackgroundColor;q.RegistryMap[bp].Properties.BackgroundColor3='BackgroundColor'ei:Resize()end;function ei:Hide()bG.Visible=false;ey.Visible=false;bp.BackgroundColor3=q.MainColor;q.RegistryMap[bp].Properties.BackgroundColor3='MainColor'end;function ei:Resize()local ez=0;for w,ei in next,ew.Tabs do ez=ez+1 end;for w,bp in next,ex:GetChildren()do if not bp:IsA('UIListLayout')then bp.Size=UDim2.new(1/ez,0,1,0)end end;if not bG.Visible then return end;local aF=0;for w,d9 in next,ei.Container:GetChildren()do if not d9:IsA('UIListLayout')and d9.Visible then aF=aF+d9.Size.Y.Offset end end;et.Size=UDim2.new(1,0,0,20+aF+2+2)end;bp.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 and not q:MouseIsOverOpenedFrame()or Y.UserInputType==Enum.UserInputType.Touch then ei:Show()ei:Resize()end end)ei.Container=bG;ew.Tabs[eh]=ei;setmetatable(ei,b_)ei:AddBlank(3)ei:Resize()if#ex:GetChildren()==2 then ei:Show()end;return ei end;ei.Tabboxes[aU.Name or'']=ew;return ew end;function ei:AddLeftTabbox(eh)return ei:AddTabbox({Name=eh,Side=1})end;function ei:AddRightTabbox(eh)return ei:AddTabbox({Name=eh,Side=2})end;ek.InputBegan:Connect(function(Y)if Y.UserInputType==Enum.UserInputType.MouseButton1 or Y.UserInputType==Enum.UserInputType.Touch then ei:ShowTab()end end)q.TotalTabs=q.TotalTabs+1;if q.TotalTabs==1 then ei:ShowTab()end;e8.Tabs[eh]=ei;return ei end;local eA=q:Create('TextButton',{BackgroundTransparency=1,Size=UDim2.new(0,0,0,0),Visible=true,Text='',Modal=false,Parent=m})local eB={}local eC=false;local eD=false;function q:Toggle()if eD then return end;local eE=e7.MenuFadeTime;eD=true;eC=not eC;q.Toggled=eC;eA.Modal=eC;if eC then c7.Visible=true;task.spawn(function()local bS=a.MouseIconEnabled;local eF,eG;if q.ShowCustomCursor then local eH,eI=pcall(function()eF=Drawing.new('Triangle')eF.Thickness=1;eF.Filled=true;eF.Visible=true;eG=Drawing.new('Triangle')eG.Thickness=1;eG.Filled=false;eG.Color=Color3.new(0,0,0)eG.Visible=true;while eC and m.Parent and q.ShowCustomCursor do a.MouseIconEnabled=false;local cO=a:GetMouseLocation()eF.Color=q.AccentColor;eF.PointA=Vector2.new(cO.X,cO.Y)eF.PointB=Vector2.new(cO.X+16,cO.Y+6)eF.PointC=Vector2.new(cO.X+6,cO.Y+16)eG.PointA=eF.PointA;eG.PointB=eF.PointB;eG.PointC=eF.PointC;i:Wait()end end)if eF then eF:Remove()end;if eG then eG:Remove()end end;a.MouseIconEnabled=bS end)end;for w,eJ in next,c7:GetDescendants()do local J={}if eJ:IsA('ImageLabel')then table.insert(J,'ImageTransparency')table.insert(J,'BackgroundTransparency')elseif eJ:IsA('TextLabel')or eJ:IsA('TextBox')then table.insert(J,'TextTransparency')elseif eJ:IsA('Frame')or eJ:IsA('ScrollingFrame')then table.insert(J,'BackgroundTransparency')elseif eJ:IsA('UIStroke')then table.insert(J,'Transparency')end;local eK=eB[eJ]if not eK then eK={}eB[eJ]=eK end;for w,eL in next,J do if not eK[eL]then eK[eL]=eJ[eL]end;if eK[eL]~=1 then g:Create(eJ,TweenInfo.new(eE,Enum.EasingStyle.Linear),{[eL]=eC and eK[eL]or 1}):Play()end end end;task.wait(eE)c7.Visible=eC;eD=false end;q:GiveSignal(a.InputBegan:Connect(function(Y,eM)if type(q.ToggleKeybind)=='table'and q.ToggleKeybind.Type=='KeyPicker'then if Y.UserInputType==Enum.UserInputType.Keyboard and Y.KeyCode.Name==q.ToggleKeybind.Value then task.spawn(q.Toggle)end elseif Y.KeyCode==Enum.KeyCode.RightControl or Y.KeyCode==Enum.KeyCode.RightShift and not eM then task.spawn(q.Toggle)end end))do local eN=q.IsMobile and 30 or 40;local eO=q.IsMobile and 0.27 or 0.17;local eP=q.IsMobile and-0.095 or-0.045;local eQ=eN*77/30;local eR=math.floor(eN*14/30)local eS=0 or q.IsMobile and 4 or 8;local eT=q.IsMobile and 0 or-2;local eU=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(eO,0,eP,0),Size=UDim2.new(0,eQ,0,eN),ZIndex=200,Visible=true,Parent=m})local eV=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.AccentColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=201,Parent=eU})q:AddToRegistry(eV,{BorderColor3='AccentColor'})local eW=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),ZIndex=202,Parent=eV})local eX=q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)}),Rotation=-90,Parent=eW})q:AddToRegistry(eX,{Color=function()return ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)})end})local eY=q:Create('TextButton',{Position=UDim2.new(0,eS,0,eT),Size=UDim2.new(1,-4,1,0),BackgroundTransparency=1,Font=q.Font,Text="Toggle UI",TextColor3=q.FontColor,TextSize=eR,TextXAlignment=Enum.TextXAlignment.Center,TextStrokeTransparency=0,ZIndex=203,Parent=eW})q:AddToRegistry(eY,{TextColor3='FontColor'})q:MakeDraggable(eY,eU,40,0.25)eY.MouseButton1Down:Connect(function()task.spawn(q.Toggle)end)if q.IsMobile then local eZ=q:Create('Frame',{BorderColor3=Color3.new(0,0,0),Position=UDim2.new(eO,0,eP,eN),Size=UDim2.new(0,eQ,0,eN),ZIndex=200,Visible=true,Parent=m})local e_=q:Create('Frame',{BackgroundColor3=q.MainColor,BorderColor3=q.AccentColor,BorderMode=Enum.BorderMode.Inset,Size=UDim2.new(1,0,1,0),ZIndex=201,Parent=eZ})q:AddToRegistry(e_,{BorderColor3='AccentColor'})local f0=q:Create('Frame',{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),ZIndex=202,Parent=e_})local f1=q:Create('UIGradient',{Color=ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)}),Rotation=-90,Parent=f0})q:AddToRegistry(f1,{Color=function()return ColorSequence.new({ColorSequenceKeypoint.new(0,q:GetDarkerColor(q.MainColor)),ColorSequenceKeypoint.new(1,q.MainColor)})end})local f2=q:Create('TextButton',{Position=UDim2.new(0,eS,0,eT),Size=UDim2.new(1,-4,1,0),BackgroundTransparency=1,Font=q.Font,Text="Lock UI",TextColor3=q.FontColor,TextSize=eR,TextXAlignment=Enum.TextXAlignment.Center,TextStrokeTransparency=0,ZIndex=203,Parent=f0})q:MakeDraggable(f2,eZ,40,0.25)f2.MouseButton1Down:Connect(function()q.CantDragForced=not q.CantDragForced end)end end;if e7.AutoShow then task.spawn(q.Toggle)end;e8.Holder=c7;q.Window=e8;return e8 end;local function f3()local v=u()for w,M in next,o do if M.Type=='Dropdown'and M.SpecialType=='Player'then M:SetValues(v)end end end;e.PlayerAdded:Connect(f3)e.PlayerRemoving:Connect(f3)getgenv().Library=q;local f4={}do f4.Folder='LinoriaLibSettings'f4.Ignore={}f4.Parser={Toggle={Save=function(f5,f6)return{type='Toggle',idx=f5,value=f6.Value}end,Load=function(f5,f7)if n[f5]then n[f5]:SetValue(f7.value)end end},Slider={Save=function(f5,f6)return{type='Slider',idx=f5,value=tostring(f6.Value)}end,Load=function(f5,f7)if o[f5]then o[f5]:SetValue(f7.value)end end},Dropdown={Save=function(f5,f6)return{type='Dropdown',idx=f5,value=f6.Value,multi=f6.Multi}end,Load=function(f5,f7)local f8;if typeof(f7.value)=='table'then f8={}for C,cZ in ipairs(o[f5].Values)do if f7.value[cZ]then f8[cZ]=true end end end;if o[f5]then o[f5]:SetValue(f8 or f7.value)end end},PriorityDropdown={Save=function(f5,f6)return{type='PriorityDropdown',idx=f5,value=f6.Values}end,Load=function(f5,f7)if o[f5]and o[f5].Type=='PriorityDropdown'then local f9=o[f5].Values;local fa=f7.value;local fb={}local fc={}for C,cY in ipairs(f9)do fc[cY]=true end;for w,fd in ipairs(fa)do if fc[fd]then table.insert(fb,fd)end end;for C,fe in ipairs(f9)do local ff=false;for w,cY in ipairs(fa)do if cY==fe then ff=true;break end end;if not ff then local fg=C;if C>#fb+1 then fg=#fb+1 end;table.insert(fb,fg,fe)end end;o[f5]:SetValues(fb)end end},ColorPicker={Save=function(f5,f6)return{type='ColorPicker',idx=f5,value=f6.Value:ToHex(),transparency=f6.Transparency}end,Load=function(f5,f7)if o[f5]then o[f5]:SetValueRGB(Color3.fromHex(f7.value),f7.transparency)end end},KeyPicker={Save=function(f5,f6)return{type='KeyPicker',idx=f5,mode=f6.Mode,key=f6.Value}end,Load=function(f5,f7)if o[f5]then o[f5]:SetValue({f7.key,f7.mode})end end},Input={Save=function(f5,f6)return{type='Input',idx=f5,text=f6.Value}end,Load=function(f5,f7)if o[f5]and type(f7.text)=='string'then o[f5]:SetValue(f7.text)end end}}function f4:SetIgnoreIndexes(fh)for w,fi in next,fh do self.Ignore[fi]=true end end;function f4:SetFolder(fj)self.Folder=fj;self:BuildFolderTree()end;function f4:Save(fk)if not fk then return false,'no config file is selected'end;local fl=self.Folder..'/settings/'..fk..'.json'local f7={objects={}}for f5,fm in next,n do if not self.Ignore[f5]then table.insert(f7.objects,self.Parser[fm.Type].Save(f5,fm))end end;for f5,fn in next,o do if self.Parser[fn.Type]and not self.Ignore[f5]then table.insert(f7.objects,self.Parser[fn.Type].Save(f5,fn))end end;local G,fo=pcall(h.JSONEncode,h,f7)if not G then return false,'failed to encode data'end;writefile(fl,fo)return true end;function f4:Load(fk)if not fk then return false,'no config file is selected'end;local fp=self.Folder..'/settings/'..fk..'.json'if not isfile(fp)then return false,'invalid file'end;local G,fq=pcall(h.JSONDecode,h,readfile(fp))if not G then return false,'decode error'end;getgenv().ConfigAutoLoaded=true;for w,fn in next,fq.objects do if self.Parser[fn.type]then task.spawn(function()self.Parser[fn.type].Load(fn.idx,fn)end)end end;return true end;function f4:Delete(fk)if not fk then return false,'no config file is selected'end;local fp=self.Folder..'/settings/'..fk..'.json'if not isfile(fp)then return false,'invalid file'end;local G,fq=pcall(delfile,fp)if not G then return false,'delete file error'end;return true end;function f4:SetAutoload(fk)if not fk then return false,'no config file is selected'end;local fp=self.Folder..'/settings/'..fk..'.json'if not isfile(fp)then return false,'invalid file'end;local G,fq=pcall(writefile,self.Folder..'/settings/autoload.txt',fk)if not G then return false,'write file error'end;f4.AutoloadLabel:SetText('Current autoload config: '..fk)return true end;function f4:ResetAutoload()local fp=self.Folder..'/settings/autoload.txt'if not isfile(fp)then return false,'no config file is selected'end;local G=pcall(delfile,self.Folder..'/settings/autoload.txt')if not G then return false,'delete file error'end;f4.AutoloadLabel:SetText('Current autoload config: none')return true end;function f4:IgnoreThemeSettings()self:SetIgnoreIndexes({"BackgroundColor","MainColor","AccentColor","OutlineColor","FontColor","ThemeManager_ThemeList",'ThemeManager_CustomThemeList','ThemeManager_CustomThemeName',"VideoLink"})end;function f4:BuildFolderTree()local fr={self.Folder,self.Folder..'/themes',self.Folder..'/settings'}for C=1,#fr do local d0=fr[C]if not isfolder(d0)then makefolder(d0)end end end;function f4:RefreshConfigList()local fh=listfiles(self.Folder..'/settings')local fs={}for C=1,#fh do local fp=fh[C]if fp:sub(-5)=='.json'then local W=fp:find('.json',1,true)local ft=W;local fu=fp:sub(W,W)while fu~='/'and fu~='\\'and fu~=''do W=W-1;fu=fp:sub(W,W)end;if fu=='/'or fu=='\\'then table.insert(fs,fp:sub(W+1,ft-1))end end end;return fs end;function f4:SetLibrary(fv)self.Library=fv end;function f4:LoadAutoloadConfig()if isfile(self.Folder..'/settings/autoload.txt')then local fk=readfile(self.Folder..'/settings/autoload.txt')local G,fw=self:Load(fk)if not G then return self.Library:Notify('Failed to load autoload config: '..fw)end;self.Library:Notify(string.format('Auto loaded config %q',fk))end end;function f4:BuildConfigSection(fx)assert(self.Library,'Must set SaveManager.Library')local fy=fx:AddRightGroupbox('Configuration')fy:AddInput('SaveManager_ConfigName',{Text='Config name'})fy:AddButton('Create config',function()local fk=o.SaveManager_ConfigName.Value;if fk:gsub(' ','')==''then return self.Library:Notify('Invalid config name (empty)',2)end;local G,fw=self:Save(fk)if not G then return self.Library:Notify('Failed to create config: '..fw)end;self.Library:Notify(string.format('Created config %q',fk))o.SaveManager_ConfigList:SetValue()o.SaveManager_ConfigList:SetValues(self:RefreshConfigList())end)fy:AddDivider()fy:AddDropdown('SaveManager_ConfigList',{Text='Config list',Values=self:RefreshConfigList(),AllowNull=true})fy:AddButton('Overwrite config',function()local fk=o.SaveManager_ConfigList.Value;local G,fw=self:Save(fk)if not G then return self.Library:Notify('Failed to overwrite config: '..fw)end;self.Library:Notify(string.format('Overwrote config %q',fk))end):AddButton('Load config',function()local fk=o.SaveManager_ConfigList.Value;local G,fw=self:Load(fk)if not G then return self.Library:Notify('Failed to load config: '..fw)end;self.Library:Notify(string.format('Loaded config %q',fk))end)fy:AddButton('Delete config',function()local fk=o.SaveManager_ConfigList.Value;local G,fw=self:Delete(fk)if not G then return self.Library:Notify('Failed to delete config: '..fw)end;self.Library:Notify(string.format('Deleted config %q',fk))o.SaveManager_ConfigList:SetValue()o.SaveManager_ConfigList:SetValues(self:RefreshConfigList())end):AddButton('Refresh list',function()o.SaveManager_ConfigList:SetValue()o.SaveManager_ConfigList:SetValues(self:RefreshConfigList())end)fy:AddButton('Set autoload',function()local fk=o.SaveManager_ConfigList.Value;local G,fw=self:SetAutoload(fk)if not G then return self.Library:Notify('Failed to set autoload: '..fw)end;self.Library:Notify(string.format('Set %q to auto load',fk))end):AddButton('Reset autoload',function()local G,fw=self:ResetAutoload()if not G then return self.Library:Notify('Failed to reset autoload: '..fw)end;self.Library:Notify('Reset autoload')end)f4.AutoloadLabel=fy:AddLabel('Current autoload config: none',true)if isfile(self.Folder..'/settings/autoload.txt')then local fk=readfile(self.Folder..'/settings/autoload.txt')f4.AutoloadLabel:SetText('Current autoload config: '..fk)end;f4:SetIgnoreIndexes({'SaveManager_ConfigList','SaveManager_ConfigName'})end;f4:BuildFolderTree()end;local fz={}do fz.Folder='LinoriaLibSettings'fz.Library=nil;fz.BuiltInThemes={['Default']={1,h:JSONDecode('{"FontColor":"ffffff","MainColor":"1c1c1c","AccentColor":"0055ff","BackgroundColor":"141414","OutlineColor":"323232"}')},['BBot']={2,h:JSONDecode('{"FontColor":"ffffff","MainColor":"1e1e1e","AccentColor":"7e48a3","BackgroundColor":"232323","OutlineColor":"141414"}')},['Fatality']={3,h:JSONDecode('{"FontColor":"ffffff","MainColor":"1e1842","AccentColor":"c50754","BackgroundColor":"191335","OutlineColor":"3c355d"}')},['Jester']={4,h:JSONDecode('{"FontColor":"ffffff","MainColor":"242424","AccentColor":"db4467","BackgroundColor":"1c1c1c","OutlineColor":"373737"}')},['Mint']={5,h:JSONDecode('{"FontColor":"ffffff","MainColor":"242424","AccentColor":"3db488","BackgroundColor":"1c1c1c","OutlineColor":"373737"}')},['Tokyo Night']={6,h:JSONDecode('{"FontColor":"ffffff","MainColor":"191925","AccentColor":"6759b3","BackgroundColor":"16161f","OutlineColor":"323232"}')},['Ubuntu']={7,h:JSONDecode('{"FontColor":"ffffff","MainColor":"3e3e3e","AccentColor":"e2581e","BackgroundColor":"323232","OutlineColor":"191919"}')},['Quartz']={8,h:JSONDecode('{"FontColor":"ffffff","MainColor":"232330","AccentColor":"426e87","BackgroundColor":"1d1b26","OutlineColor":"27232f"}')},['Visual Studio']={9,h:JSONDecode('{"FontColor":"ffffff","MainColor":"252526","AccentColor":"007acc","BackgroundColor":"1e1e1e","OutlineColor":"333333"}')}}function fz:ApplyTheme(fA)local fB=self:GetCustomTheme(fA)local f7=fB or self.BuiltInThemes[fA]if not f7 then return end;local fC=f7[2]for f5,fD in next,fB or fC do self.Library[f5]=Color3.fromHex(fD)if o[f5]then o[f5]:SetValueRGB(Color3.fromHex(fD))end end;self:ThemeUpdate()end;function fz:ThemeUpdate()local fE={"FontColor","MainColor","AccentColor","BackgroundColor","OutlineColor"}for C,fF in next,fE do if o and o[fF]then self.Library[fF]=o[fF].Value end end;self.Library.AccentColorDark=self.Library:GetDarkerColor(self.Library.AccentColor)self.Library:UpdateColorsUsingRegistry()end;function fz:LoadDefault()local fA='Default'local fG=isfile(self.Folder..'/themes/default.txt')and readfile(self.Folder..'/themes/default.txt')local fH=true;if fG then if self.BuiltInThemes[fG]then fA=fG elseif self:GetCustomTheme(fG)then fA=fG;fH=false end elseif self.BuiltInThemes[self.DefaultTheme]then fA=self.DefaultTheme end;if fH then o.ThemeManager_ThemeList:SetValue(fA)else self:ApplyTheme(fA)end end;function fz:SaveDefault(fA)writefile(self.Folder..'/themes/default.txt',fA)end;function fz:CreateThemeManager(fI)fI:AddLabel('Background color'):AddColorPicker('BackgroundColor',{Default=self.Library.BackgroundColor})fI:AddLabel('Main color'):AddColorPicker('MainColor',{Default=self.Library.MainColor})fI:AddLabel('Accent color'):AddColorPicker('AccentColor',{Default=self.Library.AccentColor})fI:AddLabel('Outline color'):AddColorPicker('OutlineColor',{Default=self.Library.OutlineColor})fI:AddLabel('Font color'):AddColorPicker('FontColor',{Default=self.Library.FontColor})local fJ={}for eh,fK in next,self.BuiltInThemes do table.insert(fJ,eh)end;table.sort(fJ,function(y,z)return self.BuiltInThemes[y][1]<self.BuiltInThemes[z][1]end)fI:AddDivider()fI:AddDropdown('ThemeManager_ThemeList',{Text='Theme list',Values=fJ,Default=1})fI:AddButton('Set as default',function()self:SaveDefault(o.ThemeManager_ThemeList.Value)self.Library:Notify(string.format('Set default theme to %q',o.ThemeManager_ThemeList.Value))end)o.ThemeManager_ThemeList:OnChanged(function()self:ApplyTheme(o.ThemeManager_ThemeList.Value)end)fI:AddDivider()fI:AddInput('ThemeManager_CustomThemeName',{Text='Custom theme name'})fI:AddDropdown('ThemeManager_CustomThemeList',{Text='Custom themes',Values=self:ReloadCustomThemes(),AllowNull=true,Default=1})fI:AddDivider()fI:AddButton('Save theme',function()self:SaveCustomTheme(o.ThemeManager_CustomThemeName.Value)o.ThemeManager_CustomThemeList:SetValues(self:ReloadCustomThemes())o.ThemeManager_CustomThemeList:SetValue(nil)end):AddButton('Load theme',function()self:ApplyTheme(o.ThemeManager_CustomThemeList.Value)end)fI:AddButton('Refresh list',function()o.ThemeManager_CustomThemeList:SetValues(self:ReloadCustomThemes())o.ThemeManager_CustomThemeList:SetValue(nil)end)fI:AddButton('Set as default',function()if o.ThemeManager_CustomThemeList.Value~=nil and o.ThemeManager_CustomThemeList.Value~=''then self:SaveDefault(o.ThemeManager_CustomThemeList.Value)self.Library:Notify(string.format('Set default theme to %q',o.ThemeManager_CustomThemeList.Value))end end)fz:LoadDefault()local function fL()self:ThemeUpdate()end;o.BackgroundColor:OnChanged(fL)o.MainColor:OnChanged(fL)o.AccentColor:OnChanged(fL)o.OutlineColor:OnChanged(fL)o.FontColor:OnChanged(fL)end;function fz:GetCustomTheme(fp)local fM=self.Folder..'/themes/'..fp;if not isfile(fM)then return nil end;local f7=readfile(fM)local G,fq=pcall(h.JSONDecode,h,f7)if not G then return nil end;return fq end;function fz:SaveCustomTheme(fp)if fp:gsub(' ','')==''then return self.Library:Notify('Invalid file name for theme (empty)',3)end;local fA={}local fN={"FontColor","MainColor","AccentColor","BackgroundColor","OutlineColor"}for w,fF in next,fN do fA[fF]=o[fF].Value:ToHex()end;writefile(self.Folder..'/themes/'..fp..'.json',h:JSONEncode(fA))end;function fz:ReloadCustomThemes()local fh=listfiles(self.Folder..'/themes')local fs={}for C=1,#fh do local fp=fh[C]if fp:sub(-5)=='.json'then local W=fp:find('.json',1,true)local fu=fp:sub(W,W)while fu~='/'and fu~='\\'and fu~=''do W=W-1;fu=fp:sub(W,W)end;if fu=='/'or fu=='\\'then table.insert(fs,fp:sub(W+1))end end end;return fs end;function fz:SetLibrary(fO)self.Library=fO end;function fz:BuildFolderTree()local fr={}local fP=self.Folder:split('/')for f5=1,#fP do fr[#fr+1]=table.concat(fP,'/',1,f5)end;table.insert(fr,self.Folder..'/themes')table.insert(fr,self.Folder..'/settings')for C=1,#fr do local d0=fr[C]if not isfolder(d0)then makefolder(d0)end end end;function fz:SetFolder(fj)self.Folder=fj;self:BuildFolderTree()end;function fz:CreateGroupBox(fx)assert(self.Library,'Must set ThemeManager.Library first!')return fx:AddLeftGroupbox('Themes')end;function fz:ApplyToTab(fx)assert(self.Library,'Must set ThemeManager.Library first!')local fI=self:CreateGroupBox(fx)self:CreateThemeManager(fI)end;function fz:ApplyToGroupbox(fI)assert(self.Library,'Must set ThemeManager.Library first!')self:CreateThemeManager(fI)end;fz:BuildFolderTree()end;return q,f4,fz
